var Un=a=>{throw TypeError(a)};var Dn=(a,s,o)=>s.has(a)||Un("Cannot "+o);var Jt=(a,s,o)=>(Dn(a,s,"read from private field"),o?o.call(a):s.get(a)),_r=(a,s,o)=>s.has(a)?Un("Cannot add the same private member more than once"):s instanceof WeakSet?s.add(a):s.set(a,o),vr=(a,s,o,c)=>(Dn(a,s,"write to private field"),c?c.call(a,o):s.set(a,o),o),Mr=(a,s,o)=>(Dn(a,s,"access private method"),o);var Cn=(a,s,o,c)=>({set _(d){vr(a,s,d,o)},get _(){return Jt(a,s,c)}});function _mergeNamespaces(a,s){for(var o=0;o<s.length;o++){const c=s[o];if(typeof c!="string"&&!Array.isArray(c)){for(const d in c)if(d!=="default"&&!(d in a)){const h=Object.getOwnPropertyDescriptor(c,d);h&&Object.defineProperty(a,d,h.get?h:{enumerable:!0,get:()=>c[d]})}}}return Object.freeze(Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}))}(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))c(d);new MutationObserver(d=>{for(const h of d)if(h.type==="childList")for(const g of h.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&c(g)}).observe(document,{childList:!0,subtree:!0});function o(d){const h={};return d.integrity&&(h.integrity=d.integrity),d.referrerPolicy&&(h.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?h.credentials="include":d.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function c(d){if(d.ep)return;d.ep=!0;const h=o(d);fetch(d.href,h)}})();function getDefaultExportFromCjs(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$1=Symbol.for("react.element"),n$1=Symbol.for("react.portal"),p$2=Symbol.for("react.fragment"),q$1=Symbol.for("react.strict_mode"),r$1=Symbol.for("react.profiler"),t=Symbol.for("react.provider"),u=Symbol.for("react.context"),v$2=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),z$1=Symbol.iterator;function A$1(a){return a===null||typeof a!="object"?null:(a=z$1&&a[z$1]||a["@@iterator"],typeof a=="function"?a:null)}var B$1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$1=Object.assign,D$2={};function E$3(a,s,o){this.props=a,this.context=s,this.refs=D$2,this.updater=o||B$1}E$3.prototype.isReactComponent={};E$3.prototype.setState=function(a,s){if(typeof a!="object"&&typeof a!="function"&&a!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,a,s,"setState")};E$3.prototype.forceUpdate=function(a){this.updater.enqueueForceUpdate(this,a,"forceUpdate")};function F(){}F.prototype=E$3.prototype;function G$1(a,s,o){this.props=a,this.context=s,this.refs=D$2,this.updater=o||B$1}var H$1=G$1.prototype=new F;H$1.constructor=G$1;C$1(H$1,E$3.prototype);H$1.isPureReactComponent=!0;var I$1=Array.isArray,J=Object.prototype.hasOwnProperty,K$1={current:null},L$2={key:!0,ref:!0,__self:!0,__source:!0};function M$1(a,s,o){var c,d={},h=null,g=null;if(s!=null)for(c in s.ref!==void 0&&(g=s.ref),s.key!==void 0&&(h=""+s.key),s)J.call(s,c)&&!L$2.hasOwnProperty(c)&&(d[c]=s[c]);var b=arguments.length-2;if(b===1)d.children=o;else if(1<b){for(var _=Array(b),$=0;$<b;$++)_[$]=arguments[$+2];d.children=_}if(a&&a.defaultProps)for(c in b=a.defaultProps,b)d[c]===void 0&&(d[c]=b[c]);return{$$typeof:l$1,type:a,key:h,ref:g,props:d,_owner:K$1.current}}function N$1(a,s){return{$$typeof:l$1,type:a.type,key:s,ref:a.ref,props:a.props,_owner:a._owner}}function O$1(a){return typeof a=="object"&&a!==null&&a.$$typeof===l$1}function escape(a){var s={"=":"=0",":":"=2"};return"$"+a.replace(/[=:]/g,function(o){return s[o]})}var P$2=/\/+/g;function Q$1(a,s){return typeof a=="object"&&a!==null&&a.key!=null?escape(""+a.key):s.toString(36)}function R$2(a,s,o,c,d){var h=typeof a;(h==="undefined"||h==="boolean")&&(a=null);var g=!1;if(a===null)g=!0;else switch(h){case"string":case"number":g=!0;break;case"object":switch(a.$$typeof){case l$1:case n$1:g=!0}}if(g)return g=a,d=d(g),a=c===""?"."+Q$1(g,0):c,I$1(d)?(o="",a!=null&&(o=a.replace(P$2,"$&/")+"/"),R$2(d,s,o,"",function($){return $})):d!=null&&(O$1(d)&&(d=N$1(d,o+(!d.key||g&&g.key===d.key?"":(""+d.key).replace(P$2,"$&/")+"/")+a)),s.push(d)),1;if(g=0,c=c===""?".":c+":",I$1(a))for(var b=0;b<a.length;b++){h=a[b];var _=c+Q$1(h,b);g+=R$2(h,s,o,_,d)}else if(_=A$1(a),typeof _=="function")for(a=_.call(a),b=0;!(h=a.next()).done;)h=h.value,_=c+Q$1(h,b++),g+=R$2(h,s,o,_,d);else if(h==="object")throw s=String(a),Error("Objects are not valid as a React child (found: "+(s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s)+"). If you meant to render a collection of children, use an array instead.");return g}function S$1(a,s,o){if(a==null)return a;var c=[],d=0;return R$2(a,c,"","",function(h){return s.call(o,h,d++)}),c}function T$1(a){if(a._status===-1){var s=a._result;s=s(),s.then(function(o){(a._status===0||a._status===-1)&&(a._status=1,a._result=o)},function(o){(a._status===0||a._status===-1)&&(a._status=2,a._result=o)}),a._status===-1&&(a._status=0,a._result=s)}if(a._status===1)return a._result.default;throw a._result}var U$2={current:null},V$1={transition:null},W$1={ReactCurrentDispatcher:U$2,ReactCurrentBatchConfig:V$1,ReactCurrentOwner:K$1};function X$2(){throw Error("act(...) is not supported in production builds of React.")}react_production_min.Children={map:S$1,forEach:function(a,s,o){S$1(a,function(){s.apply(this,arguments)},o)},count:function(a){var s=0;return S$1(a,function(){s++}),s},toArray:function(a){return S$1(a,function(s){return s})||[]},only:function(a){if(!O$1(a))throw Error("React.Children.only expected to receive a single React element child.");return a}};react_production_min.Component=E$3;react_production_min.Fragment=p$2;react_production_min.Profiler=r$1;react_production_min.PureComponent=G$1;react_production_min.StrictMode=q$1;react_production_min.Suspense=w;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$1;react_production_min.act=X$2;react_production_min.cloneElement=function(a,s,o){if(a==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+a+".");var c=C$1({},a.props),d=a.key,h=a.ref,g=a._owner;if(s!=null){if(s.ref!==void 0&&(h=s.ref,g=K$1.current),s.key!==void 0&&(d=""+s.key),a.type&&a.type.defaultProps)var b=a.type.defaultProps;for(_ in s)J.call(s,_)&&!L$2.hasOwnProperty(_)&&(c[_]=s[_]===void 0&&b!==void 0?b[_]:s[_])}var _=arguments.length-2;if(_===1)c.children=o;else if(1<_){b=Array(_);for(var $=0;$<_;$++)b[$]=arguments[$+2];c.children=b}return{$$typeof:l$1,type:a.type,key:d,ref:h,props:c,_owner:g}};react_production_min.createContext=function(a){return a={$$typeof:u,_currentValue:a,_currentValue2:a,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},a.Provider={$$typeof:t,_context:a},a.Consumer=a};react_production_min.createElement=M$1;react_production_min.createFactory=function(a){var s=M$1.bind(null,a);return s.type=a,s};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(a){return{$$typeof:v$2,render:a}};react_production_min.isValidElement=O$1;react_production_min.lazy=function(a){return{$$typeof:y,_payload:{_status:-1,_result:a},_init:T$1}};react_production_min.memo=function(a,s){return{$$typeof:x,type:a,compare:s===void 0?null:s}};react_production_min.startTransition=function(a){var s=V$1.transition;V$1.transition={};try{a()}finally{V$1.transition=s}};react_production_min.unstable_act=X$2;react_production_min.useCallback=function(a,s){return U$2.current.useCallback(a,s)};react_production_min.useContext=function(a){return U$2.current.useContext(a)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(a){return U$2.current.useDeferredValue(a)};react_production_min.useEffect=function(a,s){return U$2.current.useEffect(a,s)};react_production_min.useId=function(){return U$2.current.useId()};react_production_min.useImperativeHandle=function(a,s,o){return U$2.current.useImperativeHandle(a,s,o)};react_production_min.useInsertionEffect=function(a,s){return U$2.current.useInsertionEffect(a,s)};react_production_min.useLayoutEffect=function(a,s){return U$2.current.useLayoutEffect(a,s)};react_production_min.useMemo=function(a,s){return U$2.current.useMemo(a,s)};react_production_min.useReducer=function(a,s,o){return U$2.current.useReducer(a,s,o)};react_production_min.useRef=function(a){return U$2.current.useRef(a)};react_production_min.useState=function(a){return U$2.current.useState(a)};react_production_min.useSyncExternalStore=function(a,s,o){return U$2.current.useSyncExternalStore(a,s,o)};react_production_min.useTransition=function(){return U$2.current.useTransition()};react_production_min.version="18.3.1";react.exports=react_production_min;var reactExports=react.exports;const e=getDefaultExportFromCjs(reactExports),React=_mergeNamespaces({__proto__:null,default:e},[reactExports]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f=reactExports,k=Symbol.for("react.element"),l=Symbol.for("react.fragment"),m$1=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$1={key:!0,ref:!0,__self:!0,__source:!0};function q(a,s,o){var c,d={},h=null,g=null;o!==void 0&&(h=""+o),s.key!==void 0&&(h=""+s.key),s.ref!==void 0&&(g=s.ref);for(c in s)m$1.call(s,c)&&!p$1.hasOwnProperty(c)&&(d[c]=s[c]);if(a&&a.defaultProps)for(c in s=a.defaultProps,s)d[c]===void 0&&(d[c]=s[c]);return{$$typeof:k,type:a,key:h,ref:g,props:d,_owner:n.current}}reactJsxRuntime_production_min.Fragment=l;reactJsxRuntime_production_min.jsx=q;reactJsxRuntime_production_min.jsxs=q;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports,reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(a){function s(Rt,er){var sr=Rt.length;Rt.push(er);e:for(;0<sr;){var zt=sr-1>>>1,lr=Rt[zt];if(0<d(lr,er))Rt[zt]=er,Rt[sr]=lr,sr=zt;else break e}}function o(Rt){return Rt.length===0?null:Rt[0]}function c(Rt){if(Rt.length===0)return null;var er=Rt[0],sr=Rt.pop();if(sr!==er){Rt[0]=sr;e:for(var zt=0,lr=Rt.length,nr=lr>>>1;zt<nr;){var mr=2*(zt+1)-1,Ar=Rt[mr],wr=mr+1,Pr=Rt[wr];if(0>d(Ar,sr))wr<lr&&0>d(Pr,Ar)?(Rt[zt]=Pr,Rt[wr]=sr,zt=wr):(Rt[zt]=Ar,Rt[mr]=sr,zt=mr);else if(wr<lr&&0>d(Pr,sr))Rt[zt]=Pr,Rt[wr]=sr,zt=wr;else break e}}return er}function d(Rt,er){var sr=Rt.sortIndex-er.sortIndex;return sr!==0?sr:Rt.id-er.id}if(typeof performance=="object"&&typeof performance.now=="function"){var h=performance;a.unstable_now=function(){return h.now()}}else{var g=Date,b=g.now();a.unstable_now=function(){return g.now()-b}}var _=[],$=[],_e=1,tt=null,et=3,nt=!1,ot=!1,st=!1,pt=typeof setTimeout=="function"?setTimeout:null,at=typeof clearTimeout=="function"?clearTimeout:null,ht=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function lt(Rt){for(var er=o($);er!==null;){if(er.callback===null)c($);else if(er.startTime<=Rt)c($),er.sortIndex=er.expirationTime,s(_,er);else break;er=o($)}}function yt(Rt){if(st=!1,lt(Rt),!ot)if(o(_)!==null)ot=!0,rr(bt);else{var er=o($);er!==null&&dr(yt,er.startTime-Rt)}}function bt(Rt,er){ot=!1,st&&(st=!1,at(vt),vt=-1),nt=!0;var sr=et;try{for(lt(er),tt=o(_);tt!==null&&(!(tt.expirationTime>er)||Rt&&!Lt());){var zt=tt.callback;if(typeof zt=="function"){tt.callback=null,et=tt.priorityLevel;var lr=zt(tt.expirationTime<=er);er=a.unstable_now(),typeof lr=="function"?tt.callback=lr:tt===o(_)&&c(_),lt(er)}else c(_);tt=o(_)}if(tt!==null)var nr=!0;else{var mr=o($);mr!==null&&dr(yt,mr.startTime-er),nr=!1}return nr}finally{tt=null,et=sr,nt=!1}}var gt=!1,dt=null,vt=-1,kt=5,jt=-1;function Lt(){return!(a.unstable_now()-jt<kt)}function Mt(){if(dt!==null){var Rt=a.unstable_now();jt=Rt;var er=!0;try{er=dt(!0,Rt)}finally{er?Pt():(gt=!1,dt=null)}}else gt=!1}var Pt;if(typeof ht=="function")Pt=function(){ht(Mt)};else if(typeof MessageChannel<"u"){var Yt=new MessageChannel,ir=Yt.port2;Yt.port1.onmessage=Mt,Pt=function(){ir.postMessage(null)}}else Pt=function(){pt(Mt,0)};function rr(Rt){dt=Rt,gt||(gt=!0,Pt())}function dr(Rt,er){vt=pt(function(){Rt(a.unstable_now())},er)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(Rt){Rt.callback=null},a.unstable_continueExecution=function(){ot||nt||(ot=!0,rr(bt))},a.unstable_forceFrameRate=function(Rt){0>Rt||125<Rt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):kt=0<Rt?Math.floor(1e3/Rt):5},a.unstable_getCurrentPriorityLevel=function(){return et},a.unstable_getFirstCallbackNode=function(){return o(_)},a.unstable_next=function(Rt){switch(et){case 1:case 2:case 3:var er=3;break;default:er=et}var sr=et;et=er;try{return Rt()}finally{et=sr}},a.unstable_pauseExecution=function(){},a.unstable_requestPaint=function(){},a.unstable_runWithPriority=function(Rt,er){switch(Rt){case 1:case 2:case 3:case 4:case 5:break;default:Rt=3}var sr=et;et=Rt;try{return er()}finally{et=sr}},a.unstable_scheduleCallback=function(Rt,er,sr){var zt=a.unstable_now();switch(typeof sr=="object"&&sr!==null?(sr=sr.delay,sr=typeof sr=="number"&&0<sr?zt+sr:zt):sr=zt,Rt){case 1:var lr=-1;break;case 2:lr=250;break;case 5:lr=1073741823;break;case 4:lr=1e4;break;default:lr=5e3}return lr=sr+lr,Rt={id:_e++,callback:er,priorityLevel:Rt,startTime:sr,expirationTime:lr,sortIndex:-1},sr>zt?(Rt.sortIndex=sr,s($,Rt),o(_)===null&&Rt===o($)&&(st?(at(vt),vt=-1):st=!0,dr(yt,sr-zt))):(Rt.sortIndex=lr,s(_,Rt),ot||nt||(ot=!0,rr(bt))),Rt},a.unstable_shouldYield=Lt,a.unstable_wrapCallback=function(Rt){var er=et;return function(){var sr=et;et=er;try{return Rt.apply(this,arguments)}finally{et=sr}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports;function p(a){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+a,o=1;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+a+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(a,s){ha(a,s),ha(a+"Capture",s)}function ha(a,s){for(ea[a]=s,a=0;a<s.length;a++)da.add(s[a])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(a){return ja.call(ma,a)?!0:ja.call(la,a)?!1:ka.test(a)?ma[a]=!0:(la[a]=!0,!1)}function pa(a,s,o,c){if(o!==null&&o.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return c?!1:o!==null?!o.acceptsBooleans:(a=a.toLowerCase().slice(0,5),a!=="data-"&&a!=="aria-");default:return!1}}function qa(a,s,o,c){if(s===null||typeof s>"u"||pa(a,s,o,c))return!0;if(c)return!1;if(o!==null)switch(o.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function v$1(a,s,o,c,d,h,g){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=c,this.attributeNamespace=d,this.mustUseProperty=o,this.propertyName=a,this.type=s,this.sanitizeURL=h,this.removeEmptyString=g}var z={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){z[a]=new v$1(a,0,!1,a,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var s=a[0];z[s]=new v$1(s,1,!1,a[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(a){z[a]=new v$1(a,2,!1,a.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){z[a]=new v$1(a,2,!1,a,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){z[a]=new v$1(a,3,!1,a.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(a){z[a]=new v$1(a,3,!0,a,null,!1,!1)});["capture","download"].forEach(function(a){z[a]=new v$1(a,4,!1,a,null,!1,!1)});["cols","rows","size","span"].forEach(function(a){z[a]=new v$1(a,6,!1,a,null,!1,!1)});["rowSpan","start"].forEach(function(a){z[a]=new v$1(a,5,!1,a.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(a){return a[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var s=a.replace(ra,sa);z[s]=new v$1(s,1,!1,a,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var s=a.replace(ra,sa);z[s]=new v$1(s,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(a){var s=a.replace(ra,sa);z[s]=new v$1(s,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(a){z[a]=new v$1(a,1,!1,a.toLowerCase(),null,!1,!1)});z.xlinkHref=new v$1("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(a){z[a]=new v$1(a,1,!1,a.toLowerCase(),null,!0,!0)});function ta(a,s,o,c){var d=z.hasOwnProperty(s)?z[s]:null;(d!==null?d.type!==0:c||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(qa(s,o,d,c)&&(o=null),c||d===null?oa(s)&&(o===null?a.removeAttribute(s):a.setAttribute(s,""+o)):d.mustUseProperty?a[d.propertyName]=o===null?d.type===3?!1:"":o:(s=d.attributeName,c=d.attributeNamespace,o===null?a.removeAttribute(s):(d=d.type,o=d===3||d===4&&o===!0?"":""+o,c?a.setAttributeNS(c,s,o):a.setAttribute(s,o))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(a){return a===null||typeof a!="object"?null:(a=Ja&&a[Ja]||a["@@iterator"],typeof a=="function"?a:null)}var A=Object.assign,La;function Ma(a){if(La===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);La=s&&s[1]||""}return`
`+La+a}var Na=!1;function Oa(a,s){if(!a||Na)return"";Na=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch($){var c=$}Reflect.construct(a,[],s)}else{try{s.call()}catch($){c=$}a.call(s.prototype)}else{try{throw Error()}catch($){c=$}a()}}catch($){if($&&c&&typeof $.stack=="string"){for(var d=$.stack.split(`
`),h=c.stack.split(`
`),g=d.length-1,b=h.length-1;1<=g&&0<=b&&d[g]!==h[b];)b--;for(;1<=g&&0<=b;g--,b--)if(d[g]!==h[b]){if(g!==1||b!==1)do if(g--,b--,0>b||d[g]!==h[b]){var _=`
`+d[g].replace(" at new "," at ");return a.displayName&&_.includes("<anonymous>")&&(_=_.replace("<anonymous>",a.displayName)),_}while(1<=g&&0<=b);break}}}finally{Na=!1,Error.prepareStackTrace=o}return(a=a?a.displayName||a.name:"")?Ma(a):""}function Pa(a){switch(a.tag){case 5:return Ma(a.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return a=Oa(a.type,!1),a;case 11:return a=Oa(a.type.render,!1),a;case 1:return a=Oa(a.type,!0),a;default:return""}}function Qa(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case Ca:return(a.displayName||"Context")+".Consumer";case Ba:return(a._context.displayName||"Context")+".Provider";case Da:var s=a.render;return a=a.displayName,a||(a=s.displayName||s.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case Ga:return s=a.displayName||null,s!==null?s:Qa(a.type)||"Memo";case Ha:s=a._payload,a=a._init;try{return Qa(a(s))}catch{}}return null}function Ra(a){var s=a.type;switch(a.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=s.render,a=a.displayName||a.name||"",s.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(s);case 8:return s===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Sa(a){switch(typeof a){case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Ta(a){var s=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Ua(a){var s=Ta(a)?"checked":"value",o=Object.getOwnPropertyDescriptor(a.constructor.prototype,s),c=""+a[s];if(!a.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var d=o.get,h=o.set;return Object.defineProperty(a,s,{configurable:!0,get:function(){return d.call(this)},set:function(g){c=""+g,h.call(this,g)}}),Object.defineProperty(a,s,{enumerable:o.enumerable}),{getValue:function(){return c},setValue:function(g){c=""+g},stopTracking:function(){a._valueTracker=null,delete a[s]}}}}function Va(a){a._valueTracker||(a._valueTracker=Ua(a))}function Wa(a){if(!a)return!1;var s=a._valueTracker;if(!s)return!0;var o=s.getValue(),c="";return a&&(c=Ta(a)?a.checked?"true":"false":a.value),a=c,a!==o?(s.setValue(a),!0):!1}function Xa(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}function Ya(a,s){var o=s.checked;return A({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??a._wrapperState.initialChecked})}function Za(a,s){var o=s.defaultValue==null?"":s.defaultValue,c=s.checked!=null?s.checked:s.defaultChecked;o=Sa(s.value!=null?s.value:o),a._wrapperState={initialChecked:c,initialValue:o,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function ab(a,s){s=s.checked,s!=null&&ta(a,"checked",s,!1)}function bb(a,s){ab(a,s);var o=Sa(s.value),c=s.type;if(o!=null)c==="number"?(o===0&&a.value===""||a.value!=o)&&(a.value=""+o):a.value!==""+o&&(a.value=""+o);else if(c==="submit"||c==="reset"){a.removeAttribute("value");return}s.hasOwnProperty("value")?cb(a,s.type,o):s.hasOwnProperty("defaultValue")&&cb(a,s.type,Sa(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(a.defaultChecked=!!s.defaultChecked)}function db(a,s,o){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var c=s.type;if(!(c!=="submit"&&c!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+a._wrapperState.initialValue,o||s===a.value||(a.value=s),a.defaultValue=s}o=a.name,o!==""&&(a.name=""),a.defaultChecked=!!a._wrapperState.initialChecked,o!==""&&(a.name=o)}function cb(a,s,o){(s!=="number"||Xa(a.ownerDocument)!==a)&&(o==null?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+o&&(a.defaultValue=""+o))}var eb=Array.isArray;function fb(a,s,o,c){if(a=a.options,s){s={};for(var d=0;d<o.length;d++)s["$"+o[d]]=!0;for(o=0;o<a.length;o++)d=s.hasOwnProperty("$"+a[o].value),a[o].selected!==d&&(a[o].selected=d),d&&c&&(a[o].defaultSelected=!0)}else{for(o=""+Sa(o),s=null,d=0;d<a.length;d++){if(a[d].value===o){a[d].selected=!0,c&&(a[d].defaultSelected=!0);return}s!==null||a[d].disabled||(s=a[d])}s!==null&&(s.selected=!0)}}function gb(a,s){if(s.dangerouslySetInnerHTML!=null)throw Error(p(91));return A({},s,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function hb(a,s){var o=s.value;if(o==null){if(o=s.children,s=s.defaultValue,o!=null){if(s!=null)throw Error(p(92));if(eb(o)){if(1<o.length)throw Error(p(93));o=o[0]}s=o}s==null&&(s=""),o=s}a._wrapperState={initialValue:Sa(o)}}function ib(a,s){var o=Sa(s.value),c=Sa(s.defaultValue);o!=null&&(o=""+o,o!==a.value&&(a.value=o),s.defaultValue==null&&a.defaultValue!==o&&(a.defaultValue=o)),c!=null&&(a.defaultValue=""+c)}function jb(a){var s=a.textContent;s===a._wrapperState.initialValue&&s!==""&&s!==null&&(a.value=s)}function kb(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(a,s){return a==null||a==="http://www.w3.org/1999/xhtml"?kb(s):a==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":a}var mb,nb=function(a){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,o,c,d){MSApp.execUnsafeLocalFunction(function(){return a(s,o,c,d)})}:a}(function(a,s){if(a.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in a)a.innerHTML=s;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=mb.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;s.firstChild;)a.appendChild(s.firstChild)}});function ob(a,s){if(s){var o=a.firstChild;if(o&&o===a.lastChild&&o.nodeType===3){o.nodeValue=s;return}}a.textContent=s}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(a){qb.forEach(function(s){s=s+a.charAt(0).toUpperCase()+a.substring(1),pb[s]=pb[a]})});function rb(a,s,o){return s==null||typeof s=="boolean"||s===""?"":o||typeof s!="number"||s===0||pb.hasOwnProperty(a)&&pb[a]?(""+s).trim():s+"px"}function sb(a,s){a=a.style;for(var o in s)if(s.hasOwnProperty(o)){var c=o.indexOf("--")===0,d=rb(o,s[o],c);o==="float"&&(o="cssFloat"),c?a.setProperty(o,d):a[o]=d}}var tb=A({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(a,s){if(s){if(tb[a]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(p(137,a));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(p(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(p(61))}if(s.style!=null&&typeof s.style!="object")throw Error(p(62))}}function vb(a,s){if(a.indexOf("-")===-1)return typeof s.is=="string";switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var yb=null,zb=null,Ab=null;function Bb(a){if(a=Cb(a)){if(typeof yb!="function")throw Error(p(280));var s=a.stateNode;s&&(s=Db(s),yb(a.stateNode,a.type,s))}}function Eb(a){zb?Ab?Ab.push(a):Ab=[a]:zb=a}function Fb(){if(zb){var a=zb,s=Ab;if(Ab=zb=null,Bb(a),s)for(a=0;a<s.length;a++)Bb(s[a])}}function Gb(a,s){return a(s)}function Hb(){}var Ib=!1;function Jb(a,s,o){if(Ib)return a(s,o);Ib=!0;try{return Gb(a,s,o)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(a,s){var o=a.stateNode;if(o===null)return null;var c=Db(o);if(c===null)return null;o=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(a=a.type,c=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!c;break e;default:a=!1}if(a)return null;if(o&&typeof o!="function")throw Error(p(231,s,typeof o));return o}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(a,s,o,c,d,h,g,b,_){var $=Array.prototype.slice.call(arguments,3);try{s.apply(o,$)}catch(_e){this.onError(_e)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(a){Ob=!0,Pb=a}};function Tb(a,s,o,c,d,h,g,b,_){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(a,s,o,c,d,h,g,b,_){if(Tb.apply(this,arguments),Ob){if(Ob){var $=Pb;Ob=!1,Pb=null}else throw Error(p(198));Qb||(Qb=!0,Rb=$)}}function Vb(a){var s=a,o=a;if(a.alternate)for(;s.return;)s=s.return;else{a=s;do s=a,s.flags&4098&&(o=s.return),a=s.return;while(a)}return s.tag===3?o:null}function Wb(a){if(a.tag===13){var s=a.memoizedState;if(s===null&&(a=a.alternate,a!==null&&(s=a.memoizedState)),s!==null)return s.dehydrated}return null}function Xb(a){if(Vb(a)!==a)throw Error(p(188))}function Yb(a){var s=a.alternate;if(!s){if(s=Vb(a),s===null)throw Error(p(188));return s!==a?null:a}for(var o=a,c=s;;){var d=o.return;if(d===null)break;var h=d.alternate;if(h===null){if(c=d.return,c!==null){o=c;continue}break}if(d.child===h.child){for(h=d.child;h;){if(h===o)return Xb(d),a;if(h===c)return Xb(d),s;h=h.sibling}throw Error(p(188))}if(o.return!==c.return)o=d,c=h;else{for(var g=!1,b=d.child;b;){if(b===o){g=!0,o=d,c=h;break}if(b===c){g=!0,c=d,o=h;break}b=b.sibling}if(!g){for(b=h.child;b;){if(b===o){g=!0,o=h,c=d;break}if(b===c){g=!0,c=h,o=d;break}b=b.sibling}if(!g)throw Error(p(189))}}if(o.alternate!==c)throw Error(p(190))}if(o.tag!==3)throw Error(p(188));return o.stateNode.current===o?a:s}function Zb(a){return a=Yb(a),a!==null?$b(a):null}function $b(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var s=$b(a);if(s!==null)return s;a=a.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(a){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,a,void 0,(a.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(a){return a>>>=0,a===0?32:31-(pc(a)/qc|0)|0}var rc=64,sc=4194304;function tc(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function uc(a,s){var o=a.pendingLanes;if(o===0)return 0;var c=0,d=a.suspendedLanes,h=a.pingedLanes,g=o&268435455;if(g!==0){var b=g&~d;b!==0?c=tc(b):(h&=g,h!==0&&(c=tc(h)))}else g=o&~d,g!==0?c=tc(g):h!==0&&(c=tc(h));if(c===0)return 0;if(s!==0&&s!==c&&!(s&d)&&(d=c&-c,h=s&-s,d>=h||d===16&&(h&4194240)!==0))return s;if(c&4&&(c|=o&16),s=a.entangledLanes,s!==0)for(a=a.entanglements,s&=c;0<s;)o=31-oc(s),d=1<<o,c|=a[o],s&=~d;return c}function vc(a,s){switch(a){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(a,s){for(var o=a.suspendedLanes,c=a.pingedLanes,d=a.expirationTimes,h=a.pendingLanes;0<h;){var g=31-oc(h),b=1<<g,_=d[g];_===-1?(!(b&o)||b&c)&&(d[g]=vc(b,s)):_<=s&&(a.expiredLanes|=b),h&=~b}}function xc(a){return a=a.pendingLanes&-1073741825,a!==0?a:a&1073741824?1073741824:0}function yc(){var a=rc;return rc<<=1,!(rc&4194240)&&(rc=64),a}function zc(a){for(var s=[],o=0;31>o;o++)s.push(a);return s}function Ac(a,s,o){a.pendingLanes|=s,s!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),a=a.eventTimes,s=31-oc(s),a[s]=o}function Bc(a,s){var o=a.pendingLanes&~s;a.pendingLanes=s,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=s,a.mutableReadLanes&=s,a.entangledLanes&=s,s=a.entanglements;var c=a.eventTimes;for(a=a.expirationTimes;0<o;){var d=31-oc(o),h=1<<d;s[d]=0,c[d]=-1,a[d]=-1,o&=~h}}function Cc(a,s){var o=a.entangledLanes|=s;for(a=a.entanglements;o;){var c=31-oc(o),d=1<<c;d&s|a[c]&s&&(a[c]|=s),o&=~d}}var C=0;function Dc(a){return a&=-a,1<a?4<a?a&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(a,s){switch(a){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(s.pointerId)}}function Tc(a,s,o,c,d,h){return a===null||a.nativeEvent!==h?(a={blockedOn:s,domEventName:o,eventSystemFlags:c,nativeEvent:h,targetContainers:[d]},s!==null&&(s=Cb(s),s!==null&&Fc(s)),a):(a.eventSystemFlags|=c,s=a.targetContainers,d!==null&&s.indexOf(d)===-1&&s.push(d),a)}function Uc(a,s,o,c,d){switch(s){case"focusin":return Lc=Tc(Lc,a,s,o,c,d),!0;case"dragenter":return Mc=Tc(Mc,a,s,o,c,d),!0;case"mouseover":return Nc=Tc(Nc,a,s,o,c,d),!0;case"pointerover":var h=d.pointerId;return Oc.set(h,Tc(Oc.get(h)||null,a,s,o,c,d)),!0;case"gotpointercapture":return h=d.pointerId,Pc.set(h,Tc(Pc.get(h)||null,a,s,o,c,d)),!0}return!1}function Vc(a){var s=Wc(a.target);if(s!==null){var o=Vb(s);if(o!==null){if(s=o.tag,s===13){if(s=Wb(o),s!==null){a.blockedOn=s,Ic(a.priority,function(){Gc(o)});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){a.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Xc(a){if(a.blockedOn!==null)return!1;for(var s=a.targetContainers;0<s.length;){var o=Yc(a.domEventName,a.eventSystemFlags,s[0],a.nativeEvent);if(o===null){o=a.nativeEvent;var c=new o.constructor(o.type,o);wb=c,o.target.dispatchEvent(c),wb=null}else return s=Cb(o),s!==null&&Fc(s),a.blockedOn=o,!1;s.shift()}return!0}function Zc(a,s,o){Xc(a)&&o.delete(s)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(a,s){a.blockedOn===s&&(a.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(a){function s(d){return ad(d,a)}if(0<Kc.length){ad(Kc[0],a);for(var o=1;o<Kc.length;o++){var c=Kc[o];c.blockedOn===a&&(c.blockedOn=null)}}for(Lc!==null&&ad(Lc,a),Mc!==null&&ad(Mc,a),Nc!==null&&ad(Nc,a),Oc.forEach(s),Pc.forEach(s),o=0;o<Qc.length;o++)c=Qc[o],c.blockedOn===a&&(c.blockedOn=null);for(;0<Qc.length&&(o=Qc[0],o.blockedOn===null);)Vc(o),o.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(a,s,o,c){var d=C,h=cd.transition;cd.transition=null;try{C=1,fd(a,s,o,c)}finally{C=d,cd.transition=h}}function gd(a,s,o,c){var d=C,h=cd.transition;cd.transition=null;try{C=4,fd(a,s,o,c)}finally{C=d,cd.transition=h}}function fd(a,s,o,c){if(dd){var d=Yc(a,s,o,c);if(d===null)hd(a,s,c,id,o),Sc(a,c);else if(Uc(d,a,s,o,c))c.stopPropagation();else if(Sc(a,c),s&4&&-1<Rc.indexOf(a)){for(;d!==null;){var h=Cb(d);if(h!==null&&Ec(h),h=Yc(a,s,o,c),h===null&&hd(a,s,c,id,o),h===d)break;d=h}d!==null&&c.stopPropagation()}else hd(a,s,c,null,o)}}var id=null;function Yc(a,s,o,c){if(id=null,a=xb(c),a=Wc(a),a!==null)if(s=Vb(a),s===null)a=null;else if(o=s.tag,o===13){if(a=Wb(s),a!==null)return a;a=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;a=null}else s!==a&&(a=null);return id=a,null}function jd(a){switch(a){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var a,s=ld,o=s.length,c,d="value"in kd?kd.value:kd.textContent,h=d.length;for(a=0;a<o&&s[a]===d[a];a++);var g=o-a;for(c=1;c<=g&&s[o-c]===d[h-c];c++);return md=d.slice(a,1<c?1-c:void 0)}function od(a){var s=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&s===13&&(a=13)):a=s,a===10&&(a=13),32<=a||a===13?a:0}function pd(){return!0}function qd(){return!1}function rd(a){function s(o,c,d,h,g){this._reactName=o,this._targetInst=d,this.type=c,this.nativeEvent=h,this.target=g,this.currentTarget=null;for(var b in a)a.hasOwnProperty(b)&&(o=a[b],this[b]=o?o(h):h[b]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),s}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==yd&&(yd&&a.type==="mousemove"?(wd=a.screenX-yd.screenX,xd=a.screenY-yd.screenY):xd=wd=0,yd=a),wd)},movementY:function(a){return"movementY"in a?a.movementY:xd}}),Bd=rd(Ad),Cd=A({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A({},sd,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(a){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(a):(a=Od[a])?!!s[a]:!1}function zd(){return Pd}var Qd=A({},ud,{key:function(a){if(a.key){var s=Md[a.key]||a.key;if(s!=="Unidentified")return s}return a.type==="keypress"?(a=od(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?Nd[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(a){return a.type==="keypress"?od(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?od(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),Rd=rd(Qd),Sd=A({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A({},Ad,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae$1=ia&&"CompositionEvent"in window,be=null;ia&&"documentMode"in document&&(be=document.documentMode);var ce=ia&&"TextEvent"in window&&!be,de=ia&&(!ae$1||be&&8<be&&11>=be),ee$1=" ",fe=!1;function ge(a,s){switch(a){case"keyup":return $d.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var ie=!1;function je(a,s){switch(a){case"compositionend":return he(s);case"keypress":return s.which!==32?null:(fe=!0,ee$1);case"textInput":return a=s.data,a===ee$1&&fe?null:a;default:return null}}function ke(a,s){if(ie)return a==="compositionend"||!ae$1&&ge(a,s)?(a=nd(),md=ld=kd=null,ie=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return de&&s.locale!=="ko"?null:s.data;default:return null}}var le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(a){var s=a&&a.nodeName&&a.nodeName.toLowerCase();return s==="input"?!!le[a.type]:s==="textarea"}function ne$1(a,s,o,c){Eb(c),s=oe$1(s,"onChange"),0<s.length&&(o=new td("onChange","change",null,o,c),a.push({event:o,listeners:s}))}var pe=null,qe=null;function re(a){se$1(a,0)}function te$1(a){var s=ue(a);if(Wa(s))return a}function ve(a,s){if(a==="change")return s}var we=!1;if(ia){var xe;if(ia){var ye="oninput"in document;if(!ye){var ze=document.createElement("div");ze.setAttribute("oninput","return;"),ye=typeof ze.oninput=="function"}xe=ye}else xe=!1;we=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe&&(pe.detachEvent("onpropertychange",Be),qe=pe=null)}function Be(a){if(a.propertyName==="value"&&te$1(qe)){var s=[];ne$1(s,qe,a,xb(a)),Jb(re,s)}}function Ce(a,s,o){a==="focusin"?(Ae(),pe=s,qe=o,pe.attachEvent("onpropertychange",Be)):a==="focusout"&&Ae()}function De(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return te$1(qe)}function Ee(a,s){if(a==="click")return te$1(s)}function Fe(a,s){if(a==="input"||a==="change")return te$1(s)}function Ge(a,s){return a===s&&(a!==0||1/a===1/s)||a!==a&&s!==s}var He=typeof Object.is=="function"?Object.is:Ge;function Ie(a,s){if(He(a,s))return!0;if(typeof a!="object"||a===null||typeof s!="object"||s===null)return!1;var o=Object.keys(a),c=Object.keys(s);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var d=o[c];if(!ja.call(s,d)||!He(a[d],s[d]))return!1}return!0}function Je(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function Ke(a,s){var o=Je(a);a=0;for(var c;o;){if(o.nodeType===3){if(c=a+o.textContent.length,a<=s&&c>=s)return{node:o,offset:s-a};a=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Je(o)}}function Le(a,s){return a&&s?a===s?!0:a&&a.nodeType===3?!1:s&&s.nodeType===3?Le(a,s.parentNode):"contains"in a?a.contains(s):a.compareDocumentPosition?!!(a.compareDocumentPosition(s)&16):!1:!1}function Me(){for(var a=window,s=Xa();s instanceof a.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)a=s.contentWindow;else break;s=Xa(a.document)}return s}function Ne(a){var s=a&&a.nodeName&&a.nodeName.toLowerCase();return s&&(s==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||s==="textarea"||a.contentEditable==="true")}function Oe(a){var s=Me(),o=a.focusedElem,c=a.selectionRange;if(s!==o&&o&&o.ownerDocument&&Le(o.ownerDocument.documentElement,o)){if(c!==null&&Ne(o)){if(s=c.start,a=c.end,a===void 0&&(a=s),"selectionStart"in o)o.selectionStart=s,o.selectionEnd=Math.min(a,o.value.length);else if(a=(s=o.ownerDocument||document)&&s.defaultView||window,a.getSelection){a=a.getSelection();var d=o.textContent.length,h=Math.min(c.start,d);c=c.end===void 0?h:Math.min(c.end,d),!a.extend&&h>c&&(d=c,c=h,h=d),d=Ke(o,h);var g=Ke(o,c);d&&g&&(a.rangeCount!==1||a.anchorNode!==d.node||a.anchorOffset!==d.offset||a.focusNode!==g.node||a.focusOffset!==g.offset)&&(s=s.createRange(),s.setStart(d.node,d.offset),a.removeAllRanges(),h>c?(a.addRange(s),a.extend(g.node,g.offset)):(s.setEnd(g.node,g.offset),a.addRange(s)))}}for(s=[],a=o;a=a.parentNode;)a.nodeType===1&&s.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<s.length;o++)a=s[o],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var Pe=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te$1=!1;function Ue(a,s,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Te$1||Qe==null||Qe!==Xa(c)||(c=Qe,"selectionStart"in c&&Ne(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Se&&Ie(Se,c)||(Se=c,c=oe$1(Re,"onSelect"),0<c.length&&(s=new td("onSelect","select",null,s,o),a.push({event:s,listeners:c}),s.target=Qe)))}function Ve(a,s){var o={};return o[a.toLowerCase()]=s.toLowerCase(),o["Webkit"+a]="webkit"+s,o["Moz"+a]="moz"+s,o}var We={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},Xe={},Ye={};ia&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze(a){if(Xe[a])return Xe[a];if(!We[a])return a;var s=We[a],o;for(o in s)if(s.hasOwnProperty(o)&&o in Ye)return Xe[a]=s[o];return a}var $e=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(a,s){df.set(a,s),fa(s,[a])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(a,s,o){var c=a.type||"unknown-event";a.currentTarget=o,Ub(c,s,void 0,a),a.currentTarget=null}function se$1(a,s){s=(s&4)!==0;for(var o=0;o<a.length;o++){var c=a[o],d=c.event;c=c.listeners;e:{var h=void 0;if(s)for(var g=c.length-1;0<=g;g--){var b=c[g],_=b.instance,$=b.currentTarget;if(b=b.listener,_!==h&&d.isPropagationStopped())break e;nf(d,b,$),h=_}else for(g=0;g<c.length;g++){if(b=c[g],_=b.instance,$=b.currentTarget,b=b.listener,_!==h&&d.isPropagationStopped())break e;nf(d,b,$),h=_}}}if(Qb)throw a=Rb,Qb=!1,Rb=null,a}function D$1(a,s){var o=s[of];o===void 0&&(o=s[of]=new Set);var c=a+"__bubble";o.has(c)||(pf(s,a,2,!1),o.add(c))}function qf(a,s,o){var c=0;s&&(c|=4),pf(o,a,c,s)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(a){if(!a[rf]){a[rf]=!0,da.forEach(function(o){o!=="selectionchange"&&(mf.has(o)||qf(o,!1,a),qf(o,!0,a))});var s=a.nodeType===9?a:a.ownerDocument;s===null||s[rf]||(s[rf]=!0,qf("selectionchange",!1,s))}}function pf(a,s,o,c){switch(jd(s)){case 1:var d=ed;break;case 4:d=gd;break;default:d=fd}o=d.bind(null,s,o,a),d=void 0,!Lb||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(d=!0),c?d!==void 0?a.addEventListener(s,o,{capture:!0,passive:d}):a.addEventListener(s,o,!0):d!==void 0?a.addEventListener(s,o,{passive:d}):a.addEventListener(s,o,!1)}function hd(a,s,o,c,d){var h=c;if(!(s&1)&&!(s&2)&&c!==null)e:for(;;){if(c===null)return;var g=c.tag;if(g===3||g===4){var b=c.stateNode.containerInfo;if(b===d||b.nodeType===8&&b.parentNode===d)break;if(g===4)for(g=c.return;g!==null;){var _=g.tag;if((_===3||_===4)&&(_=g.stateNode.containerInfo,_===d||_.nodeType===8&&_.parentNode===d))return;g=g.return}for(;b!==null;){if(g=Wc(b),g===null)return;if(_=g.tag,_===5||_===6){c=h=g;continue e}b=b.parentNode}}c=c.return}Jb(function(){var $=h,_e=xb(o),tt=[];e:{var et=df.get(a);if(et!==void 0){var nt=td,ot=a;switch(a){case"keypress":if(od(o)===0)break e;case"keydown":case"keyup":nt=Rd;break;case"focusin":ot="focus",nt=Fd;break;case"focusout":ot="blur",nt=Fd;break;case"beforeblur":case"afterblur":nt=Fd;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":nt=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":nt=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":nt=Vd;break;case $e:case af:case bf:nt=Hd;break;case cf:nt=Xd;break;case"scroll":nt=vd;break;case"wheel":nt=Zd;break;case"copy":case"cut":case"paste":nt=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":nt=Td}var st=(s&4)!==0,pt=!st&&a==="scroll",at=st?et!==null?et+"Capture":null:et;st=[];for(var ht=$,lt;ht!==null;){lt=ht;var yt=lt.stateNode;if(lt.tag===5&&yt!==null&&(lt=yt,at!==null&&(yt=Kb(ht,at),yt!=null&&st.push(tf(ht,yt,lt)))),pt)break;ht=ht.return}0<st.length&&(et=new nt(et,ot,null,o,_e),tt.push({event:et,listeners:st}))}}if(!(s&7)){e:{if(et=a==="mouseover"||a==="pointerover",nt=a==="mouseout"||a==="pointerout",et&&o!==wb&&(ot=o.relatedTarget||o.fromElement)&&(Wc(ot)||ot[uf]))break e;if((nt||et)&&(et=_e.window===_e?_e:(et=_e.ownerDocument)?et.defaultView||et.parentWindow:window,nt?(ot=o.relatedTarget||o.toElement,nt=$,ot=ot?Wc(ot):null,ot!==null&&(pt=Vb(ot),ot!==pt||ot.tag!==5&&ot.tag!==6)&&(ot=null)):(nt=null,ot=$),nt!==ot)){if(st=Bd,yt="onMouseLeave",at="onMouseEnter",ht="mouse",(a==="pointerout"||a==="pointerover")&&(st=Td,yt="onPointerLeave",at="onPointerEnter",ht="pointer"),pt=nt==null?et:ue(nt),lt=ot==null?et:ue(ot),et=new st(yt,ht+"leave",nt,o,_e),et.target=pt,et.relatedTarget=lt,yt=null,Wc(_e)===$&&(st=new st(at,ht+"enter",ot,o,_e),st.target=lt,st.relatedTarget=pt,yt=st),pt=yt,nt&&ot)t:{for(st=nt,at=ot,ht=0,lt=st;lt;lt=vf(lt))ht++;for(lt=0,yt=at;yt;yt=vf(yt))lt++;for(;0<ht-lt;)st=vf(st),ht--;for(;0<lt-ht;)at=vf(at),lt--;for(;ht--;){if(st===at||at!==null&&st===at.alternate)break t;st=vf(st),at=vf(at)}st=null}else st=null;nt!==null&&wf(tt,et,nt,st,!1),ot!==null&&pt!==null&&wf(tt,pt,ot,st,!0)}}e:{if(et=$?ue($):window,nt=et.nodeName&&et.nodeName.toLowerCase(),nt==="select"||nt==="input"&&et.type==="file")var bt=ve;else if(me(et))if(we)bt=Fe;else{bt=De;var gt=Ce}else(nt=et.nodeName)&&nt.toLowerCase()==="input"&&(et.type==="checkbox"||et.type==="radio")&&(bt=Ee);if(bt&&(bt=bt(a,$))){ne$1(tt,bt,o,_e);break e}gt&&gt(a,et,$),a==="focusout"&&(gt=et._wrapperState)&&gt.controlled&&et.type==="number"&&cb(et,"number",et.value)}switch(gt=$?ue($):window,a){case"focusin":(me(gt)||gt.contentEditable==="true")&&(Qe=gt,Re=$,Se=null);break;case"focusout":Se=Re=Qe=null;break;case"mousedown":Te$1=!0;break;case"contextmenu":case"mouseup":case"dragend":Te$1=!1,Ue(tt,o,_e);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue(tt,o,_e)}var dt;if(ae$1)e:{switch(a){case"compositionstart":var vt="onCompositionStart";break e;case"compositionend":vt="onCompositionEnd";break e;case"compositionupdate":vt="onCompositionUpdate";break e}vt=void 0}else ie?ge(a,o)&&(vt="onCompositionEnd"):a==="keydown"&&o.keyCode===229&&(vt="onCompositionStart");vt&&(de&&o.locale!=="ko"&&(ie||vt!=="onCompositionStart"?vt==="onCompositionEnd"&&ie&&(dt=nd()):(kd=_e,ld="value"in kd?kd.value:kd.textContent,ie=!0)),gt=oe$1($,vt),0<gt.length&&(vt=new Ld(vt,a,null,o,_e),tt.push({event:vt,listeners:gt}),dt?vt.data=dt:(dt=he(o),dt!==null&&(vt.data=dt)))),(dt=ce?je(a,o):ke(a,o))&&($=oe$1($,"onBeforeInput"),0<$.length&&(_e=new Ld("onBeforeInput","beforeinput",null,o,_e),tt.push({event:_e,listeners:$}),_e.data=dt))}se$1(tt,s)})}function tf(a,s,o){return{instance:a,listener:s,currentTarget:o}}function oe$1(a,s){for(var o=s+"Capture",c=[];a!==null;){var d=a,h=d.stateNode;d.tag===5&&h!==null&&(d=h,h=Kb(a,o),h!=null&&c.unshift(tf(a,h,d)),h=Kb(a,s),h!=null&&c.push(tf(a,h,d))),a=a.return}return c}function vf(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5);return a||null}function wf(a,s,o,c,d){for(var h=s._reactName,g=[];o!==null&&o!==c;){var b=o,_=b.alternate,$=b.stateNode;if(_!==null&&_===c)break;b.tag===5&&$!==null&&(b=$,d?(_=Kb(o,h),_!=null&&g.unshift(tf(o,_,b))):d||(_=Kb(o,h),_!=null&&g.push(tf(o,_,b)))),o=o.return}g.length!==0&&a.push({event:s,listeners:g})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(a){return(typeof a=="string"?a:""+a).replace(xf,`
`).replace(yf,"")}function Af(a,s,o){if(s=zf(s),zf(a)!==s&&o)throw Error(p(425))}function Bf(){}var Cf=null,Df=null;function Ef(a,s){return a==="textarea"||a==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(a){return Hf.resolve(null).then(a).catch(If)}:Ff;function If(a){setTimeout(function(){throw a})}function Kf(a,s){var o=s,c=0;do{var d=o.nextSibling;if(a.removeChild(o),d&&d.nodeType===8)if(o=d.data,o==="/$"){if(c===0){a.removeChild(d),bd(s);return}c--}else o!=="$"&&o!=="$?"&&o!=="$!"||c++;o=d}while(o);bd(s)}function Lf(a){for(;a!=null;a=a.nextSibling){var s=a.nodeType;if(s===1||s===3)break;if(s===8){if(s=a.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return a}function Mf(a){a=a.previousSibling;for(var s=0;a;){if(a.nodeType===8){var o=a.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return a;s--}else o==="/$"&&s++}a=a.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(a){var s=a[Of];if(s)return s;for(var o=a.parentNode;o;){if(s=o[uf]||o[Of]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(a=Mf(a);a!==null;){if(o=a[Of])return o;a=Mf(a)}return s}a=o,o=a.parentNode}return null}function Cb(a){return a=a[Of]||a[uf],!a||a.tag!==5&&a.tag!==6&&a.tag!==13&&a.tag!==3?null:a}function ue(a){if(a.tag===5||a.tag===6)return a.stateNode;throw Error(p(33))}function Db(a){return a[Pf]||null}var Sf=[],Tf=-1;function Uf(a){return{current:a}}function E$2(a){0>Tf||(a.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G(a,s){Tf++,Sf[Tf]=a.current,a.current=s}var Vf={},H=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(a,s){var o=a.type.contextTypes;if(!o)return Vf;var c=a.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===s)return c.__reactInternalMemoizedMaskedChildContext;var d={},h;for(h in o)d[h]=s[h];return c&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=s,a.__reactInternalMemoizedMaskedChildContext=d),d}function Zf(a){return a=a.childContextTypes,a!=null}function $f(){E$2(Wf),E$2(H)}function ag(a,s,o){if(H.current!==Vf)throw Error(p(168));G(H,s),G(Wf,o)}function bg(a,s,o){var c=a.stateNode;if(s=s.childContextTypes,typeof c.getChildContext!="function")return o;c=c.getChildContext();for(var d in c)if(!(d in s))throw Error(p(108,Ra(a)||"Unknown",d));return A({},o,c)}function cg(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||Vf,Xf=H.current,G(H,a),G(Wf,Wf.current),!0}function dg(a,s,o){var c=a.stateNode;if(!c)throw Error(p(169));o?(a=bg(a,s,Xf),c.__reactInternalMemoizedMergedChildContext=a,E$2(Wf),E$2(H),G(H,a)):E$2(Wf),G(Wf,o)}var eg=null,fg=!1,gg=!1;function hg(a){eg===null?eg=[a]:eg.push(a)}function ig(a){fg=!0,hg(a)}function jg(){if(!gg&&eg!==null){gg=!0;var a=0,s=C;try{var o=eg;for(C=1;a<o.length;a++){var c=o[a];do c=c(!0);while(c!==null)}eg=null,fg=!1}catch(d){throw eg!==null&&(eg=eg.slice(a+1)),ac(fc,jg),d}finally{C=s,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(a,s){kg[lg++]=ng,kg[lg++]=mg,mg=a,ng=s}function ug(a,s,o){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=a;var c=rg;a=sg;var d=32-oc(c)-1;c&=~(1<<d),o+=1;var h=32-oc(s)+d;if(30<h){var g=d-d%5;h=(c&(1<<g)-1).toString(32),c>>=g,d-=g,rg=1<<32-oc(s)+d|o<<d|c,sg=h+a}else rg=1<<h|o<<d|c,sg=a}function vg(a){a.return!==null&&(tg(a,1),ug(a,1,0))}function wg(a){for(;a===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;a===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I=!1,zg=null;function Ag(a,s){var o=Bg(5,null,null,0);o.elementType="DELETED",o.stateNode=s,o.return=a,s=a.deletions,s===null?(a.deletions=[o],a.flags|=16):s.push(o)}function Cg(a,s){switch(a.tag){case 5:var o=a.type;return s=s.nodeType!==1||o.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(a.stateNode=s,xg=a,yg=Lf(s.firstChild),!0):!1;case 6:return s=a.pendingProps===""||s.nodeType!==3?null:s,s!==null?(a.stateNode=s,xg=a,yg=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(o=qg!==null?{id:rg,overflow:sg}:null,a.memoizedState={dehydrated:s,treeContext:o,retryLane:1073741824},o=Bg(18,null,null,0),o.stateNode=s,o.return=a,a.child=o,xg=a,yg=null,!0):!1;default:return!1}}function Dg(a){return(a.mode&1)!==0&&(a.flags&128)===0}function Eg(a){if(I){var s=yg;if(s){var o=s;if(!Cg(a,s)){if(Dg(a))throw Error(p(418));s=Lf(o.nextSibling);var c=xg;s&&Cg(a,s)?Ag(c,o):(a.flags=a.flags&-4097|2,I=!1,xg=a)}}else{if(Dg(a))throw Error(p(418));a.flags=a.flags&-4097|2,I=!1,xg=a}}}function Fg(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;xg=a}function Gg(a){if(a!==xg)return!1;if(!I)return Fg(a),I=!0,!1;var s;if((s=a.tag!==3)&&!(s=a.tag!==5)&&(s=a.type,s=s!=="head"&&s!=="body"&&!Ef(a.type,a.memoizedProps)),s&&(s=yg)){if(Dg(a))throw Hg(),Error(p(418));for(;s;)Ag(a,s),s=Lf(s.nextSibling)}if(Fg(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(p(317));e:{for(a=a.nextSibling,s=0;a;){if(a.nodeType===8){var o=a.data;if(o==="/$"){if(s===0){yg=Lf(a.nextSibling);break e}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++}a=a.nextSibling}yg=null}}else yg=xg?Lf(a.stateNode.nextSibling):null;return!0}function Hg(){for(var a=yg;a;)a=Lf(a.nextSibling)}function Ig(){yg=xg=null,I=!1}function Jg(a){zg===null?zg=[a]:zg.push(a)}var Kg=ua.ReactCurrentBatchConfig;function Lg(a,s,o){if(a=o.ref,a!==null&&typeof a!="function"&&typeof a!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(p(309));var c=o.stateNode}if(!c)throw Error(p(147,a));var d=c,h=""+a;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===h?s.ref:(s=function(g){var b=d.refs;g===null?delete b[h]:b[h]=g},s._stringRef=h,s)}if(typeof a!="string")throw Error(p(284));if(!o._owner)throw Error(p(290,a))}return a}function Mg(a,s){throw a=Object.prototype.toString.call(s),Error(p(31,a==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":a))}function Ng(a){var s=a._init;return s(a._payload)}function Og(a){function s(at,ht){if(a){var lt=at.deletions;lt===null?(at.deletions=[ht],at.flags|=16):lt.push(ht)}}function o(at,ht){if(!a)return null;for(;ht!==null;)s(at,ht),ht=ht.sibling;return null}function c(at,ht){for(at=new Map;ht!==null;)ht.key!==null?at.set(ht.key,ht):at.set(ht.index,ht),ht=ht.sibling;return at}function d(at,ht){return at=Pg(at,ht),at.index=0,at.sibling=null,at}function h(at,ht,lt){return at.index=lt,a?(lt=at.alternate,lt!==null?(lt=lt.index,lt<ht?(at.flags|=2,ht):lt):(at.flags|=2,ht)):(at.flags|=1048576,ht)}function g(at){return a&&at.alternate===null&&(at.flags|=2),at}function b(at,ht,lt,yt){return ht===null||ht.tag!==6?(ht=Qg(lt,at.mode,yt),ht.return=at,ht):(ht=d(ht,lt),ht.return=at,ht)}function _(at,ht,lt,yt){var bt=lt.type;return bt===ya?_e(at,ht,lt.props.children,yt,lt.key):ht!==null&&(ht.elementType===bt||typeof bt=="object"&&bt!==null&&bt.$$typeof===Ha&&Ng(bt)===ht.type)?(yt=d(ht,lt.props),yt.ref=Lg(at,ht,lt),yt.return=at,yt):(yt=Rg(lt.type,lt.key,lt.props,null,at.mode,yt),yt.ref=Lg(at,ht,lt),yt.return=at,yt)}function $(at,ht,lt,yt){return ht===null||ht.tag!==4||ht.stateNode.containerInfo!==lt.containerInfo||ht.stateNode.implementation!==lt.implementation?(ht=Sg(lt,at.mode,yt),ht.return=at,ht):(ht=d(ht,lt.children||[]),ht.return=at,ht)}function _e(at,ht,lt,yt,bt){return ht===null||ht.tag!==7?(ht=Tg(lt,at.mode,yt,bt),ht.return=at,ht):(ht=d(ht,lt),ht.return=at,ht)}function tt(at,ht,lt){if(typeof ht=="string"&&ht!==""||typeof ht=="number")return ht=Qg(""+ht,at.mode,lt),ht.return=at,ht;if(typeof ht=="object"&&ht!==null){switch(ht.$$typeof){case va:return lt=Rg(ht.type,ht.key,ht.props,null,at.mode,lt),lt.ref=Lg(at,null,ht),lt.return=at,lt;case wa:return ht=Sg(ht,at.mode,lt),ht.return=at,ht;case Ha:var yt=ht._init;return tt(at,yt(ht._payload),lt)}if(eb(ht)||Ka(ht))return ht=Tg(ht,at.mode,lt,null),ht.return=at,ht;Mg(at,ht)}return null}function et(at,ht,lt,yt){var bt=ht!==null?ht.key:null;if(typeof lt=="string"&&lt!==""||typeof lt=="number")return bt!==null?null:b(at,ht,""+lt,yt);if(typeof lt=="object"&&lt!==null){switch(lt.$$typeof){case va:return lt.key===bt?_(at,ht,lt,yt):null;case wa:return lt.key===bt?$(at,ht,lt,yt):null;case Ha:return bt=lt._init,et(at,ht,bt(lt._payload),yt)}if(eb(lt)||Ka(lt))return bt!==null?null:_e(at,ht,lt,yt,null);Mg(at,lt)}return null}function nt(at,ht,lt,yt,bt){if(typeof yt=="string"&&yt!==""||typeof yt=="number")return at=at.get(lt)||null,b(ht,at,""+yt,bt);if(typeof yt=="object"&&yt!==null){switch(yt.$$typeof){case va:return at=at.get(yt.key===null?lt:yt.key)||null,_(ht,at,yt,bt);case wa:return at=at.get(yt.key===null?lt:yt.key)||null,$(ht,at,yt,bt);case Ha:var gt=yt._init;return nt(at,ht,lt,gt(yt._payload),bt)}if(eb(yt)||Ka(yt))return at=at.get(lt)||null,_e(ht,at,yt,bt,null);Mg(ht,yt)}return null}function ot(at,ht,lt,yt){for(var bt=null,gt=null,dt=ht,vt=ht=0,kt=null;dt!==null&&vt<lt.length;vt++){dt.index>vt?(kt=dt,dt=null):kt=dt.sibling;var jt=et(at,dt,lt[vt],yt);if(jt===null){dt===null&&(dt=kt);break}a&&dt&&jt.alternate===null&&s(at,dt),ht=h(jt,ht,vt),gt===null?bt=jt:gt.sibling=jt,gt=jt,dt=kt}if(vt===lt.length)return o(at,dt),I&&tg(at,vt),bt;if(dt===null){for(;vt<lt.length;vt++)dt=tt(at,lt[vt],yt),dt!==null&&(ht=h(dt,ht,vt),gt===null?bt=dt:gt.sibling=dt,gt=dt);return I&&tg(at,vt),bt}for(dt=c(at,dt);vt<lt.length;vt++)kt=nt(dt,at,vt,lt[vt],yt),kt!==null&&(a&&kt.alternate!==null&&dt.delete(kt.key===null?vt:kt.key),ht=h(kt,ht,vt),gt===null?bt=kt:gt.sibling=kt,gt=kt);return a&&dt.forEach(function(Lt){return s(at,Lt)}),I&&tg(at,vt),bt}function st(at,ht,lt,yt){var bt=Ka(lt);if(typeof bt!="function")throw Error(p(150));if(lt=bt.call(lt),lt==null)throw Error(p(151));for(var gt=bt=null,dt=ht,vt=ht=0,kt=null,jt=lt.next();dt!==null&&!jt.done;vt++,jt=lt.next()){dt.index>vt?(kt=dt,dt=null):kt=dt.sibling;var Lt=et(at,dt,jt.value,yt);if(Lt===null){dt===null&&(dt=kt);break}a&&dt&&Lt.alternate===null&&s(at,dt),ht=h(Lt,ht,vt),gt===null?bt=Lt:gt.sibling=Lt,gt=Lt,dt=kt}if(jt.done)return o(at,dt),I&&tg(at,vt),bt;if(dt===null){for(;!jt.done;vt++,jt=lt.next())jt=tt(at,jt.value,yt),jt!==null&&(ht=h(jt,ht,vt),gt===null?bt=jt:gt.sibling=jt,gt=jt);return I&&tg(at,vt),bt}for(dt=c(at,dt);!jt.done;vt++,jt=lt.next())jt=nt(dt,at,vt,jt.value,yt),jt!==null&&(a&&jt.alternate!==null&&dt.delete(jt.key===null?vt:jt.key),ht=h(jt,ht,vt),gt===null?bt=jt:gt.sibling=jt,gt=jt);return a&&dt.forEach(function(Mt){return s(at,Mt)}),I&&tg(at,vt),bt}function pt(at,ht,lt,yt){if(typeof lt=="object"&&lt!==null&&lt.type===ya&&lt.key===null&&(lt=lt.props.children),typeof lt=="object"&&lt!==null){switch(lt.$$typeof){case va:e:{for(var bt=lt.key,gt=ht;gt!==null;){if(gt.key===bt){if(bt=lt.type,bt===ya){if(gt.tag===7){o(at,gt.sibling),ht=d(gt,lt.props.children),ht.return=at,at=ht;break e}}else if(gt.elementType===bt||typeof bt=="object"&&bt!==null&&bt.$$typeof===Ha&&Ng(bt)===gt.type){o(at,gt.sibling),ht=d(gt,lt.props),ht.ref=Lg(at,gt,lt),ht.return=at,at=ht;break e}o(at,gt);break}else s(at,gt);gt=gt.sibling}lt.type===ya?(ht=Tg(lt.props.children,at.mode,yt,lt.key),ht.return=at,at=ht):(yt=Rg(lt.type,lt.key,lt.props,null,at.mode,yt),yt.ref=Lg(at,ht,lt),yt.return=at,at=yt)}return g(at);case wa:e:{for(gt=lt.key;ht!==null;){if(ht.key===gt)if(ht.tag===4&&ht.stateNode.containerInfo===lt.containerInfo&&ht.stateNode.implementation===lt.implementation){o(at,ht.sibling),ht=d(ht,lt.children||[]),ht.return=at,at=ht;break e}else{o(at,ht);break}else s(at,ht);ht=ht.sibling}ht=Sg(lt,at.mode,yt),ht.return=at,at=ht}return g(at);case Ha:return gt=lt._init,pt(at,ht,gt(lt._payload),yt)}if(eb(lt))return ot(at,ht,lt,yt);if(Ka(lt))return st(at,ht,lt,yt);Mg(at,lt)}return typeof lt=="string"&&lt!==""||typeof lt=="number"?(lt=""+lt,ht!==null&&ht.tag===6?(o(at,ht.sibling),ht=d(ht,lt),ht.return=at,at=ht):(o(at,ht),ht=Qg(lt,at.mode,yt),ht.return=at,at=ht),g(at)):o(at,ht)}return pt}var Ug=Og(!0),Vg=Og(!1),Wg=Uf(null),Xg=null,Yg=null,Zg=null;function $g(){Zg=Yg=Xg=null}function ah(a){var s=Wg.current;E$2(Wg),a._currentValue=s}function bh(a,s,o){for(;a!==null;){var c=a.alternate;if((a.childLanes&s)!==s?(a.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),a===o)break;a=a.return}}function ch(a,s){Xg=a,Zg=Yg=null,a=a.dependencies,a!==null&&a.firstContext!==null&&(a.lanes&s&&(dh=!0),a.firstContext=null)}function eh(a){var s=a._currentValue;if(Zg!==a)if(a={context:a,memoizedValue:s,next:null},Yg===null){if(Xg===null)throw Error(p(308));Yg=a,Xg.dependencies={lanes:0,firstContext:a}}else Yg=Yg.next=a;return s}var fh=null;function gh(a){fh===null?fh=[a]:fh.push(a)}function hh(a,s,o,c){var d=s.interleaved;return d===null?(o.next=o,gh(s)):(o.next=d.next,d.next=o),s.interleaved=o,ih(a,c)}function ih(a,s){a.lanes|=s;var o=a.alternate;for(o!==null&&(o.lanes|=s),o=a,a=a.return;a!==null;)a.childLanes|=s,o=a.alternate,o!==null&&(o.childLanes|=s),o=a,a=a.return;return o.tag===3?o.stateNode:null}var jh=!1;function kh(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lh(a,s){a=a.updateQueue,s.updateQueue===a&&(s.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function mh(a,s){return{eventTime:a,lane:s,tag:0,payload:null,callback:null,next:null}}function nh(a,s,o){var c=a.updateQueue;if(c===null)return null;if(c=c.shared,K&2){var d=c.pending;return d===null?s.next=s:(s.next=d.next,d.next=s),c.pending=s,ih(a,o)}return d=c.interleaved,d===null?(s.next=s,gh(c)):(s.next=d.next,d.next=s),c.interleaved=s,ih(a,o)}function oh(a,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194240)!==0)){var c=s.lanes;c&=a.pendingLanes,o|=c,s.lanes=o,Cc(a,o)}}function ph(a,s){var o=a.updateQueue,c=a.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var d=null,h=null;if(o=o.firstBaseUpdate,o!==null){do{var g={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};h===null?d=h=g:h=h.next=g,o=o.next}while(o!==null);h===null?d=h=s:h=h.next=s}else d=h=s;o={baseState:c.baseState,firstBaseUpdate:d,lastBaseUpdate:h,shared:c.shared,effects:c.effects},a.updateQueue=o;return}a=o.lastBaseUpdate,a===null?o.firstBaseUpdate=s:a.next=s,o.lastBaseUpdate=s}function qh(a,s,o,c){var d=a.updateQueue;jh=!1;var h=d.firstBaseUpdate,g=d.lastBaseUpdate,b=d.shared.pending;if(b!==null){d.shared.pending=null;var _=b,$=_.next;_.next=null,g===null?h=$:g.next=$,g=_;var _e=a.alternate;_e!==null&&(_e=_e.updateQueue,b=_e.lastBaseUpdate,b!==g&&(b===null?_e.firstBaseUpdate=$:b.next=$,_e.lastBaseUpdate=_))}if(h!==null){var tt=d.baseState;g=0,_e=$=_=null,b=h;do{var et=b.lane,nt=b.eventTime;if((c&et)===et){_e!==null&&(_e=_e.next={eventTime:nt,lane:0,tag:b.tag,payload:b.payload,callback:b.callback,next:null});e:{var ot=a,st=b;switch(et=s,nt=o,st.tag){case 1:if(ot=st.payload,typeof ot=="function"){tt=ot.call(nt,tt,et);break e}tt=ot;break e;case 3:ot.flags=ot.flags&-65537|128;case 0:if(ot=st.payload,et=typeof ot=="function"?ot.call(nt,tt,et):ot,et==null)break e;tt=A({},tt,et);break e;case 2:jh=!0}}b.callback!==null&&b.lane!==0&&(a.flags|=64,et=d.effects,et===null?d.effects=[b]:et.push(b))}else nt={eventTime:nt,lane:et,tag:b.tag,payload:b.payload,callback:b.callback,next:null},_e===null?($=_e=nt,_=tt):_e=_e.next=nt,g|=et;if(b=b.next,b===null){if(b=d.shared.pending,b===null)break;et=b,b=et.next,et.next=null,d.lastBaseUpdate=et,d.shared.pending=null}}while(!0);if(_e===null&&(_=tt),d.baseState=_,d.firstBaseUpdate=$,d.lastBaseUpdate=_e,s=d.shared.interleaved,s!==null){d=s;do g|=d.lane,d=d.next;while(d!==s)}else h===null&&(d.shared.lanes=0);rh|=g,a.lanes=g,a.memoizedState=tt}}function sh(a,s,o){if(a=s.effects,s.effects=null,a!==null)for(s=0;s<a.length;s++){var c=a[s],d=c.callback;if(d!==null){if(c.callback=null,c=o,typeof d!="function")throw Error(p(191,d));d.call(c)}}}var th={},uh=Uf(th),vh=Uf(th),wh=Uf(th);function xh(a){if(a===th)throw Error(p(174));return a}function yh(a,s){switch(G(wh,s),G(vh,a),G(uh,th),a=s.nodeType,a){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:lb(null,"");break;default:a=a===8?s.parentNode:s,s=a.namespaceURI||null,a=a.tagName,s=lb(s,a)}E$2(uh),G(uh,s)}function zh(){E$2(uh),E$2(vh),E$2(wh)}function Ah(a){xh(wh.current);var s=xh(uh.current),o=lb(s,a.type);s!==o&&(G(vh,a),G(uh,o))}function Bh(a){vh.current===a&&(E$2(uh),E$2(vh))}var L$1=Uf(0);function Ch(a){for(var s=a;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break;for(;s.sibling===null;){if(s.return===null||s.return===a)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Dh=[];function Eh(){for(var a=0;a<Dh.length;a++)Dh[a]._workInProgressVersionPrimary=null;Dh.length=0}var Fh=ua.ReactCurrentDispatcher,Gh=ua.ReactCurrentBatchConfig,Hh=0,M=null,N=null,O=null,Ih=!1,Jh=!1,Kh=0,Lh=0;function P$1(){throw Error(p(321))}function Mh(a,s){if(s===null)return!1;for(var o=0;o<s.length&&o<a.length;o++)if(!He(a[o],s[o]))return!1;return!0}function Nh(a,s,o,c,d,h){if(Hh=h,M=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Fh.current=a===null||a.memoizedState===null?Oh:Ph,a=o(c,d),Jh){h=0;do{if(Jh=!1,Kh=0,25<=h)throw Error(p(301));h+=1,O=N=null,s.updateQueue=null,Fh.current=Qh,a=o(c,d)}while(Jh)}if(Fh.current=Rh,s=N!==null&&N.next!==null,Hh=0,O=N=M=null,Ih=!1,s)throw Error(p(300));return a}function Sh(){var a=Kh!==0;return Kh=0,a}function Th(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return O===null?M.memoizedState=O=a:O=O.next=a,O}function Uh(){if(N===null){var a=M.alternate;a=a!==null?a.memoizedState:null}else a=N.next;var s=O===null?M.memoizedState:O.next;if(s!==null)O=s,N=a;else{if(a===null)throw Error(p(310));N=a,a={memoizedState:N.memoizedState,baseState:N.baseState,baseQueue:N.baseQueue,queue:N.queue,next:null},O===null?M.memoizedState=O=a:O=O.next=a}return O}function Vh(a,s){return typeof s=="function"?s(a):s}function Wh(a){var s=Uh(),o=s.queue;if(o===null)throw Error(p(311));o.lastRenderedReducer=a;var c=N,d=c.baseQueue,h=o.pending;if(h!==null){if(d!==null){var g=d.next;d.next=h.next,h.next=g}c.baseQueue=d=h,o.pending=null}if(d!==null){h=d.next,c=c.baseState;var b=g=null,_=null,$=h;do{var _e=$.lane;if((Hh&_e)===_e)_!==null&&(_=_.next={lane:0,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),c=$.hasEagerState?$.eagerState:a(c,$.action);else{var tt={lane:_e,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null};_===null?(b=_=tt,g=c):_=_.next=tt,M.lanes|=_e,rh|=_e}$=$.next}while($!==null&&$!==h);_===null?g=c:_.next=b,He(c,s.memoizedState)||(dh=!0),s.memoizedState=c,s.baseState=g,s.baseQueue=_,o.lastRenderedState=c}if(a=o.interleaved,a!==null){d=a;do h=d.lane,M.lanes|=h,rh|=h,d=d.next;while(d!==a)}else d===null&&(o.lanes=0);return[s.memoizedState,o.dispatch]}function Xh(a){var s=Uh(),o=s.queue;if(o===null)throw Error(p(311));o.lastRenderedReducer=a;var c=o.dispatch,d=o.pending,h=s.memoizedState;if(d!==null){o.pending=null;var g=d=d.next;do h=a(h,g.action),g=g.next;while(g!==d);He(h,s.memoizedState)||(dh=!0),s.memoizedState=h,s.baseQueue===null&&(s.baseState=h),o.lastRenderedState=h}return[h,c]}function Yh(){}function Zh(a,s){var o=M,c=Uh(),d=s(),h=!He(c.memoizedState,d);if(h&&(c.memoizedState=d,dh=!0),c=c.queue,$h(ai.bind(null,o,c,a),[a]),c.getSnapshot!==s||h||O!==null&&O.memoizedState.tag&1){if(o.flags|=2048,bi(9,ci.bind(null,o,c,d,s),void 0,null),Q===null)throw Error(p(349));Hh&30||di(o,s,d)}return d}function di(a,s,o){a.flags|=16384,a={getSnapshot:s,value:o},s=M.updateQueue,s===null?(s={lastEffect:null,stores:null},M.updateQueue=s,s.stores=[a]):(o=s.stores,o===null?s.stores=[a]:o.push(a))}function ci(a,s,o,c){s.value=o,s.getSnapshot=c,ei(s)&&fi(a)}function ai(a,s,o){return o(function(){ei(s)&&fi(a)})}function ei(a){var s=a.getSnapshot;a=a.value;try{var o=s();return!He(a,o)}catch{return!0}}function fi(a){var s=ih(a,1);s!==null&&gi(s,a,1,-1)}function hi(a){var s=Th();return typeof a=="function"&&(a=a()),s.memoizedState=s.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vh,lastRenderedState:a},s.queue=a,a=a.dispatch=ii.bind(null,M,a),[s.memoizedState,a]}function bi(a,s,o,c){return a={tag:a,create:s,destroy:o,deps:c,next:null},s=M.updateQueue,s===null?(s={lastEffect:null,stores:null},M.updateQueue=s,s.lastEffect=a.next=a):(o=s.lastEffect,o===null?s.lastEffect=a.next=a:(c=o.next,o.next=a,a.next=c,s.lastEffect=a)),a}function ji(){return Uh().memoizedState}function ki(a,s,o,c){var d=Th();M.flags|=a,d.memoizedState=bi(1|s,o,void 0,c===void 0?null:c)}function li(a,s,o,c){var d=Uh();c=c===void 0?null:c;var h=void 0;if(N!==null){var g=N.memoizedState;if(h=g.destroy,c!==null&&Mh(c,g.deps)){d.memoizedState=bi(s,o,h,c);return}}M.flags|=a,d.memoizedState=bi(1|s,o,h,c)}function mi(a,s){return ki(8390656,8,a,s)}function $h(a,s){return li(2048,8,a,s)}function ni(a,s){return li(4,2,a,s)}function oi(a,s){return li(4,4,a,s)}function pi(a,s){if(typeof s=="function")return a=a(),s(a),function(){s(null)};if(s!=null)return a=a(),s.current=a,function(){s.current=null}}function qi(a,s,o){return o=o!=null?o.concat([a]):null,li(4,4,pi.bind(null,s,a),o)}function ri(){}function si(a,s){var o=Uh();s=s===void 0?null:s;var c=o.memoizedState;return c!==null&&s!==null&&Mh(s,c[1])?c[0]:(o.memoizedState=[a,s],a)}function ti(a,s){var o=Uh();s=s===void 0?null:s;var c=o.memoizedState;return c!==null&&s!==null&&Mh(s,c[1])?c[0]:(a=a(),o.memoizedState=[a,s],a)}function ui(a,s,o){return Hh&21?(He(o,s)||(o=yc(),M.lanes|=o,rh|=o,a.baseState=!0),s):(a.baseState&&(a.baseState=!1,dh=!0),a.memoizedState=o)}function vi(a,s){var o=C;C=o!==0&&4>o?o:4,a(!0);var c=Gh.transition;Gh.transition={};try{a(!1),s()}finally{C=o,Gh.transition=c}}function wi(){return Uh().memoizedState}function xi(a,s,o){var c=yi(a);if(o={lane:c,action:o,hasEagerState:!1,eagerState:null,next:null},zi(a))Ai(s,o);else if(o=hh(a,s,o,c),o!==null){var d=R$1();gi(o,a,c,d),Bi(o,s,c)}}function ii(a,s,o){var c=yi(a),d={lane:c,action:o,hasEagerState:!1,eagerState:null,next:null};if(zi(a))Ai(s,d);else{var h=a.alternate;if(a.lanes===0&&(h===null||h.lanes===0)&&(h=s.lastRenderedReducer,h!==null))try{var g=s.lastRenderedState,b=h(g,o);if(d.hasEagerState=!0,d.eagerState=b,He(b,g)){var _=s.interleaved;_===null?(d.next=d,gh(s)):(d.next=_.next,_.next=d),s.interleaved=d;return}}catch{}finally{}o=hh(a,s,d,c),o!==null&&(d=R$1(),gi(o,a,c,d),Bi(o,s,c))}}function zi(a){var s=a.alternate;return a===M||s!==null&&s===M}function Ai(a,s){Jh=Ih=!0;var o=a.pending;o===null?s.next=s:(s.next=o.next,o.next=s),a.pending=s}function Bi(a,s,o){if(o&4194240){var c=s.lanes;c&=a.pendingLanes,o|=c,s.lanes=o,Cc(a,o)}}var Rh={readContext:eh,useCallback:P$1,useContext:P$1,useEffect:P$1,useImperativeHandle:P$1,useInsertionEffect:P$1,useLayoutEffect:P$1,useMemo:P$1,useReducer:P$1,useRef:P$1,useState:P$1,useDebugValue:P$1,useDeferredValue:P$1,useTransition:P$1,useMutableSource:P$1,useSyncExternalStore:P$1,useId:P$1,unstable_isNewReconciler:!1},Oh={readContext:eh,useCallback:function(a,s){return Th().memoizedState=[a,s===void 0?null:s],a},useContext:eh,useEffect:mi,useImperativeHandle:function(a,s,o){return o=o!=null?o.concat([a]):null,ki(4194308,4,pi.bind(null,s,a),o)},useLayoutEffect:function(a,s){return ki(4194308,4,a,s)},useInsertionEffect:function(a,s){return ki(4,2,a,s)},useMemo:function(a,s){var o=Th();return s=s===void 0?null:s,a=a(),o.memoizedState=[a,s],a},useReducer:function(a,s,o){var c=Th();return s=o!==void 0?o(s):s,c.memoizedState=c.baseState=s,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:s},c.queue=a,a=a.dispatch=xi.bind(null,M,a),[c.memoizedState,a]},useRef:function(a){var s=Th();return a={current:a},s.memoizedState=a},useState:hi,useDebugValue:ri,useDeferredValue:function(a){return Th().memoizedState=a},useTransition:function(){var a=hi(!1),s=a[0];return a=vi.bind(null,a[1]),Th().memoizedState=a,[s,a]},useMutableSource:function(){},useSyncExternalStore:function(a,s,o){var c=M,d=Th();if(I){if(o===void 0)throw Error(p(407));o=o()}else{if(o=s(),Q===null)throw Error(p(349));Hh&30||di(c,s,o)}d.memoizedState=o;var h={value:o,getSnapshot:s};return d.queue=h,mi(ai.bind(null,c,h,a),[a]),c.flags|=2048,bi(9,ci.bind(null,c,h,o,s),void 0,null),o},useId:function(){var a=Th(),s=Q.identifierPrefix;if(I){var o=sg,c=rg;o=(c&~(1<<32-oc(c)-1)).toString(32)+o,s=":"+s+"R"+o,o=Kh++,0<o&&(s+="H"+o.toString(32)),s+=":"}else o=Lh++,s=":"+s+"r"+o.toString(32)+":";return a.memoizedState=s},unstable_isNewReconciler:!1},Ph={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Wh,useRef:ji,useState:function(){return Wh(Vh)},useDebugValue:ri,useDeferredValue:function(a){var s=Uh();return ui(s,N.memoizedState,a)},useTransition:function(){var a=Wh(Vh)[0],s=Uh().memoizedState;return[a,s]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1},Qh={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Xh,useRef:ji,useState:function(){return Xh(Vh)},useDebugValue:ri,useDeferredValue:function(a){var s=Uh();return N===null?s.memoizedState=a:ui(s,N.memoizedState,a)},useTransition:function(){var a=Xh(Vh)[0],s=Uh().memoizedState;return[a,s]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1};function Ci(a,s){if(a&&a.defaultProps){s=A({},s),a=a.defaultProps;for(var o in a)s[o]===void 0&&(s[o]=a[o]);return s}return s}function Di(a,s,o,c){s=a.memoizedState,o=o(c,s),o=o==null?s:A({},s,o),a.memoizedState=o,a.lanes===0&&(a.updateQueue.baseState=o)}var Ei={isMounted:function(a){return(a=a._reactInternals)?Vb(a)===a:!1},enqueueSetState:function(a,s,o){a=a._reactInternals;var c=R$1(),d=yi(a),h=mh(c,d);h.payload=s,o!=null&&(h.callback=o),s=nh(a,h,d),s!==null&&(gi(s,a,d,c),oh(s,a,d))},enqueueReplaceState:function(a,s,o){a=a._reactInternals;var c=R$1(),d=yi(a),h=mh(c,d);h.tag=1,h.payload=s,o!=null&&(h.callback=o),s=nh(a,h,d),s!==null&&(gi(s,a,d,c),oh(s,a,d))},enqueueForceUpdate:function(a,s){a=a._reactInternals;var o=R$1(),c=yi(a),d=mh(o,c);d.tag=2,s!=null&&(d.callback=s),s=nh(a,d,c),s!==null&&(gi(s,a,c,o),oh(s,a,c))}};function Fi(a,s,o,c,d,h,g){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(c,h,g):s.prototype&&s.prototype.isPureReactComponent?!Ie(o,c)||!Ie(d,h):!0}function Gi(a,s,o){var c=!1,d=Vf,h=s.contextType;return typeof h=="object"&&h!==null?h=eh(h):(d=Zf(s)?Xf:H.current,c=s.contextTypes,h=(c=c!=null)?Yf(a,d):Vf),s=new s(o,h),a.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Ei,a.stateNode=s,s._reactInternals=a,c&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=d,a.__reactInternalMemoizedMaskedChildContext=h),s}function Hi(a,s,o,c){a=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,c),s.state!==a&&Ei.enqueueReplaceState(s,s.state,null)}function Ii(a,s,o,c){var d=a.stateNode;d.props=o,d.state=a.memoizedState,d.refs={},kh(a);var h=s.contextType;typeof h=="object"&&h!==null?d.context=eh(h):(h=Zf(s)?Xf:H.current,d.context=Yf(a,h)),d.state=a.memoizedState,h=s.getDerivedStateFromProps,typeof h=="function"&&(Di(a,s,h,o),d.state=a.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(s=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),s!==d.state&&Ei.enqueueReplaceState(d,d.state,null),qh(a,o,d,c),d.state=a.memoizedState),typeof d.componentDidMount=="function"&&(a.flags|=4194308)}function Ji(a,s){try{var o="",c=s;do o+=Pa(c),c=c.return;while(c);var d=o}catch(h){d=`
Error generating stack: `+h.message+`
`+h.stack}return{value:a,source:s,stack:d,digest:null}}function Ki(a,s,o){return{value:a,source:null,stack:o??null,digest:s??null}}function Li(a,s){try{console.error(s.value)}catch(o){setTimeout(function(){throw o})}}var Mi=typeof WeakMap=="function"?WeakMap:Map;function Ni(a,s,o){o=mh(-1,o),o.tag=3,o.payload={element:null};var c=s.value;return o.callback=function(){Oi||(Oi=!0,Pi=c),Li(a,s)},o}function Qi(a,s,o){o=mh(-1,o),o.tag=3;var c=a.type.getDerivedStateFromError;if(typeof c=="function"){var d=s.value;o.payload=function(){return c(d)},o.callback=function(){Li(a,s)}}var h=a.stateNode;return h!==null&&typeof h.componentDidCatch=="function"&&(o.callback=function(){Li(a,s),typeof c!="function"&&(Ri===null?Ri=new Set([this]):Ri.add(this));var g=s.stack;this.componentDidCatch(s.value,{componentStack:g!==null?g:""})}),o}function Si(a,s,o){var c=a.pingCache;if(c===null){c=a.pingCache=new Mi;var d=new Set;c.set(s,d)}else d=c.get(s),d===void 0&&(d=new Set,c.set(s,d));d.has(o)||(d.add(o),a=Ti.bind(null,a,s,o),s.then(a,a))}function Ui(a){do{var s;if((s=a.tag===13)&&(s=a.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return a;a=a.return}while(a!==null);return null}function Vi(a,s,o,c,d){return a.mode&1?(a.flags|=65536,a.lanes=d,a):(a===s?a.flags|=65536:(a.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(s=mh(-1,1),s.tag=2,nh(o,s,1))),o.lanes|=1),a)}var Wi=ua.ReactCurrentOwner,dh=!1;function Xi(a,s,o,c){s.child=a===null?Vg(s,null,o,c):Ug(s,a.child,o,c)}function Yi(a,s,o,c,d){o=o.render;var h=s.ref;return ch(s,d),c=Nh(a,s,o,c,h,d),o=Sh(),a!==null&&!dh?(s.updateQueue=a.updateQueue,s.flags&=-2053,a.lanes&=~d,Zi(a,s,d)):(I&&o&&vg(s),s.flags|=1,Xi(a,s,c,d),s.child)}function $i(a,s,o,c,d){if(a===null){var h=o.type;return typeof h=="function"&&!aj(h)&&h.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(s.tag=15,s.type=h,bj(a,s,h,c,d)):(a=Rg(o.type,null,c,s,s.mode,d),a.ref=s.ref,a.return=s,s.child=a)}if(h=a.child,!(a.lanes&d)){var g=h.memoizedProps;if(o=o.compare,o=o!==null?o:Ie,o(g,c)&&a.ref===s.ref)return Zi(a,s,d)}return s.flags|=1,a=Pg(h,c),a.ref=s.ref,a.return=s,s.child=a}function bj(a,s,o,c,d){if(a!==null){var h=a.memoizedProps;if(Ie(h,c)&&a.ref===s.ref)if(dh=!1,s.pendingProps=c=h,(a.lanes&d)!==0)a.flags&131072&&(dh=!0);else return s.lanes=a.lanes,Zi(a,s,d)}return cj(a,s,o,c,d)}function dj(a,s,o){var c=s.pendingProps,d=c.children,h=a!==null?a.memoizedState:null;if(c.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},G(ej,fj),fj|=o;else{if(!(o&1073741824))return a=h!==null?h.baseLanes|o:o,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:a,cachePool:null,transitions:null},s.updateQueue=null,G(ej,fj),fj|=a,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=h!==null?h.baseLanes:o,G(ej,fj),fj|=c}else h!==null?(c=h.baseLanes|o,s.memoizedState=null):c=o,G(ej,fj),fj|=c;return Xi(a,s,d,o),s.child}function gj(a,s){var o=s.ref;(a===null&&o!==null||a!==null&&a.ref!==o)&&(s.flags|=512,s.flags|=2097152)}function cj(a,s,o,c,d){var h=Zf(o)?Xf:H.current;return h=Yf(s,h),ch(s,d),o=Nh(a,s,o,c,h,d),c=Sh(),a!==null&&!dh?(s.updateQueue=a.updateQueue,s.flags&=-2053,a.lanes&=~d,Zi(a,s,d)):(I&&c&&vg(s),s.flags|=1,Xi(a,s,o,d),s.child)}function hj(a,s,o,c,d){if(Zf(o)){var h=!0;cg(s)}else h=!1;if(ch(s,d),s.stateNode===null)ij(a,s),Gi(s,o,c),Ii(s,o,c,d),c=!0;else if(a===null){var g=s.stateNode,b=s.memoizedProps;g.props=b;var _=g.context,$=o.contextType;typeof $=="object"&&$!==null?$=eh($):($=Zf(o)?Xf:H.current,$=Yf(s,$));var _e=o.getDerivedStateFromProps,tt=typeof _e=="function"||typeof g.getSnapshotBeforeUpdate=="function";tt||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(b!==c||_!==$)&&Hi(s,g,c,$),jh=!1;var et=s.memoizedState;g.state=et,qh(s,c,g,d),_=s.memoizedState,b!==c||et!==_||Wf.current||jh?(typeof _e=="function"&&(Di(s,o,_e,c),_=s.memoizedState),(b=jh||Fi(s,o,b,c,et,_,$))?(tt||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(s.flags|=4194308)):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=_),g.props=c,g.state=_,g.context=$,c=b):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{g=s.stateNode,lh(a,s),b=s.memoizedProps,$=s.type===s.elementType?b:Ci(s.type,b),g.props=$,tt=s.pendingProps,et=g.context,_=o.contextType,typeof _=="object"&&_!==null?_=eh(_):(_=Zf(o)?Xf:H.current,_=Yf(s,_));var nt=o.getDerivedStateFromProps;(_e=typeof nt=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(b!==tt||et!==_)&&Hi(s,g,c,_),jh=!1,et=s.memoizedState,g.state=et,qh(s,c,g,d);var ot=s.memoizedState;b!==tt||et!==ot||Wf.current||jh?(typeof nt=="function"&&(Di(s,o,nt,c),ot=s.memoizedState),($=jh||Fi(s,o,$,c,et,ot,_)||!1)?(_e||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,ot,_),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,ot,_)),typeof g.componentDidUpdate=="function"&&(s.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof g.componentDidUpdate!="function"||b===a.memoizedProps&&et===a.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||b===a.memoizedProps&&et===a.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=ot),g.props=c,g.state=ot,g.context=_,c=$):(typeof g.componentDidUpdate!="function"||b===a.memoizedProps&&et===a.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||b===a.memoizedProps&&et===a.memoizedState||(s.flags|=1024),c=!1)}return jj(a,s,o,c,h,d)}function jj(a,s,o,c,d,h){gj(a,s);var g=(s.flags&128)!==0;if(!c&&!g)return d&&dg(s,o,!1),Zi(a,s,h);c=s.stateNode,Wi.current=s;var b=g&&typeof o.getDerivedStateFromError!="function"?null:c.render();return s.flags|=1,a!==null&&g?(s.child=Ug(s,a.child,null,h),s.child=Ug(s,null,b,h)):Xi(a,s,b,h),s.memoizedState=c.state,d&&dg(s,o,!0),s.child}function kj(a){var s=a.stateNode;s.pendingContext?ag(a,s.pendingContext,s.pendingContext!==s.context):s.context&&ag(a,s.context,!1),yh(a,s.containerInfo)}function lj(a,s,o,c,d){return Ig(),Jg(d),s.flags|=256,Xi(a,s,o,c),s.child}var mj={dehydrated:null,treeContext:null,retryLane:0};function nj(a){return{baseLanes:a,cachePool:null,transitions:null}}function oj(a,s,o){var c=s.pendingProps,d=L$1.current,h=!1,g=(s.flags&128)!==0,b;if((b=g)||(b=a!==null&&a.memoizedState===null?!1:(d&2)!==0),b?(h=!0,s.flags&=-129):(a===null||a.memoizedState!==null)&&(d|=1),G(L$1,d&1),a===null)return Eg(s),a=s.memoizedState,a!==null&&(a=a.dehydrated,a!==null)?(s.mode&1?a.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(g=c.children,a=c.fallback,h?(c=s.mode,h=s.child,g={mode:"hidden",children:g},!(c&1)&&h!==null?(h.childLanes=0,h.pendingProps=g):h=pj(g,c,0,null),a=Tg(a,c,o,null),h.return=s,a.return=s,h.sibling=a,s.child=h,s.child.memoizedState=nj(o),s.memoizedState=mj,a):qj(s,g));if(d=a.memoizedState,d!==null&&(b=d.dehydrated,b!==null))return rj(a,s,g,c,b,d,o);if(h){h=c.fallback,g=s.mode,d=a.child,b=d.sibling;var _={mode:"hidden",children:c.children};return!(g&1)&&s.child!==d?(c=s.child,c.childLanes=0,c.pendingProps=_,s.deletions=null):(c=Pg(d,_),c.subtreeFlags=d.subtreeFlags&14680064),b!==null?h=Pg(b,h):(h=Tg(h,g,o,null),h.flags|=2),h.return=s,c.return=s,c.sibling=h,s.child=c,c=h,h=s.child,g=a.child.memoizedState,g=g===null?nj(o):{baseLanes:g.baseLanes|o,cachePool:null,transitions:g.transitions},h.memoizedState=g,h.childLanes=a.childLanes&~o,s.memoizedState=mj,c}return h=a.child,a=h.sibling,c=Pg(h,{mode:"visible",children:c.children}),!(s.mode&1)&&(c.lanes=o),c.return=s,c.sibling=null,a!==null&&(o=s.deletions,o===null?(s.deletions=[a],s.flags|=16):o.push(a)),s.child=c,s.memoizedState=null,c}function qj(a,s){return s=pj({mode:"visible",children:s},a.mode,0,null),s.return=a,a.child=s}function sj(a,s,o,c){return c!==null&&Jg(c),Ug(s,a.child,null,o),a=qj(s,s.pendingProps.children),a.flags|=2,s.memoizedState=null,a}function rj(a,s,o,c,d,h,g){if(o)return s.flags&256?(s.flags&=-257,c=Ki(Error(p(422))),sj(a,s,g,c)):s.memoizedState!==null?(s.child=a.child,s.flags|=128,null):(h=c.fallback,d=s.mode,c=pj({mode:"visible",children:c.children},d,0,null),h=Tg(h,d,g,null),h.flags|=2,c.return=s,h.return=s,c.sibling=h,s.child=c,s.mode&1&&Ug(s,a.child,null,g),s.child.memoizedState=nj(g),s.memoizedState=mj,h);if(!(s.mode&1))return sj(a,s,g,null);if(d.data==="$!"){if(c=d.nextSibling&&d.nextSibling.dataset,c)var b=c.dgst;return c=b,h=Error(p(419)),c=Ki(h,c,void 0),sj(a,s,g,c)}if(b=(g&a.childLanes)!==0,dh||b){if(c=Q,c!==null){switch(g&-g){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=d&(c.suspendedLanes|g)?0:d,d!==0&&d!==h.retryLane&&(h.retryLane=d,ih(a,d),gi(c,a,d,-1))}return tj(),c=Ki(Error(p(421))),sj(a,s,g,c)}return d.data==="$?"?(s.flags|=128,s.child=a.child,s=uj.bind(null,a),d._reactRetry=s,null):(a=h.treeContext,yg=Lf(d.nextSibling),xg=s,I=!0,zg=null,a!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=a.id,sg=a.overflow,qg=s),s=qj(s,c.children),s.flags|=4096,s)}function vj(a,s,o){a.lanes|=s;var c=a.alternate;c!==null&&(c.lanes|=s),bh(a.return,s,o)}function wj(a,s,o,c,d){var h=a.memoizedState;h===null?a.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:d}:(h.isBackwards=s,h.rendering=null,h.renderingStartTime=0,h.last=c,h.tail=o,h.tailMode=d)}function xj(a,s,o){var c=s.pendingProps,d=c.revealOrder,h=c.tail;if(Xi(a,s,c.children,o),c=L$1.current,c&2)c=c&1|2,s.flags|=128;else{if(a!==null&&a.flags&128)e:for(a=s.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&vj(a,o,s);else if(a.tag===19)vj(a,o,s);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break e;for(;a.sibling===null;){if(a.return===null||a.return===s)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}c&=1}if(G(L$1,c),!(s.mode&1))s.memoizedState=null;else switch(d){case"forwards":for(o=s.child,d=null;o!==null;)a=o.alternate,a!==null&&Ch(a)===null&&(d=o),o=o.sibling;o=d,o===null?(d=s.child,s.child=null):(d=o.sibling,o.sibling=null),wj(s,!1,d,o,h);break;case"backwards":for(o=null,d=s.child,s.child=null;d!==null;){if(a=d.alternate,a!==null&&Ch(a)===null){s.child=d;break}a=d.sibling,d.sibling=o,o=d,d=a}wj(s,!0,o,null,h);break;case"together":wj(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function ij(a,s){!(s.mode&1)&&a!==null&&(a.alternate=null,s.alternate=null,s.flags|=2)}function Zi(a,s,o){if(a!==null&&(s.dependencies=a.dependencies),rh|=s.lanes,!(o&s.childLanes))return null;if(a!==null&&s.child!==a.child)throw Error(p(153));if(s.child!==null){for(a=s.child,o=Pg(a,a.pendingProps),s.child=o,o.return=s;a.sibling!==null;)a=a.sibling,o=o.sibling=Pg(a,a.pendingProps),o.return=s;o.sibling=null}return s.child}function yj(a,s,o){switch(s.tag){case 3:kj(s),Ig();break;case 5:Ah(s);break;case 1:Zf(s.type)&&cg(s);break;case 4:yh(s,s.stateNode.containerInfo);break;case 10:var c=s.type._context,d=s.memoizedProps.value;G(Wg,c._currentValue),c._currentValue=d;break;case 13:if(c=s.memoizedState,c!==null)return c.dehydrated!==null?(G(L$1,L$1.current&1),s.flags|=128,null):o&s.child.childLanes?oj(a,s,o):(G(L$1,L$1.current&1),a=Zi(a,s,o),a!==null?a.sibling:null);G(L$1,L$1.current&1);break;case 19:if(c=(o&s.childLanes)!==0,a.flags&128){if(c)return xj(a,s,o);s.flags|=128}if(d=s.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),G(L$1,L$1.current),c)break;return null;case 22:case 23:return s.lanes=0,dj(a,s,o)}return Zi(a,s,o)}var zj,Aj,Bj,Cj;zj=function(a,s){for(var o=s.child;o!==null;){if(o.tag===5||o.tag===6)a.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return;o=o.return}o.sibling.return=o.return,o=o.sibling}};Aj=function(){};Bj=function(a,s,o,c){var d=a.memoizedProps;if(d!==c){a=s.stateNode,xh(uh.current);var h=null;switch(o){case"input":d=Ya(a,d),c=Ya(a,c),h=[];break;case"select":d=A({},d,{value:void 0}),c=A({},c,{value:void 0}),h=[];break;case"textarea":d=gb(a,d),c=gb(a,c),h=[];break;default:typeof d.onClick!="function"&&typeof c.onClick=="function"&&(a.onclick=Bf)}ub(o,c);var g;o=null;for($ in d)if(!c.hasOwnProperty($)&&d.hasOwnProperty($)&&d[$]!=null)if($==="style"){var b=d[$];for(g in b)b.hasOwnProperty(g)&&(o||(o={}),o[g]="")}else $!=="dangerouslySetInnerHTML"&&$!=="children"&&$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&$!=="autoFocus"&&(ea.hasOwnProperty($)?h||(h=[]):(h=h||[]).push($,null));for($ in c){var _=c[$];if(b=d!=null?d[$]:void 0,c.hasOwnProperty($)&&_!==b&&(_!=null||b!=null))if($==="style")if(b){for(g in b)!b.hasOwnProperty(g)||_&&_.hasOwnProperty(g)||(o||(o={}),o[g]="");for(g in _)_.hasOwnProperty(g)&&b[g]!==_[g]&&(o||(o={}),o[g]=_[g])}else o||(h||(h=[]),h.push($,o)),o=_;else $==="dangerouslySetInnerHTML"?(_=_?_.__html:void 0,b=b?b.__html:void 0,_!=null&&b!==_&&(h=h||[]).push($,_)):$==="children"?typeof _!="string"&&typeof _!="number"||(h=h||[]).push($,""+_):$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&(ea.hasOwnProperty($)?(_!=null&&$==="onScroll"&&D$1("scroll",a),h||b===_||(h=[])):(h=h||[]).push($,_))}o&&(h=h||[]).push("style",o);var $=h;(s.updateQueue=$)&&(s.flags|=4)}};Cj=function(a,s,o,c){o!==c&&(s.flags|=4)};function Dj(a,s){if(!I)switch(a.tailMode){case"hidden":s=a.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?a.tail=null:o.sibling=null;break;case"collapsed":o=a.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?s||a.tail===null?a.tail=null:a.tail.sibling=null:c.sibling=null}}function S(a){var s=a.alternate!==null&&a.alternate.child===a.child,o=0,c=0;if(s)for(var d=a.child;d!==null;)o|=d.lanes|d.childLanes,c|=d.subtreeFlags&14680064,c|=d.flags&14680064,d.return=a,d=d.sibling;else for(d=a.child;d!==null;)o|=d.lanes|d.childLanes,c|=d.subtreeFlags,c|=d.flags,d.return=a,d=d.sibling;return a.subtreeFlags|=c,a.childLanes=o,s}function Ej(a,s,o){var c=s.pendingProps;switch(wg(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S(s),null;case 1:return Zf(s.type)&&$f(),S(s),null;case 3:return c=s.stateNode,zh(),E$2(Wf),E$2(H),Eh(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(a===null||a.child===null)&&(Gg(s)?s.flags|=4:a===null||a.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,zg!==null&&(Fj(zg),zg=null))),Aj(a,s),S(s),null;case 5:Bh(s);var d=xh(wh.current);if(o=s.type,a!==null&&s.stateNode!=null)Bj(a,s,o,c,d),a.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!c){if(s.stateNode===null)throw Error(p(166));return S(s),null}if(a=xh(uh.current),Gg(s)){c=s.stateNode,o=s.type;var h=s.memoizedProps;switch(c[Of]=s,c[Pf]=h,a=(s.mode&1)!==0,o){case"dialog":D$1("cancel",c),D$1("close",c);break;case"iframe":case"object":case"embed":D$1("load",c);break;case"video":case"audio":for(d=0;d<lf.length;d++)D$1(lf[d],c);break;case"source":D$1("error",c);break;case"img":case"image":case"link":D$1("error",c),D$1("load",c);break;case"details":D$1("toggle",c);break;case"input":Za(c,h),D$1("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!h.multiple},D$1("invalid",c);break;case"textarea":hb(c,h),D$1("invalid",c)}ub(o,h),d=null;for(var g in h)if(h.hasOwnProperty(g)){var b=h[g];g==="children"?typeof b=="string"?c.textContent!==b&&(h.suppressHydrationWarning!==!0&&Af(c.textContent,b,a),d=["children",b]):typeof b=="number"&&c.textContent!==""+b&&(h.suppressHydrationWarning!==!0&&Af(c.textContent,b,a),d=["children",""+b]):ea.hasOwnProperty(g)&&b!=null&&g==="onScroll"&&D$1("scroll",c)}switch(o){case"input":Va(c),db(c,h,!0);break;case"textarea":Va(c),jb(c);break;case"select":case"option":break;default:typeof h.onClick=="function"&&(c.onclick=Bf)}c=d,s.updateQueue=c,c!==null&&(s.flags|=4)}else{g=d.nodeType===9?d:d.ownerDocument,a==="http://www.w3.org/1999/xhtml"&&(a=kb(o)),a==="http://www.w3.org/1999/xhtml"?o==="script"?(a=g.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild)):typeof c.is=="string"?a=g.createElement(o,{is:c.is}):(a=g.createElement(o),o==="select"&&(g=a,c.multiple?g.multiple=!0:c.size&&(g.size=c.size))):a=g.createElementNS(a,o),a[Of]=s,a[Pf]=c,zj(a,s,!1,!1),s.stateNode=a;e:{switch(g=vb(o,c),o){case"dialog":D$1("cancel",a),D$1("close",a),d=c;break;case"iframe":case"object":case"embed":D$1("load",a),d=c;break;case"video":case"audio":for(d=0;d<lf.length;d++)D$1(lf[d],a);d=c;break;case"source":D$1("error",a),d=c;break;case"img":case"image":case"link":D$1("error",a),D$1("load",a),d=c;break;case"details":D$1("toggle",a),d=c;break;case"input":Za(a,c),d=Ya(a,c),D$1("invalid",a);break;case"option":d=c;break;case"select":a._wrapperState={wasMultiple:!!c.multiple},d=A({},c,{value:void 0}),D$1("invalid",a);break;case"textarea":hb(a,c),d=gb(a,c),D$1("invalid",a);break;default:d=c}ub(o,d),b=d;for(h in b)if(b.hasOwnProperty(h)){var _=b[h];h==="style"?sb(a,_):h==="dangerouslySetInnerHTML"?(_=_?_.__html:void 0,_!=null&&nb(a,_)):h==="children"?typeof _=="string"?(o!=="textarea"||_!=="")&&ob(a,_):typeof _=="number"&&ob(a,""+_):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(ea.hasOwnProperty(h)?_!=null&&h==="onScroll"&&D$1("scroll",a):_!=null&&ta(a,h,_,g))}switch(o){case"input":Va(a),db(a,c,!1);break;case"textarea":Va(a),jb(a);break;case"option":c.value!=null&&a.setAttribute("value",""+Sa(c.value));break;case"select":a.multiple=!!c.multiple,h=c.value,h!=null?fb(a,!!c.multiple,h,!1):c.defaultValue!=null&&fb(a,!!c.multiple,c.defaultValue,!0);break;default:typeof d.onClick=="function"&&(a.onclick=Bf)}switch(o){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return S(s),null;case 6:if(a&&s.stateNode!=null)Cj(a,s,a.memoizedProps,c);else{if(typeof c!="string"&&s.stateNode===null)throw Error(p(166));if(o=xh(wh.current),xh(uh.current),Gg(s)){if(c=s.stateNode,o=s.memoizedProps,c[Of]=s,(h=c.nodeValue!==o)&&(a=xg,a!==null))switch(a.tag){case 3:Af(c.nodeValue,o,(a.mode&1)!==0);break;case 5:a.memoizedProps.suppressHydrationWarning!==!0&&Af(c.nodeValue,o,(a.mode&1)!==0)}h&&(s.flags|=4)}else c=(o.nodeType===9?o:o.ownerDocument).createTextNode(c),c[Of]=s,s.stateNode=c}return S(s),null;case 13:if(E$2(L$1),c=s.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(I&&yg!==null&&s.mode&1&&!(s.flags&128))Hg(),Ig(),s.flags|=98560,h=!1;else if(h=Gg(s),c!==null&&c.dehydrated!==null){if(a===null){if(!h)throw Error(p(318));if(h=s.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(p(317));h[Of]=s}else Ig(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;S(s),h=!1}else zg!==null&&(Fj(zg),zg=null),h=!0;if(!h)return s.flags&65536?s:null}return s.flags&128?(s.lanes=o,s):(c=c!==null,c!==(a!==null&&a.memoizedState!==null)&&c&&(s.child.flags|=8192,s.mode&1&&(a===null||L$1.current&1?T===0&&(T=3):tj())),s.updateQueue!==null&&(s.flags|=4),S(s),null);case 4:return zh(),Aj(a,s),a===null&&sf(s.stateNode.containerInfo),S(s),null;case 10:return ah(s.type._context),S(s),null;case 17:return Zf(s.type)&&$f(),S(s),null;case 19:if(E$2(L$1),h=s.memoizedState,h===null)return S(s),null;if(c=(s.flags&128)!==0,g=h.rendering,g===null)if(c)Dj(h,!1);else{if(T!==0||a!==null&&a.flags&128)for(a=s.child;a!==null;){if(g=Ch(a),g!==null){for(s.flags|=128,Dj(h,!1),c=g.updateQueue,c!==null&&(s.updateQueue=c,s.flags|=4),s.subtreeFlags=0,c=o,o=s.child;o!==null;)h=o,a=c,h.flags&=14680066,g=h.alternate,g===null?(h.childLanes=0,h.lanes=a,h.child=null,h.subtreeFlags=0,h.memoizedProps=null,h.memoizedState=null,h.updateQueue=null,h.dependencies=null,h.stateNode=null):(h.childLanes=g.childLanes,h.lanes=g.lanes,h.child=g.child,h.subtreeFlags=0,h.deletions=null,h.memoizedProps=g.memoizedProps,h.memoizedState=g.memoizedState,h.updateQueue=g.updateQueue,h.type=g.type,a=g.dependencies,h.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),o=o.sibling;return G(L$1,L$1.current&1|2),s.child}a=a.sibling}h.tail!==null&&B()>Gj&&(s.flags|=128,c=!0,Dj(h,!1),s.lanes=4194304)}else{if(!c)if(a=Ch(g),a!==null){if(s.flags|=128,c=!0,o=a.updateQueue,o!==null&&(s.updateQueue=o,s.flags|=4),Dj(h,!0),h.tail===null&&h.tailMode==="hidden"&&!g.alternate&&!I)return S(s),null}else 2*B()-h.renderingStartTime>Gj&&o!==1073741824&&(s.flags|=128,c=!0,Dj(h,!1),s.lanes=4194304);h.isBackwards?(g.sibling=s.child,s.child=g):(o=h.last,o!==null?o.sibling=g:s.child=g,h.last=g)}return h.tail!==null?(s=h.tail,h.rendering=s,h.tail=s.sibling,h.renderingStartTime=B(),s.sibling=null,o=L$1.current,G(L$1,c?o&1|2:o&1),s):(S(s),null);case 22:case 23:return Hj(),c=s.memoizedState!==null,a!==null&&a.memoizedState!==null!==c&&(s.flags|=8192),c&&s.mode&1?fj&1073741824&&(S(s),s.subtreeFlags&6&&(s.flags|=8192)):S(s),null;case 24:return null;case 25:return null}throw Error(p(156,s.tag))}function Ij(a,s){switch(wg(s),s.tag){case 1:return Zf(s.type)&&$f(),a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 3:return zh(),E$2(Wf),E$2(H),Eh(),a=s.flags,a&65536&&!(a&128)?(s.flags=a&-65537|128,s):null;case 5:return Bh(s),null;case 13:if(E$2(L$1),a=s.memoizedState,a!==null&&a.dehydrated!==null){if(s.alternate===null)throw Error(p(340));Ig()}return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 19:return E$2(L$1),null;case 4:return zh(),null;case 10:return ah(s.type._context),null;case 22:case 23:return Hj(),null;case 24:return null;default:return null}}var Jj=!1,U$1=!1,Kj=typeof WeakSet=="function"?WeakSet:Set,V=null;function Lj(a,s){var o=a.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(c){W(a,s,c)}else o.current=null}function Mj(a,s,o){try{o()}catch(c){W(a,s,c)}}var Nj=!1;function Oj(a,s){if(Cf=dd,a=Me(),Ne(a)){if("selectionStart"in a)var o={start:a.selectionStart,end:a.selectionEnd};else e:{o=(o=a.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var d=c.anchorOffset,h=c.focusNode;c=c.focusOffset;try{o.nodeType,h.nodeType}catch{o=null;break e}var g=0,b=-1,_=-1,$=0,_e=0,tt=a,et=null;t:for(;;){for(var nt;tt!==o||d!==0&&tt.nodeType!==3||(b=g+d),tt!==h||c!==0&&tt.nodeType!==3||(_=g+c),tt.nodeType===3&&(g+=tt.nodeValue.length),(nt=tt.firstChild)!==null;)et=tt,tt=nt;for(;;){if(tt===a)break t;if(et===o&&++$===d&&(b=g),et===h&&++_e===c&&(_=g),(nt=tt.nextSibling)!==null)break;tt=et,et=tt.parentNode}tt=nt}o=b===-1||_===-1?null:{start:b,end:_}}else o=null}o=o||{start:0,end:0}}else o=null;for(Df={focusedElem:a,selectionRange:o},dd=!1,V=s;V!==null;)if(s=V,a=s.child,(s.subtreeFlags&1028)!==0&&a!==null)a.return=s,V=a;else for(;V!==null;){s=V;try{var ot=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(ot!==null){var st=ot.memoizedProps,pt=ot.memoizedState,at=s.stateNode,ht=at.getSnapshotBeforeUpdate(s.elementType===s.type?st:Ci(s.type,st),pt);at.__reactInternalSnapshotBeforeUpdate=ht}break;case 3:var lt=s.stateNode.containerInfo;lt.nodeType===1?lt.textContent="":lt.nodeType===9&&lt.documentElement&&lt.removeChild(lt.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p(163))}}catch(yt){W(s,s.return,yt)}if(a=s.sibling,a!==null){a.return=s.return,V=a;break}V=s.return}return ot=Nj,Nj=!1,ot}function Pj(a,s,o){var c=s.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var d=c=c.next;do{if((d.tag&a)===a){var h=d.destroy;d.destroy=void 0,h!==void 0&&Mj(s,o,h)}d=d.next}while(d!==c)}}function Qj(a,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var o=s=s.next;do{if((o.tag&a)===a){var c=o.create;o.destroy=c()}o=o.next}while(o!==s)}}function Rj(a){var s=a.ref;if(s!==null){var o=a.stateNode;switch(a.tag){case 5:a=o;break;default:a=o}typeof s=="function"?s(a):s.current=a}}function Sj(a){var s=a.alternate;s!==null&&(a.alternate=null,Sj(s)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(s=a.stateNode,s!==null&&(delete s[Of],delete s[Pf],delete s[of],delete s[Qf],delete s[Rf])),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function Tj(a){return a.tag===5||a.tag===3||a.tag===4}function Uj(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||Tj(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Vj(a,s,o){var c=a.tag;if(c===5||c===6)a=a.stateNode,s?o.nodeType===8?o.parentNode.insertBefore(a,s):o.insertBefore(a,s):(o.nodeType===8?(s=o.parentNode,s.insertBefore(a,o)):(s=o,s.appendChild(a)),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=Bf));else if(c!==4&&(a=a.child,a!==null))for(Vj(a,s,o),a=a.sibling;a!==null;)Vj(a,s,o),a=a.sibling}function Wj(a,s,o){var c=a.tag;if(c===5||c===6)a=a.stateNode,s?o.insertBefore(a,s):o.appendChild(a);else if(c!==4&&(a=a.child,a!==null))for(Wj(a,s,o),a=a.sibling;a!==null;)Wj(a,s,o),a=a.sibling}var X$1=null,Xj=!1;function Yj(a,s,o){for(o=o.child;o!==null;)Zj(a,s,o),o=o.sibling}function Zj(a,s,o){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,o)}catch{}switch(o.tag){case 5:U$1||Lj(o,s);case 6:var c=X$1,d=Xj;X$1=null,Yj(a,s,o),X$1=c,Xj=d,X$1!==null&&(Xj?(a=X$1,o=o.stateNode,a.nodeType===8?a.parentNode.removeChild(o):a.removeChild(o)):X$1.removeChild(o.stateNode));break;case 18:X$1!==null&&(Xj?(a=X$1,o=o.stateNode,a.nodeType===8?Kf(a.parentNode,o):a.nodeType===1&&Kf(a,o),bd(a)):Kf(X$1,o.stateNode));break;case 4:c=X$1,d=Xj,X$1=o.stateNode.containerInfo,Xj=!0,Yj(a,s,o),X$1=c,Xj=d;break;case 0:case 11:case 14:case 15:if(!U$1&&(c=o.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){d=c=c.next;do{var h=d,g=h.destroy;h=h.tag,g!==void 0&&(h&2||h&4)&&Mj(o,s,g),d=d.next}while(d!==c)}Yj(a,s,o);break;case 1:if(!U$1&&(Lj(o,s),c=o.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=o.memoizedProps,c.state=o.memoizedState,c.componentWillUnmount()}catch(b){W(o,s,b)}Yj(a,s,o);break;case 21:Yj(a,s,o);break;case 22:o.mode&1?(U$1=(c=U$1)||o.memoizedState!==null,Yj(a,s,o),U$1=c):Yj(a,s,o);break;default:Yj(a,s,o)}}function ak(a){var s=a.updateQueue;if(s!==null){a.updateQueue=null;var o=a.stateNode;o===null&&(o=a.stateNode=new Kj),s.forEach(function(c){var d=bk.bind(null,a,c);o.has(c)||(o.add(c),c.then(d,d))})}}function ck(a,s){var o=s.deletions;if(o!==null)for(var c=0;c<o.length;c++){var d=o[c];try{var h=a,g=s,b=g;e:for(;b!==null;){switch(b.tag){case 5:X$1=b.stateNode,Xj=!1;break e;case 3:X$1=b.stateNode.containerInfo,Xj=!0;break e;case 4:X$1=b.stateNode.containerInfo,Xj=!0;break e}b=b.return}if(X$1===null)throw Error(p(160));Zj(h,g,d),X$1=null,Xj=!1;var _=d.alternate;_!==null&&(_.return=null),d.return=null}catch($){W(d,s,$)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)dk(s,a),s=s.sibling}function dk(a,s){var o=a.alternate,c=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(ck(s,a),ek(a),c&4){try{Pj(3,a,a.return),Qj(3,a)}catch(st){W(a,a.return,st)}try{Pj(5,a,a.return)}catch(st){W(a,a.return,st)}}break;case 1:ck(s,a),ek(a),c&512&&o!==null&&Lj(o,o.return);break;case 5:if(ck(s,a),ek(a),c&512&&o!==null&&Lj(o,o.return),a.flags&32){var d=a.stateNode;try{ob(d,"")}catch(st){W(a,a.return,st)}}if(c&4&&(d=a.stateNode,d!=null)){var h=a.memoizedProps,g=o!==null?o.memoizedProps:h,b=a.type,_=a.updateQueue;if(a.updateQueue=null,_!==null)try{b==="input"&&h.type==="radio"&&h.name!=null&&ab(d,h),vb(b,g);var $=vb(b,h);for(g=0;g<_.length;g+=2){var _e=_[g],tt=_[g+1];_e==="style"?sb(d,tt):_e==="dangerouslySetInnerHTML"?nb(d,tt):_e==="children"?ob(d,tt):ta(d,_e,tt,$)}switch(b){case"input":bb(d,h);break;case"textarea":ib(d,h);break;case"select":var et=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!h.multiple;var nt=h.value;nt!=null?fb(d,!!h.multiple,nt,!1):et!==!!h.multiple&&(h.defaultValue!=null?fb(d,!!h.multiple,h.defaultValue,!0):fb(d,!!h.multiple,h.multiple?[]:"",!1))}d[Pf]=h}catch(st){W(a,a.return,st)}}break;case 6:if(ck(s,a),ek(a),c&4){if(a.stateNode===null)throw Error(p(162));d=a.stateNode,h=a.memoizedProps;try{d.nodeValue=h}catch(st){W(a,a.return,st)}}break;case 3:if(ck(s,a),ek(a),c&4&&o!==null&&o.memoizedState.isDehydrated)try{bd(s.containerInfo)}catch(st){W(a,a.return,st)}break;case 4:ck(s,a),ek(a);break;case 13:ck(s,a),ek(a),d=a.child,d.flags&8192&&(h=d.memoizedState!==null,d.stateNode.isHidden=h,!h||d.alternate!==null&&d.alternate.memoizedState!==null||(fk=B())),c&4&&ak(a);break;case 22:if(_e=o!==null&&o.memoizedState!==null,a.mode&1?(U$1=($=U$1)||_e,ck(s,a),U$1=$):ck(s,a),ek(a),c&8192){if($=a.memoizedState!==null,(a.stateNode.isHidden=$)&&!_e&&a.mode&1)for(V=a,_e=a.child;_e!==null;){for(tt=V=_e;V!==null;){switch(et=V,nt=et.child,et.tag){case 0:case 11:case 14:case 15:Pj(4,et,et.return);break;case 1:Lj(et,et.return);var ot=et.stateNode;if(typeof ot.componentWillUnmount=="function"){c=et,o=et.return;try{s=c,ot.props=s.memoizedProps,ot.state=s.memoizedState,ot.componentWillUnmount()}catch(st){W(c,o,st)}}break;case 5:Lj(et,et.return);break;case 22:if(et.memoizedState!==null){gk(tt);continue}}nt!==null?(nt.return=et,V=nt):gk(tt)}_e=_e.sibling}e:for(_e=null,tt=a;;){if(tt.tag===5){if(_e===null){_e=tt;try{d=tt.stateNode,$?(h=d.style,typeof h.setProperty=="function"?h.setProperty("display","none","important"):h.display="none"):(b=tt.stateNode,_=tt.memoizedProps.style,g=_!=null&&_.hasOwnProperty("display")?_.display:null,b.style.display=rb("display",g))}catch(st){W(a,a.return,st)}}}else if(tt.tag===6){if(_e===null)try{tt.stateNode.nodeValue=$?"":tt.memoizedProps}catch(st){W(a,a.return,st)}}else if((tt.tag!==22&&tt.tag!==23||tt.memoizedState===null||tt===a)&&tt.child!==null){tt.child.return=tt,tt=tt.child;continue}if(tt===a)break e;for(;tt.sibling===null;){if(tt.return===null||tt.return===a)break e;_e===tt&&(_e=null),tt=tt.return}_e===tt&&(_e=null),tt.sibling.return=tt.return,tt=tt.sibling}}break;case 19:ck(s,a),ek(a),c&4&&ak(a);break;case 21:break;default:ck(s,a),ek(a)}}function ek(a){var s=a.flags;if(s&2){try{e:{for(var o=a.return;o!==null;){if(Tj(o)){var c=o;break e}o=o.return}throw Error(p(160))}switch(c.tag){case 5:var d=c.stateNode;c.flags&32&&(ob(d,""),c.flags&=-33);var h=Uj(a);Wj(a,h,d);break;case 3:case 4:var g=c.stateNode.containerInfo,b=Uj(a);Vj(a,b,g);break;default:throw Error(p(161))}}catch(_){W(a,a.return,_)}a.flags&=-3}s&4096&&(a.flags&=-4097)}function hk(a,s,o){V=a,ik(a)}function ik(a,s,o){for(var c=(a.mode&1)!==0;V!==null;){var d=V,h=d.child;if(d.tag===22&&c){var g=d.memoizedState!==null||Jj;if(!g){var b=d.alternate,_=b!==null&&b.memoizedState!==null||U$1;b=Jj;var $=U$1;if(Jj=g,(U$1=_)&&!$)for(V=d;V!==null;)g=V,_=g.child,g.tag===22&&g.memoizedState!==null?jk(d):_!==null?(_.return=g,V=_):jk(d);for(;h!==null;)V=h,ik(h),h=h.sibling;V=d,Jj=b,U$1=$}kk(a)}else d.subtreeFlags&8772&&h!==null?(h.return=d,V=h):kk(a)}}function kk(a){for(;V!==null;){var s=V;if(s.flags&8772){var o=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:U$1||Qj(5,s);break;case 1:var c=s.stateNode;if(s.flags&4&&!U$1)if(o===null)c.componentDidMount();else{var d=s.elementType===s.type?o.memoizedProps:Ci(s.type,o.memoizedProps);c.componentDidUpdate(d,o.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var h=s.updateQueue;h!==null&&sh(s,h,c);break;case 3:var g=s.updateQueue;if(g!==null){if(o=null,s.child!==null)switch(s.child.tag){case 5:o=s.child.stateNode;break;case 1:o=s.child.stateNode}sh(s,g,o)}break;case 5:var b=s.stateNode;if(o===null&&s.flags&4){o=b;var _=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":_.autoFocus&&o.focus();break;case"img":_.src&&(o.src=_.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var $=s.alternate;if($!==null){var _e=$.memoizedState;if(_e!==null){var tt=_e.dehydrated;tt!==null&&bd(tt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p(163))}U$1||s.flags&512&&Rj(s)}catch(et){W(s,s.return,et)}}if(s===a){V=null;break}if(o=s.sibling,o!==null){o.return=s.return,V=o;break}V=s.return}}function gk(a){for(;V!==null;){var s=V;if(s===a){V=null;break}var o=s.sibling;if(o!==null){o.return=s.return,V=o;break}V=s.return}}function jk(a){for(;V!==null;){var s=V;try{switch(s.tag){case 0:case 11:case 15:var o=s.return;try{Qj(4,s)}catch(_){W(s,o,_)}break;case 1:var c=s.stateNode;if(typeof c.componentDidMount=="function"){var d=s.return;try{c.componentDidMount()}catch(_){W(s,d,_)}}var h=s.return;try{Rj(s)}catch(_){W(s,h,_)}break;case 5:var g=s.return;try{Rj(s)}catch(_){W(s,g,_)}}}catch(_){W(s,s.return,_)}if(s===a){V=null;break}var b=s.sibling;if(b!==null){b.return=s.return,V=b;break}V=s.return}}var lk=Math.ceil,mk=ua.ReactCurrentDispatcher,nk=ua.ReactCurrentOwner,ok=ua.ReactCurrentBatchConfig,K=0,Q=null,Y=null,Z=0,fj=0,ej=Uf(0),T=0,pk=null,rh=0,qk=0,rk=0,sk=null,tk=null,fk=0,Gj=1/0,uk=null,Oi=!1,Pi=null,Ri=null,vk=!1,wk=null,xk=0,yk=0,zk=null,Ak=-1,Bk=0;function R$1(){return K&6?B():Ak!==-1?Ak:Ak=B()}function yi(a){return a.mode&1?K&2&&Z!==0?Z&-Z:Kg.transition!==null?(Bk===0&&(Bk=yc()),Bk):(a=C,a!==0||(a=window.event,a=a===void 0?16:jd(a.type)),a):1}function gi(a,s,o,c){if(50<yk)throw yk=0,zk=null,Error(p(185));Ac(a,o,c),(!(K&2)||a!==Q)&&(a===Q&&(!(K&2)&&(qk|=o),T===4&&Ck(a,Z)),Dk(a,c),o===1&&K===0&&!(s.mode&1)&&(Gj=B()+500,fg&&jg()))}function Dk(a,s){var o=a.callbackNode;wc(a,s);var c=uc(a,a===Q?Z:0);if(c===0)o!==null&&bc(o),a.callbackNode=null,a.callbackPriority=0;else if(s=c&-c,a.callbackPriority!==s){if(o!=null&&bc(o),s===1)a.tag===0?ig(Ek.bind(null,a)):hg(Ek.bind(null,a)),Jf(function(){!(K&6)&&jg()}),o=null;else{switch(Dc(c)){case 1:o=fc;break;case 4:o=gc;break;case 16:o=hc;break;case 536870912:o=jc;break;default:o=hc}o=Fk(o,Gk.bind(null,a))}a.callbackPriority=s,a.callbackNode=o}}function Gk(a,s){if(Ak=-1,Bk=0,K&6)throw Error(p(327));var o=a.callbackNode;if(Hk()&&a.callbackNode!==o)return null;var c=uc(a,a===Q?Z:0);if(c===0)return null;if(c&30||c&a.expiredLanes||s)s=Ik(a,c);else{s=c;var d=K;K|=2;var h=Jk();(Q!==a||Z!==s)&&(uk=null,Gj=B()+500,Kk(a,s));do try{Lk();break}catch(b){Mk(a,b)}while(!0);$g(),mk.current=h,K=d,Y!==null?s=0:(Q=null,Z=0,s=T)}if(s!==0){if(s===2&&(d=xc(a),d!==0&&(c=d,s=Nk(a,d))),s===1)throw o=pk,Kk(a,0),Ck(a,c),Dk(a,B()),o;if(s===6)Ck(a,c);else{if(d=a.current.alternate,!(c&30)&&!Ok(d)&&(s=Ik(a,c),s===2&&(h=xc(a),h!==0&&(c=h,s=Nk(a,h))),s===1))throw o=pk,Kk(a,0),Ck(a,c),Dk(a,B()),o;switch(a.finishedWork=d,a.finishedLanes=c,s){case 0:case 1:throw Error(p(345));case 2:Pk(a,tk,uk);break;case 3:if(Ck(a,c),(c&130023424)===c&&(s=fk+500-B(),10<s)){if(uc(a,0)!==0)break;if(d=a.suspendedLanes,(d&c)!==c){R$1(),a.pingedLanes|=a.suspendedLanes&d;break}a.timeoutHandle=Ff(Pk.bind(null,a,tk,uk),s);break}Pk(a,tk,uk);break;case 4:if(Ck(a,c),(c&4194240)===c)break;for(s=a.eventTimes,d=-1;0<c;){var g=31-oc(c);h=1<<g,g=s[g],g>d&&(d=g),c&=~h}if(c=d,c=B()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*lk(c/1960))-c,10<c){a.timeoutHandle=Ff(Pk.bind(null,a,tk,uk),c);break}Pk(a,tk,uk);break;case 5:Pk(a,tk,uk);break;default:throw Error(p(329))}}}return Dk(a,B()),a.callbackNode===o?Gk.bind(null,a):null}function Nk(a,s){var o=sk;return a.current.memoizedState.isDehydrated&&(Kk(a,s).flags|=256),a=Ik(a,s),a!==2&&(s=tk,tk=o,s!==null&&Fj(s)),a}function Fj(a){tk===null?tk=a:tk.push.apply(tk,a)}function Ok(a){for(var s=a;;){if(s.flags&16384){var o=s.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var c=0;c<o.length;c++){var d=o[c],h=d.getSnapshot;d=d.value;try{if(!He(h(),d))return!1}catch{return!1}}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===a)break;for(;s.sibling===null;){if(s.return===null||s.return===a)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ck(a,s){for(s&=~rk,s&=~qk,a.suspendedLanes|=s,a.pingedLanes&=~s,a=a.expirationTimes;0<s;){var o=31-oc(s),c=1<<o;a[o]=-1,s&=~c}}function Ek(a){if(K&6)throw Error(p(327));Hk();var s=uc(a,0);if(!(s&1))return Dk(a,B()),null;var o=Ik(a,s);if(a.tag!==0&&o===2){var c=xc(a);c!==0&&(s=c,o=Nk(a,c))}if(o===1)throw o=pk,Kk(a,0),Ck(a,s),Dk(a,B()),o;if(o===6)throw Error(p(345));return a.finishedWork=a.current.alternate,a.finishedLanes=s,Pk(a,tk,uk),Dk(a,B()),null}function Qk(a,s){var o=K;K|=1;try{return a(s)}finally{K=o,K===0&&(Gj=B()+500,fg&&jg())}}function Rk(a){wk!==null&&wk.tag===0&&!(K&6)&&Hk();var s=K;K|=1;var o=ok.transition,c=C;try{if(ok.transition=null,C=1,a)return a()}finally{C=c,ok.transition=o,K=s,!(K&6)&&jg()}}function Hj(){fj=ej.current,E$2(ej)}function Kk(a,s){a.finishedWork=null,a.finishedLanes=0;var o=a.timeoutHandle;if(o!==-1&&(a.timeoutHandle=-1,Gf(o)),Y!==null)for(o=Y.return;o!==null;){var c=o;switch(wg(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&$f();break;case 3:zh(),E$2(Wf),E$2(H),Eh();break;case 5:Bh(c);break;case 4:zh();break;case 13:E$2(L$1);break;case 19:E$2(L$1);break;case 10:ah(c.type._context);break;case 22:case 23:Hj()}o=o.return}if(Q=a,Y=a=Pg(a.current,null),Z=fj=s,T=0,pk=null,rk=qk=rh=0,tk=sk=null,fh!==null){for(s=0;s<fh.length;s++)if(o=fh[s],c=o.interleaved,c!==null){o.interleaved=null;var d=c.next,h=o.pending;if(h!==null){var g=h.next;h.next=d,c.next=g}o.pending=c}fh=null}return a}function Mk(a,s){do{var o=Y;try{if($g(),Fh.current=Rh,Ih){for(var c=M.memoizedState;c!==null;){var d=c.queue;d!==null&&(d.pending=null),c=c.next}Ih=!1}if(Hh=0,O=N=M=null,Jh=!1,Kh=0,nk.current=null,o===null||o.return===null){T=1,pk=s,Y=null;break}e:{var h=a,g=o.return,b=o,_=s;if(s=Z,b.flags|=32768,_!==null&&typeof _=="object"&&typeof _.then=="function"){var $=_,_e=b,tt=_e.tag;if(!(_e.mode&1)&&(tt===0||tt===11||tt===15)){var et=_e.alternate;et?(_e.updateQueue=et.updateQueue,_e.memoizedState=et.memoizedState,_e.lanes=et.lanes):(_e.updateQueue=null,_e.memoizedState=null)}var nt=Ui(g);if(nt!==null){nt.flags&=-257,Vi(nt,g,b,h,s),nt.mode&1&&Si(h,$,s),s=nt,_=$;var ot=s.updateQueue;if(ot===null){var st=new Set;st.add(_),s.updateQueue=st}else ot.add(_);break e}else{if(!(s&1)){Si(h,$,s),tj();break e}_=Error(p(426))}}else if(I&&b.mode&1){var pt=Ui(g);if(pt!==null){!(pt.flags&65536)&&(pt.flags|=256),Vi(pt,g,b,h,s),Jg(Ji(_,b));break e}}h=_=Ji(_,b),T!==4&&(T=2),sk===null?sk=[h]:sk.push(h),h=g;do{switch(h.tag){case 3:h.flags|=65536,s&=-s,h.lanes|=s;var at=Ni(h,_,s);ph(h,at);break e;case 1:b=_;var ht=h.type,lt=h.stateNode;if(!(h.flags&128)&&(typeof ht.getDerivedStateFromError=="function"||lt!==null&&typeof lt.componentDidCatch=="function"&&(Ri===null||!Ri.has(lt)))){h.flags|=65536,s&=-s,h.lanes|=s;var yt=Qi(h,b,s);ph(h,yt);break e}}h=h.return}while(h!==null)}Sk(o)}catch(bt){s=bt,Y===o&&o!==null&&(Y=o=o.return);continue}break}while(!0)}function Jk(){var a=mk.current;return mk.current=Rh,a===null?Rh:a}function tj(){(T===0||T===3||T===2)&&(T=4),Q===null||!(rh&268435455)&&!(qk&268435455)||Ck(Q,Z)}function Ik(a,s){var o=K;K|=2;var c=Jk();(Q!==a||Z!==s)&&(uk=null,Kk(a,s));do try{Tk();break}catch(d){Mk(a,d)}while(!0);if($g(),K=o,mk.current=c,Y!==null)throw Error(p(261));return Q=null,Z=0,T}function Tk(){for(;Y!==null;)Uk(Y)}function Lk(){for(;Y!==null&&!cc();)Uk(Y)}function Uk(a){var s=Vk(a.alternate,a,fj);a.memoizedProps=a.pendingProps,s===null?Sk(a):Y=s,nk.current=null}function Sk(a){var s=a;do{var o=s.alternate;if(a=s.return,s.flags&32768){if(o=Ij(o,s),o!==null){o.flags&=32767,Y=o;return}if(a!==null)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{T=6,Y=null;return}}else if(o=Ej(o,s,fj),o!==null){Y=o;return}if(s=s.sibling,s!==null){Y=s;return}Y=s=a}while(s!==null);T===0&&(T=5)}function Pk(a,s,o){var c=C,d=ok.transition;try{ok.transition=null,C=1,Wk(a,s,o,c)}finally{ok.transition=d,C=c}return null}function Wk(a,s,o,c){do Hk();while(wk!==null);if(K&6)throw Error(p(327));o=a.finishedWork;var d=a.finishedLanes;if(o===null)return null;if(a.finishedWork=null,a.finishedLanes=0,o===a.current)throw Error(p(177));a.callbackNode=null,a.callbackPriority=0;var h=o.lanes|o.childLanes;if(Bc(a,h),a===Q&&(Y=Q=null,Z=0),!(o.subtreeFlags&2064)&&!(o.flags&2064)||vk||(vk=!0,Fk(hc,function(){return Hk(),null})),h=(o.flags&15990)!==0,o.subtreeFlags&15990||h){h=ok.transition,ok.transition=null;var g=C;C=1;var b=K;K|=4,nk.current=null,Oj(a,o),dk(o,a),Oe(Df),dd=!!Cf,Df=Cf=null,a.current=o,hk(o),dc(),K=b,C=g,ok.transition=h}else a.current=o;if(vk&&(vk=!1,wk=a,xk=d),h=a.pendingLanes,h===0&&(Ri=null),mc(o.stateNode),Dk(a,B()),s!==null)for(c=a.onRecoverableError,o=0;o<s.length;o++)d=s[o],c(d.value,{componentStack:d.stack,digest:d.digest});if(Oi)throw Oi=!1,a=Pi,Pi=null,a;return xk&1&&a.tag!==0&&Hk(),h=a.pendingLanes,h&1?a===zk?yk++:(yk=0,zk=a):yk=0,jg(),null}function Hk(){if(wk!==null){var a=Dc(xk),s=ok.transition,o=C;try{if(ok.transition=null,C=16>a?16:a,wk===null)var c=!1;else{if(a=wk,wk=null,xk=0,K&6)throw Error(p(331));var d=K;for(K|=4,V=a.current;V!==null;){var h=V,g=h.child;if(V.flags&16){var b=h.deletions;if(b!==null){for(var _=0;_<b.length;_++){var $=b[_];for(V=$;V!==null;){var _e=V;switch(_e.tag){case 0:case 11:case 15:Pj(8,_e,h)}var tt=_e.child;if(tt!==null)tt.return=_e,V=tt;else for(;V!==null;){_e=V;var et=_e.sibling,nt=_e.return;if(Sj(_e),_e===$){V=null;break}if(et!==null){et.return=nt,V=et;break}V=nt}}}var ot=h.alternate;if(ot!==null){var st=ot.child;if(st!==null){ot.child=null;do{var pt=st.sibling;st.sibling=null,st=pt}while(st!==null)}}V=h}}if(h.subtreeFlags&2064&&g!==null)g.return=h,V=g;else e:for(;V!==null;){if(h=V,h.flags&2048)switch(h.tag){case 0:case 11:case 15:Pj(9,h,h.return)}var at=h.sibling;if(at!==null){at.return=h.return,V=at;break e}V=h.return}}var ht=a.current;for(V=ht;V!==null;){g=V;var lt=g.child;if(g.subtreeFlags&2064&&lt!==null)lt.return=g,V=lt;else e:for(g=ht;V!==null;){if(b=V,b.flags&2048)try{switch(b.tag){case 0:case 11:case 15:Qj(9,b)}}catch(bt){W(b,b.return,bt)}if(b===g){V=null;break e}var yt=b.sibling;if(yt!==null){yt.return=b.return,V=yt;break e}V=b.return}}if(K=d,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,a)}catch{}c=!0}return c}finally{C=o,ok.transition=s}}return!1}function Xk(a,s,o){s=Ji(o,s),s=Ni(a,s,1),a=nh(a,s,1),s=R$1(),a!==null&&(Ac(a,1,s),Dk(a,s))}function W(a,s,o){if(a.tag===3)Xk(a,a,o);else for(;s!==null;){if(s.tag===3){Xk(s,a,o);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Ri===null||!Ri.has(c))){a=Ji(o,a),a=Qi(s,a,1),s=nh(s,a,1),a=R$1(),s!==null&&(Ac(s,1,a),Dk(s,a));break}}s=s.return}}function Ti(a,s,o){var c=a.pingCache;c!==null&&c.delete(s),s=R$1(),a.pingedLanes|=a.suspendedLanes&o,Q===a&&(Z&o)===o&&(T===4||T===3&&(Z&130023424)===Z&&500>B()-fk?Kk(a,0):rk|=o),Dk(a,s)}function Yk(a,s){s===0&&(a.mode&1?(s=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):s=1);var o=R$1();a=ih(a,s),a!==null&&(Ac(a,s,o),Dk(a,o))}function uj(a){var s=a.memoizedState,o=0;s!==null&&(o=s.retryLane),Yk(a,o)}function bk(a,s){var o=0;switch(a.tag){case 13:var c=a.stateNode,d=a.memoizedState;d!==null&&(o=d.retryLane);break;case 19:c=a.stateNode;break;default:throw Error(p(314))}c!==null&&c.delete(s),Yk(a,o)}var Vk;Vk=function(a,s,o){if(a!==null)if(a.memoizedProps!==s.pendingProps||Wf.current)dh=!0;else{if(!(a.lanes&o)&&!(s.flags&128))return dh=!1,yj(a,s,o);dh=!!(a.flags&131072)}else dh=!1,I&&s.flags&1048576&&ug(s,ng,s.index);switch(s.lanes=0,s.tag){case 2:var c=s.type;ij(a,s),a=s.pendingProps;var d=Yf(s,H.current);ch(s,o),d=Nh(null,s,c,a,d,o);var h=Sh();return s.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Zf(c)?(h=!0,cg(s)):h=!1,s.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,kh(s),d.updater=Ei,s.stateNode=d,d._reactInternals=s,Ii(s,c,a,o),s=jj(null,s,c,!0,h,o)):(s.tag=0,I&&h&&vg(s),Xi(null,s,d,o),s=s.child),s;case 16:c=s.elementType;e:{switch(ij(a,s),a=s.pendingProps,d=c._init,c=d(c._payload),s.type=c,d=s.tag=Zk(c),a=Ci(c,a),d){case 0:s=cj(null,s,c,a,o);break e;case 1:s=hj(null,s,c,a,o);break e;case 11:s=Yi(null,s,c,a,o);break e;case 14:s=$i(null,s,c,Ci(c.type,a),o);break e}throw Error(p(306,c,""))}return s;case 0:return c=s.type,d=s.pendingProps,d=s.elementType===c?d:Ci(c,d),cj(a,s,c,d,o);case 1:return c=s.type,d=s.pendingProps,d=s.elementType===c?d:Ci(c,d),hj(a,s,c,d,o);case 3:e:{if(kj(s),a===null)throw Error(p(387));c=s.pendingProps,h=s.memoizedState,d=h.element,lh(a,s),qh(s,c,null,o);var g=s.memoizedState;if(c=g.element,h.isDehydrated)if(h={element:c,isDehydrated:!1,cache:g.cache,pendingSuspenseBoundaries:g.pendingSuspenseBoundaries,transitions:g.transitions},s.updateQueue.baseState=h,s.memoizedState=h,s.flags&256){d=Ji(Error(p(423)),s),s=lj(a,s,c,o,d);break e}else if(c!==d){d=Ji(Error(p(424)),s),s=lj(a,s,c,o,d);break e}else for(yg=Lf(s.stateNode.containerInfo.firstChild),xg=s,I=!0,zg=null,o=Vg(s,null,c,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Ig(),c===d){s=Zi(a,s,o);break e}Xi(a,s,c,o)}s=s.child}return s;case 5:return Ah(s),a===null&&Eg(s),c=s.type,d=s.pendingProps,h=a!==null?a.memoizedProps:null,g=d.children,Ef(c,d)?g=null:h!==null&&Ef(c,h)&&(s.flags|=32),gj(a,s),Xi(a,s,g,o),s.child;case 6:return a===null&&Eg(s),null;case 13:return oj(a,s,o);case 4:return yh(s,s.stateNode.containerInfo),c=s.pendingProps,a===null?s.child=Ug(s,null,c,o):Xi(a,s,c,o),s.child;case 11:return c=s.type,d=s.pendingProps,d=s.elementType===c?d:Ci(c,d),Yi(a,s,c,d,o);case 7:return Xi(a,s,s.pendingProps,o),s.child;case 8:return Xi(a,s,s.pendingProps.children,o),s.child;case 12:return Xi(a,s,s.pendingProps.children,o),s.child;case 10:e:{if(c=s.type._context,d=s.pendingProps,h=s.memoizedProps,g=d.value,G(Wg,c._currentValue),c._currentValue=g,h!==null)if(He(h.value,g)){if(h.children===d.children&&!Wf.current){s=Zi(a,s,o);break e}}else for(h=s.child,h!==null&&(h.return=s);h!==null;){var b=h.dependencies;if(b!==null){g=h.child;for(var _=b.firstContext;_!==null;){if(_.context===c){if(h.tag===1){_=mh(-1,o&-o),_.tag=2;var $=h.updateQueue;if($!==null){$=$.shared;var _e=$.pending;_e===null?_.next=_:(_.next=_e.next,_e.next=_),$.pending=_}}h.lanes|=o,_=h.alternate,_!==null&&(_.lanes|=o),bh(h.return,o,s),b.lanes|=o;break}_=_.next}}else if(h.tag===10)g=h.type===s.type?null:h.child;else if(h.tag===18){if(g=h.return,g===null)throw Error(p(341));g.lanes|=o,b=g.alternate,b!==null&&(b.lanes|=o),bh(g,o,s),g=h.sibling}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===s){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}Xi(a,s,d.children,o),s=s.child}return s;case 9:return d=s.type,c=s.pendingProps.children,ch(s,o),d=eh(d),c=c(d),s.flags|=1,Xi(a,s,c,o),s.child;case 14:return c=s.type,d=Ci(c,s.pendingProps),d=Ci(c.type,d),$i(a,s,c,d,o);case 15:return bj(a,s,s.type,s.pendingProps,o);case 17:return c=s.type,d=s.pendingProps,d=s.elementType===c?d:Ci(c,d),ij(a,s),s.tag=1,Zf(c)?(a=!0,cg(s)):a=!1,ch(s,o),Gi(s,c,d),Ii(s,c,d,o),jj(null,s,c,!0,a,o);case 19:return xj(a,s,o);case 22:return dj(a,s,o)}throw Error(p(156,s.tag))};function Fk(a,s){return ac(a,s)}function $k(a,s,o,c){this.tag=a,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(a,s,o,c){return new $k(a,s,o,c)}function aj(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Zk(a){if(typeof a=="function")return aj(a)?1:0;if(a!=null){if(a=a.$$typeof,a===Da)return 11;if(a===Ga)return 14}return 2}function Pg(a,s){var o=a.alternate;return o===null?(o=Bg(a.tag,s,a.key,a.mode),o.elementType=a.elementType,o.type=a.type,o.stateNode=a.stateNode,o.alternate=a,a.alternate=o):(o.pendingProps=s,o.type=a.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=a.flags&14680064,o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,s=a.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=a.sibling,o.index=a.index,o.ref=a.ref,o}function Rg(a,s,o,c,d,h){var g=2;if(c=a,typeof a=="function")aj(a)&&(g=1);else if(typeof a=="string")g=5;else e:switch(a){case ya:return Tg(o.children,d,h,s);case za:g=8,d|=8;break;case Aa:return a=Bg(12,o,s,d|2),a.elementType=Aa,a.lanes=h,a;case Ea:return a=Bg(13,o,s,d),a.elementType=Ea,a.lanes=h,a;case Fa:return a=Bg(19,o,s,d),a.elementType=Fa,a.lanes=h,a;case Ia:return pj(o,d,h,s);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case Ba:g=10;break e;case Ca:g=9;break e;case Da:g=11;break e;case Ga:g=14;break e;case Ha:g=16,c=null;break e}throw Error(p(130,a==null?a:typeof a,""))}return s=Bg(g,o,s,d),s.elementType=a,s.type=c,s.lanes=h,s}function Tg(a,s,o,c){return a=Bg(7,a,c,s),a.lanes=o,a}function pj(a,s,o,c){return a=Bg(22,a,c,s),a.elementType=Ia,a.lanes=o,a.stateNode={isHidden:!1},a}function Qg(a,s,o){return a=Bg(6,a,null,s),a.lanes=o,a}function Sg(a,s,o){return s=Bg(4,a.children!==null?a.children:[],a.key,s),s.lanes=o,s.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},s}function al(a,s,o,c,d){this.tag=s,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=c,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function bl(a,s,o,c,d,h,g,b,_){return a=new al(a,s,o,b,_),s===1?(s=1,h===!0&&(s|=8)):s=0,h=Bg(3,null,null,s),a.current=h,h.stateNode=a,h.memoizedState={element:c,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},kh(h),a}function cl(a,s,o){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:c==null?null:""+c,children:a,containerInfo:s,implementation:o}}function dl(a){if(!a)return Vf;a=a._reactInternals;e:{if(Vb(a)!==a||a.tag!==1)throw Error(p(170));var s=a;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Zf(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(p(171))}if(a.tag===1){var o=a.type;if(Zf(o))return bg(a,o,s)}return s}function el(a,s,o,c,d,h,g,b,_){return a=bl(o,c,!0,a,d,h,g,b,_),a.context=dl(null),o=a.current,c=R$1(),d=yi(o),h=mh(c,d),h.callback=s??null,nh(o,h,d),a.current.lanes=d,Ac(a,d,c),Dk(a,c),a}function fl(a,s,o,c){var d=s.current,h=R$1(),g=yi(d);return o=dl(o),s.context===null?s.context=o:s.pendingContext=o,s=mh(h,g),s.payload={element:a},c=c===void 0?null:c,c!==null&&(s.callback=c),a=nh(d,s,g),a!==null&&(gi(a,d,g,h),oh(a,d,g)),g}function gl(a){if(a=a.current,!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function hl(a,s){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var o=a.retryLane;a.retryLane=o!==0&&o<s?o:s}}function il(a,s){hl(a,s),(a=a.alternate)&&hl(a,s)}function jl(){return null}var kl=typeof reportError=="function"?reportError:function(a){console.error(a)};function ll(a){this._internalRoot=a}ml.prototype.render=ll.prototype.render=function(a){var s=this._internalRoot;if(s===null)throw Error(p(409));fl(a,s,null,null)};ml.prototype.unmount=ll.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var s=a.containerInfo;Rk(function(){fl(null,a,null,null)}),s[uf]=null}};function ml(a){this._internalRoot=a}ml.prototype.unstable_scheduleHydration=function(a){if(a){var s=Hc();a={blockedOn:null,target:a,priority:s};for(var o=0;o<Qc.length&&s!==0&&s<Qc[o].priority;o++);Qc.splice(o,0,a),o===0&&Vc(a)}};function nl(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function ol(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11&&(a.nodeType!==8||a.nodeValue!==" react-mount-point-unstable "))}function pl(){}function ql(a,s,o,c,d){if(d){if(typeof c=="function"){var h=c;c=function(){var $=gl(g);h.call($)}}var g=el(s,c,a,0,null,!1,!1,"",pl);return a._reactRootContainer=g,a[uf]=g.current,sf(a.nodeType===8?a.parentNode:a),Rk(),g}for(;d=a.lastChild;)a.removeChild(d);if(typeof c=="function"){var b=c;c=function(){var $=gl(_);b.call($)}}var _=bl(a,0,!1,null,null,!1,!1,"",pl);return a._reactRootContainer=_,a[uf]=_.current,sf(a.nodeType===8?a.parentNode:a),Rk(function(){fl(s,_,o,c)}),_}function rl(a,s,o,c,d){var h=o._reactRootContainer;if(h){var g=h;if(typeof d=="function"){var b=d;d=function(){var _=gl(g);b.call(_)}}fl(s,g,a,d)}else g=ql(o,s,a,d,c);return gl(g)}Ec=function(a){switch(a.tag){case 3:var s=a.stateNode;if(s.current.memoizedState.isDehydrated){var o=tc(s.pendingLanes);o!==0&&(Cc(s,o|1),Dk(s,B()),!(K&6)&&(Gj=B()+500,jg()))}break;case 13:Rk(function(){var c=ih(a,1);if(c!==null){var d=R$1();gi(c,a,1,d)}}),il(a,1)}};Fc=function(a){if(a.tag===13){var s=ih(a,134217728);if(s!==null){var o=R$1();gi(s,a,134217728,o)}il(a,134217728)}};Gc=function(a){if(a.tag===13){var s=yi(a),o=ih(a,s);if(o!==null){var c=R$1();gi(o,a,s,c)}il(a,s)}};Hc=function(){return C};Ic=function(a,s){var o=C;try{return C=a,s()}finally{C=o}};yb=function(a,s,o){switch(s){case"input":if(bb(a,o),s=o.name,o.type==="radio"&&s!=null){for(o=a;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<o.length;s++){var c=o[s];if(c!==a&&c.form===a.form){var d=Db(c);if(!d)throw Error(p(90));Wa(c),bb(c,d)}}}break;case"textarea":ib(a,o);break;case"select":s=o.value,s!=null&&fb(a,!!o.multiple,s,!1)}};Gb=Qk;Hb=Rk;var sl={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Qk]},tl={findFiberByHostInstance:Wc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ul={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){return a=Zb(a),a===null?null:a.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||jl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vl.isDisabled&&vl.supportsFiber)try{kc=vl.inject(ul),lc=vl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sl;reactDom_production_min.createPortal=function(a,s){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nl(s))throw Error(p(200));return cl(a,s,null,o)};reactDom_production_min.createRoot=function(a,s){if(!nl(a))throw Error(p(299));var o=!1,c="",d=kl;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onRecoverableError!==void 0&&(d=s.onRecoverableError)),s=bl(a,1,!1,null,null,o,!1,c,d),a[uf]=s.current,sf(a.nodeType===8?a.parentNode:a),new ll(s)};reactDom_production_min.findDOMNode=function(a){if(a==null)return null;if(a.nodeType===1)return a;var s=a._reactInternals;if(s===void 0)throw typeof a.render=="function"?Error(p(188)):(a=Object.keys(a).join(","),Error(p(268,a)));return a=Zb(s),a=a===null?null:a.stateNode,a};reactDom_production_min.flushSync=function(a){return Rk(a)};reactDom_production_min.hydrate=function(a,s,o){if(!ol(s))throw Error(p(200));return rl(null,a,s,!0,o)};reactDom_production_min.hydrateRoot=function(a,s,o){if(!nl(a))throw Error(p(405));var c=o!=null&&o.hydratedSources||null,d=!1,h="",g=kl;if(o!=null&&(o.unstable_strictMode===!0&&(d=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onRecoverableError!==void 0&&(g=o.onRecoverableError)),s=el(s,null,a,1,o??null,d,!1,h,g),a[uf]=s.current,sf(a),c)for(a=0;a<c.length;a++)o=c[a],d=o._getVersion,d=d(o._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[o,d]:s.mutableSourceEagerHydrationData.push(o,d);return new ml(s)};reactDom_production_min.render=function(a,s,o){if(!ol(s))throw Error(p(200));return rl(null,a,s,!1,o)};reactDom_production_min.unmountComponentAtNode=function(a){if(!ol(a))throw Error(p(40));return a._reactRootContainer?(Rk(function(){rl(null,null,a,!1,function(){a._reactRootContainer=null,a[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Qk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(a,s,o,c){if(!ol(o))throw Error(p(200));if(a==null||a._reactInternals===void 0)throw Error(p(38));return rl(a,s,o,!1,c)};reactDom_production_min.version="18.3.1-next-f1338f8080-20240426";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(a){console.error(a)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports;const Gt=getDefaultExportFromCjs(reactDomExports);var createRoot,m=reactDomExports;createRoot=m.createRoot,m.hydrateRoot;const TOAST_LIMIT=1,TOAST_REMOVE_DELAY=1e6;let count=0;function genId(){return count=(count+1)%Number.MAX_SAFE_INTEGER,count.toString()}const toastTimeouts=new Map,addToRemoveQueue=a=>{if(toastTimeouts.has(a))return;const s=setTimeout(()=>{toastTimeouts.delete(a),dispatch({type:"REMOVE_TOAST",toastId:a})},TOAST_REMOVE_DELAY);toastTimeouts.set(a,s)},reducer=(a,s)=>{switch(s.type){case"ADD_TOAST":return{...a,toasts:[s.toast,...a.toasts].slice(0,TOAST_LIMIT)};case"UPDATE_TOAST":return{...a,toasts:a.toasts.map(o=>o.id===s.toast.id?{...o,...s.toast}:o)};case"DISMISS_TOAST":{const{toastId:o}=s;return o?addToRemoveQueue(o):a.toasts.forEach(c=>{addToRemoveQueue(c.id)}),{...a,toasts:a.toasts.map(c=>c.id===o||o===void 0?{...c,open:!1}:c)}}case"REMOVE_TOAST":return s.toastId===void 0?{...a,toasts:[]}:{...a,toasts:a.toasts.filter(o=>o.id!==s.toastId)}}},listeners=[];let memoryState={toasts:[]};function dispatch(a){memoryState=reducer(memoryState,a),listeners.forEach(s=>{s(memoryState)})}function toast({...a}){const s=genId(),o=d=>dispatch({type:"UPDATE_TOAST",toast:{...d,id:s}}),c=()=>dispatch({type:"DISMISS_TOAST",toastId:s});return dispatch({type:"ADD_TOAST",toast:{...a,id:s,open:!0,onOpenChange:d=>{d||c()}}}),{id:s,dismiss:c,update:o}}function useToast(){const[a,s]=reactExports.useState(memoryState);return reactExports.useEffect(()=>(listeners.push(s),()=>{const o=listeners.indexOf(s);o>-1&&listeners.splice(o,1)}),[a]),{...a,toast,dismiss:o=>dispatch({type:"DISMISS_TOAST",toastId:o})}}function composeEventHandlers(a,s,{checkForDefaultPrevented:o=!0}={}){return function(d){if(a==null||a(d),o===!1||!d.defaultPrevented)return s==null?void 0:s(d)}}function setRef(a,s){typeof a=="function"?a(s):a!=null&&(a.current=s)}function composeRefs(...a){return s=>a.forEach(o=>setRef(o,s))}function useComposedRefs(...a){return reactExports.useCallback(composeRefs(...a),a)}function createContextScope$2(a,s=[]){let o=[];function c(h,g){const b=reactExports.createContext(g),_=o.length;o=[...o,g];function $(tt){const{scope:et,children:nt,...ot}=tt,st=(et==null?void 0:et[a][_])||b,pt=reactExports.useMemo(()=>ot,Object.values(ot));return jsxRuntimeExports.jsx(st.Provider,{value:pt,children:nt})}function _e(tt,et){const nt=(et==null?void 0:et[a][_])||b,ot=reactExports.useContext(nt);if(ot)return ot;if(g!==void 0)return g;throw new Error(`\`${tt}\` must be used within \`${h}\``)}return $.displayName=h+"Provider",[$,_e]}const d=()=>{const h=o.map(g=>reactExports.createContext(g));return function(b){const _=(b==null?void 0:b[a])||h;return reactExports.useMemo(()=>({[`__scope${a}`]:{...b,[a]:_}}),[b,_])}};return d.scopeName=a,[c,composeContextScopes$2(d,...s)]}function composeContextScopes$2(...a){const s=a[0];if(a.length===1)return s;const o=()=>{const c=a.map(d=>({useScope:d(),scopeName:d.scopeName}));return function(h){const g=c.reduce((b,{useScope:_,scopeName:$})=>{const tt=_(h)[`__scope${$}`];return{...b,...tt}},{});return reactExports.useMemo(()=>({[`__scope${s.scopeName}`]:g}),[g])}};return o.scopeName=s.scopeName,o}var Slot=reactExports.forwardRef((a,s)=>{const{children:o,...c}=a,d=reactExports.Children.toArray(o),h=d.find(isSlottable);if(h){const g=h.props.children,b=d.map(_=>_===h?reactExports.Children.count(g)>1?reactExports.Children.only(null):reactExports.isValidElement(g)?g.props.children:null:_);return jsxRuntimeExports.jsx(SlotClone,{...c,ref:s,children:reactExports.isValidElement(g)?reactExports.cloneElement(g,void 0,b):null})}return jsxRuntimeExports.jsx(SlotClone,{...c,ref:s,children:o})});Slot.displayName="Slot";var SlotClone=reactExports.forwardRef((a,s)=>{const{children:o,...c}=a;if(reactExports.isValidElement(o)){const d=getElementRef$1(o);return reactExports.cloneElement(o,{...mergeProps(c,o.props),ref:s?composeRefs(s,d):d})}return reactExports.Children.count(o)>1?reactExports.Children.only(null):null});SlotClone.displayName="SlotClone";var Slottable=({children:a})=>jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:a});function isSlottable(a){return reactExports.isValidElement(a)&&a.type===Slottable}function mergeProps(a,s){const o={...s};for(const c in s){const d=a[c],h=s[c];/^on[A-Z]/.test(c)?d&&h?o[c]=(...b)=>{h(...b),d(...b)}:d&&(o[c]=d):c==="style"?o[c]={...d,...h}:c==="className"&&(o[c]=[d,h].filter(Boolean).join(" "))}return{...a,...o}}function getElementRef$1(a){var c,d;let s=(c=Object.getOwnPropertyDescriptor(a.props,"ref"))==null?void 0:c.get,o=s&&"isReactWarning"in s&&s.isReactWarning;return o?a.ref:(s=(d=Object.getOwnPropertyDescriptor(a,"ref"))==null?void 0:d.get,o=s&&"isReactWarning"in s&&s.isReactWarning,o?a.props.ref:a.props.ref||a.ref)}function createCollection(a){const s=a+"CollectionProvider",[o,c]=createContextScope$2(s),[d,h]=o(s,{collectionRef:{current:null},itemMap:new Map}),g=nt=>{const{scope:ot,children:st}=nt,pt=e.useRef(null),at=e.useRef(new Map).current;return jsxRuntimeExports.jsx(d,{scope:ot,itemMap:at,collectionRef:pt,children:st})};g.displayName=s;const b=a+"CollectionSlot",_=e.forwardRef((nt,ot)=>{const{scope:st,children:pt}=nt,at=h(b,st),ht=useComposedRefs(ot,at.collectionRef);return jsxRuntimeExports.jsx(Slot,{ref:ht,children:pt})});_.displayName=b;const $=a+"CollectionItemSlot",_e="data-radix-collection-item",tt=e.forwardRef((nt,ot)=>{const{scope:st,children:pt,...at}=nt,ht=e.useRef(null),lt=useComposedRefs(ot,ht),yt=h($,st);return e.useEffect(()=>(yt.itemMap.set(ht,{ref:ht,...at}),()=>void yt.itemMap.delete(ht))),jsxRuntimeExports.jsx(Slot,{[_e]:"",ref:lt,children:pt})});tt.displayName=$;function et(nt){const ot=h(a+"CollectionConsumer",nt);return e.useCallback(()=>{const pt=ot.collectionRef.current;if(!pt)return[];const at=Array.from(pt.querySelectorAll(`[${_e}]`));return Array.from(ot.itemMap.values()).sort((yt,bt)=>at.indexOf(yt.ref.current)-at.indexOf(bt.ref.current))},[ot.collectionRef,ot.itemMap])}return[{Provider:g,Slot:_,ItemSlot:tt},et,c]}function createContextScope$1(a,s=[]){let o=[];function c(h,g){const b=reactExports.createContext(g),_=o.length;o=[...o,g];const $=tt=>{var at;const{scope:et,children:nt,...ot}=tt,st=((at=et==null?void 0:et[a])==null?void 0:at[_])||b,pt=reactExports.useMemo(()=>ot,Object.values(ot));return jsxRuntimeExports.jsx(st.Provider,{value:pt,children:nt})};$.displayName=h+"Provider";function _e(tt,et){var st;const nt=((st=et==null?void 0:et[a])==null?void 0:st[_])||b,ot=reactExports.useContext(nt);if(ot)return ot;if(g!==void 0)return g;throw new Error(`\`${tt}\` must be used within \`${h}\``)}return[$,_e]}const d=()=>{const h=o.map(g=>reactExports.createContext(g));return function(b){const _=(b==null?void 0:b[a])||h;return reactExports.useMemo(()=>({[`__scope${a}`]:{...b,[a]:_}}),[b,_])}};return d.scopeName=a,[c,composeContextScopes$1(d,...s)]}function composeContextScopes$1(...a){const s=a[0];if(a.length===1)return s;const o=()=>{const c=a.map(d=>({useScope:d(),scopeName:d.scopeName}));return function(h){const g=c.reduce((b,{useScope:_,scopeName:$})=>{const tt=_(h)[`__scope${$}`];return{...b,...tt}},{});return reactExports.useMemo(()=>({[`__scope${s.scopeName}`]:g}),[g])}};return o.scopeName=s.scopeName,o}var NODES=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Primitive=NODES.reduce((a,s)=>{const o=reactExports.forwardRef((c,d)=>{const{asChild:h,...g}=c,b=h?Slot:s;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),jsxRuntimeExports.jsx(b,{...g,ref:d})});return o.displayName=`Primitive.${s}`,{...a,[s]:o}},{});function dispatchDiscreteCustomEvent(a,s){a&&reactDomExports.flushSync(()=>a.dispatchEvent(s))}function useCallbackRef(a){const s=reactExports.useRef(a);return reactExports.useEffect(()=>{s.current=a}),reactExports.useMemo(()=>(...o)=>{var c;return(c=s.current)==null?void 0:c.call(s,...o)},[])}function useEscapeKeydown(a,s=globalThis==null?void 0:globalThis.document){const o=useCallbackRef(a);reactExports.useEffect(()=>{const c=d=>{d.key==="Escape"&&o(d)};return s.addEventListener("keydown",c,{capture:!0}),()=>s.removeEventListener("keydown",c,{capture:!0})},[o,s])}var DISMISSABLE_LAYER_NAME="DismissableLayer",CONTEXT_UPDATE="dismissableLayer.update",POINTER_DOWN_OUTSIDE="dismissableLayer.pointerDownOutside",FOCUS_OUTSIDE="dismissableLayer.focusOutside",originalBodyPointerEvents,DismissableLayerContext=reactExports.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),DismissableLayer=reactExports.forwardRef((a,s)=>{const{disableOutsidePointerEvents:o=!1,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:g,onDismiss:b,..._}=a,$=reactExports.useContext(DismissableLayerContext),[_e,tt]=reactExports.useState(null),et=(_e==null?void 0:_e.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,nt]=reactExports.useState({}),ot=useComposedRefs(s,dt=>tt(dt)),st=Array.from($.layers),[pt]=[...$.layersWithOutsidePointerEventsDisabled].slice(-1),at=st.indexOf(pt),ht=_e?st.indexOf(_e):-1,lt=$.layersWithOutsidePointerEventsDisabled.size>0,yt=ht>=at,bt=usePointerDownOutside(dt=>{const vt=dt.target,kt=[...$.branches].some(jt=>jt.contains(vt));!yt||kt||(d==null||d(dt),g==null||g(dt),dt.defaultPrevented||b==null||b())},et),gt=useFocusOutside(dt=>{const vt=dt.target;[...$.branches].some(jt=>jt.contains(vt))||(h==null||h(dt),g==null||g(dt),dt.defaultPrevented||b==null||b())},et);return useEscapeKeydown(dt=>{ht===$.layers.size-1&&(c==null||c(dt),!dt.defaultPrevented&&b&&(dt.preventDefault(),b()))},et),reactExports.useEffect(()=>{if(_e)return o&&($.layersWithOutsidePointerEventsDisabled.size===0&&(originalBodyPointerEvents=et.body.style.pointerEvents,et.body.style.pointerEvents="none"),$.layersWithOutsidePointerEventsDisabled.add(_e)),$.layers.add(_e),dispatchUpdate(),()=>{o&&$.layersWithOutsidePointerEventsDisabled.size===1&&(et.body.style.pointerEvents=originalBodyPointerEvents)}},[_e,et,o,$]),reactExports.useEffect(()=>()=>{_e&&($.layers.delete(_e),$.layersWithOutsidePointerEventsDisabled.delete(_e),dispatchUpdate())},[_e,$]),reactExports.useEffect(()=>{const dt=()=>nt({});return document.addEventListener(CONTEXT_UPDATE,dt),()=>document.removeEventListener(CONTEXT_UPDATE,dt)},[]),jsxRuntimeExports.jsx(Primitive.div,{..._,ref:ot,style:{pointerEvents:lt?yt?"auto":"none":void 0,...a.style},onFocusCapture:composeEventHandlers(a.onFocusCapture,gt.onFocusCapture),onBlurCapture:composeEventHandlers(a.onBlurCapture,gt.onBlurCapture),onPointerDownCapture:composeEventHandlers(a.onPointerDownCapture,bt.onPointerDownCapture)})});DismissableLayer.displayName=DISMISSABLE_LAYER_NAME;var BRANCH_NAME="DismissableLayerBranch",DismissableLayerBranch=reactExports.forwardRef((a,s)=>{const o=reactExports.useContext(DismissableLayerContext),c=reactExports.useRef(null),d=useComposedRefs(s,c);return reactExports.useEffect(()=>{const h=c.current;if(h)return o.branches.add(h),()=>{o.branches.delete(h)}},[o.branches]),jsxRuntimeExports.jsx(Primitive.div,{...a,ref:d})});DismissableLayerBranch.displayName=BRANCH_NAME;function usePointerDownOutside(a,s=globalThis==null?void 0:globalThis.document){const o=useCallbackRef(a),c=reactExports.useRef(!1),d=reactExports.useRef(()=>{});return reactExports.useEffect(()=>{const h=b=>{if(b.target&&!c.current){let _=function(){handleAndDispatchCustomEvent$1(POINTER_DOWN_OUTSIDE,o,$,{discrete:!0})};const $={originalEvent:b};b.pointerType==="touch"?(s.removeEventListener("click",d.current),d.current=_,s.addEventListener("click",d.current,{once:!0})):_()}else s.removeEventListener("click",d.current);c.current=!1},g=window.setTimeout(()=>{s.addEventListener("pointerdown",h)},0);return()=>{window.clearTimeout(g),s.removeEventListener("pointerdown",h),s.removeEventListener("click",d.current)}},[s,o]),{onPointerDownCapture:()=>c.current=!0}}function useFocusOutside(a,s=globalThis==null?void 0:globalThis.document){const o=useCallbackRef(a),c=reactExports.useRef(!1);return reactExports.useEffect(()=>{const d=h=>{h.target&&!c.current&&handleAndDispatchCustomEvent$1(FOCUS_OUTSIDE,o,{originalEvent:h},{discrete:!1})};return s.addEventListener("focusin",d),()=>s.removeEventListener("focusin",d)},[s,o]),{onFocusCapture:()=>c.current=!0,onBlurCapture:()=>c.current=!1}}function dispatchUpdate(){const a=new CustomEvent(CONTEXT_UPDATE);document.dispatchEvent(a)}function handleAndDispatchCustomEvent$1(a,s,o,{discrete:c}){const d=o.originalEvent.target,h=new CustomEvent(a,{bubbles:!1,cancelable:!0,detail:o});s&&d.addEventListener(a,s,{once:!0}),c?dispatchDiscreteCustomEvent(d,h):d.dispatchEvent(h)}var Root$2=DismissableLayer,Branch=DismissableLayerBranch,useLayoutEffect2=globalThis!=null&&globalThis.document?reactExports.useLayoutEffect:()=>{},PORTAL_NAME$1="Portal",Portal=reactExports.forwardRef((a,s)=>{var b;const{container:o,...c}=a,[d,h]=reactExports.useState(!1);useLayoutEffect2(()=>h(!0),[]);const g=o||d&&((b=globalThis==null?void 0:globalThis.document)==null?void 0:b.body);return g?Gt.createPortal(jsxRuntimeExports.jsx(Primitive.div,{...c,ref:s}),g):null});Portal.displayName=PORTAL_NAME$1;function useStateMachine(a,s){return reactExports.useReducer((o,c)=>s[o][c]??o,a)}var Presence=a=>{const{present:s,children:o}=a,c=usePresence(s),d=typeof o=="function"?o({present:c.isPresent}):reactExports.Children.only(o),h=useComposedRefs(c.ref,getElementRef(d));return typeof o=="function"||c.isPresent?reactExports.cloneElement(d,{ref:h}):null};Presence.displayName="Presence";function usePresence(a){const[s,o]=reactExports.useState(),c=reactExports.useRef({}),d=reactExports.useRef(a),h=reactExports.useRef("none"),g=a?"mounted":"unmounted",[b,_]=useStateMachine(g,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return reactExports.useEffect(()=>{const $=getAnimationName(c.current);h.current=b==="mounted"?$:"none"},[b]),useLayoutEffect2(()=>{const $=c.current,_e=d.current;if(_e!==a){const et=h.current,nt=getAnimationName($);a?_("MOUNT"):nt==="none"||($==null?void 0:$.display)==="none"?_("UNMOUNT"):_(_e&&et!==nt?"ANIMATION_OUT":"UNMOUNT"),d.current=a}},[a,_]),useLayoutEffect2(()=>{if(s){let $;const _e=s.ownerDocument.defaultView??window,tt=nt=>{const st=getAnimationName(c.current).includes(nt.animationName);if(nt.target===s&&st&&(_("ANIMATION_END"),!d.current)){const pt=s.style.animationFillMode;s.style.animationFillMode="forwards",$=_e.setTimeout(()=>{s.style.animationFillMode==="forwards"&&(s.style.animationFillMode=pt)})}},et=nt=>{nt.target===s&&(h.current=getAnimationName(c.current))};return s.addEventListener("animationstart",et),s.addEventListener("animationcancel",tt),s.addEventListener("animationend",tt),()=>{_e.clearTimeout($),s.removeEventListener("animationstart",et),s.removeEventListener("animationcancel",tt),s.removeEventListener("animationend",tt)}}else _("ANIMATION_END")},[s,_]),{isPresent:["mounted","unmountSuspended"].includes(b),ref:reactExports.useCallback($=>{$&&(c.current=getComputedStyle($)),o($)},[])}}function getAnimationName(a){return(a==null?void 0:a.animationName)||"none"}function getElementRef(a){var c,d;let s=(c=Object.getOwnPropertyDescriptor(a.props,"ref"))==null?void 0:c.get,o=s&&"isReactWarning"in s&&s.isReactWarning;return o?a.ref:(s=(d=Object.getOwnPropertyDescriptor(a,"ref"))==null?void 0:d.get,o=s&&"isReactWarning"in s&&s.isReactWarning,o?a.props.ref:a.props.ref||a.ref)}function useControllableState({prop:a,defaultProp:s,onChange:o=()=>{}}){const[c,d]=useUncontrolledState({defaultProp:s,onChange:o}),h=a!==void 0,g=h?a:c,b=useCallbackRef(o),_=reactExports.useCallback($=>{if(h){const tt=typeof $=="function"?$(a):$;tt!==a&&b(tt)}else d($)},[h,a,d,b]);return[g,_]}function useUncontrolledState({defaultProp:a,onChange:s}){const o=reactExports.useState(a),[c]=o,d=reactExports.useRef(c),h=useCallbackRef(s);return reactExports.useEffect(()=>{d.current!==c&&(h(c),d.current=c)},[c,d,h]),o}var NAME$1="VisuallyHidden",VisuallyHidden=reactExports.forwardRef((a,s)=>jsxRuntimeExports.jsx(Primitive.span,{...a,ref:s,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...a.style}}));VisuallyHidden.displayName=NAME$1;var Root$1=VisuallyHidden,PROVIDER_NAME$1="ToastProvider",[Collection,useCollection,createCollectionScope]=createCollection("Toast"),[createToastContext,createToastScope]=createContextScope$1("Toast",[createCollectionScope]),[ToastProviderProvider,useToastProviderContext]=createToastContext(PROVIDER_NAME$1),ToastProvider$1=a=>{const{__scopeToast:s,label:o="Notification",duration:c=5e3,swipeDirection:d="right",swipeThreshold:h=50,children:g}=a,[b,_]=reactExports.useState(null),[$,_e]=reactExports.useState(0),tt=reactExports.useRef(!1),et=reactExports.useRef(!1);return o.trim()||console.error(`Invalid prop \`label\` supplied to \`${PROVIDER_NAME$1}\`. Expected non-empty \`string\`.`),jsxRuntimeExports.jsx(Collection.Provider,{scope:s,children:jsxRuntimeExports.jsx(ToastProviderProvider,{scope:s,label:o,duration:c,swipeDirection:d,swipeThreshold:h,toastCount:$,viewport:b,onViewportChange:_,onToastAdd:reactExports.useCallback(()=>_e(nt=>nt+1),[]),onToastRemove:reactExports.useCallback(()=>_e(nt=>nt-1),[]),isFocusedToastEscapeKeyDownRef:tt,isClosePausedRef:et,children:g})})};ToastProvider$1.displayName=PROVIDER_NAME$1;var VIEWPORT_NAME="ToastViewport",VIEWPORT_DEFAULT_HOTKEY=["F8"],VIEWPORT_PAUSE="toast.viewportPause",VIEWPORT_RESUME="toast.viewportResume",ToastViewport$1=reactExports.forwardRef((a,s)=>{const{__scopeToast:o,hotkey:c=VIEWPORT_DEFAULT_HOTKEY,label:d="Notifications ({hotkey})",...h}=a,g=useToastProviderContext(VIEWPORT_NAME,o),b=useCollection(o),_=reactExports.useRef(null),$=reactExports.useRef(null),_e=reactExports.useRef(null),tt=reactExports.useRef(null),et=useComposedRefs(s,tt,g.onViewportChange),nt=c.join("+").replace(/Key/g,"").replace(/Digit/g,""),ot=g.toastCount>0;reactExports.useEffect(()=>{const pt=at=>{var lt;c.length!==0&&c.every(yt=>at[yt]||at.code===yt)&&((lt=tt.current)==null||lt.focus())};return document.addEventListener("keydown",pt),()=>document.removeEventListener("keydown",pt)},[c]),reactExports.useEffect(()=>{const pt=_.current,at=tt.current;if(ot&&pt&&at){const ht=()=>{if(!g.isClosePausedRef.current){const gt=new CustomEvent(VIEWPORT_PAUSE);at.dispatchEvent(gt),g.isClosePausedRef.current=!0}},lt=()=>{if(g.isClosePausedRef.current){const gt=new CustomEvent(VIEWPORT_RESUME);at.dispatchEvent(gt),g.isClosePausedRef.current=!1}},yt=gt=>{!pt.contains(gt.relatedTarget)&&lt()},bt=()=>{pt.contains(document.activeElement)||lt()};return pt.addEventListener("focusin",ht),pt.addEventListener("focusout",yt),pt.addEventListener("pointermove",ht),pt.addEventListener("pointerleave",bt),window.addEventListener("blur",ht),window.addEventListener("focus",lt),()=>{pt.removeEventListener("focusin",ht),pt.removeEventListener("focusout",yt),pt.removeEventListener("pointermove",ht),pt.removeEventListener("pointerleave",bt),window.removeEventListener("blur",ht),window.removeEventListener("focus",lt)}}},[ot,g.isClosePausedRef]);const st=reactExports.useCallback(({tabbingDirection:pt})=>{const ht=b().map(lt=>{const yt=lt.ref.current,bt=[yt,...getTabbableCandidates(yt)];return pt==="forwards"?bt:bt.reverse()});return(pt==="forwards"?ht.reverse():ht).flat()},[b]);return reactExports.useEffect(()=>{const pt=tt.current;if(pt){const at=ht=>{var bt,gt,dt;const lt=ht.altKey||ht.ctrlKey||ht.metaKey;if(ht.key==="Tab"&&!lt){const vt=document.activeElement,kt=ht.shiftKey;if(ht.target===pt&&kt){(bt=$.current)==null||bt.focus();return}const Mt=st({tabbingDirection:kt?"backwards":"forwards"}),Pt=Mt.findIndex(Yt=>Yt===vt);focusFirst(Mt.slice(Pt+1))?ht.preventDefault():kt?(gt=$.current)==null||gt.focus():(dt=_e.current)==null||dt.focus()}};return pt.addEventListener("keydown",at),()=>pt.removeEventListener("keydown",at)}},[b,st]),jsxRuntimeExports.jsxs(Branch,{ref:_,role:"region","aria-label":d.replace("{hotkey}",nt),tabIndex:-1,style:{pointerEvents:ot?void 0:"none"},children:[ot&&jsxRuntimeExports.jsx(FocusProxy,{ref:$,onFocusFromOutsideViewport:()=>{const pt=st({tabbingDirection:"forwards"});focusFirst(pt)}}),jsxRuntimeExports.jsx(Collection.Slot,{scope:o,children:jsxRuntimeExports.jsx(Primitive.ol,{tabIndex:-1,...h,ref:et})}),ot&&jsxRuntimeExports.jsx(FocusProxy,{ref:_e,onFocusFromOutsideViewport:()=>{const pt=st({tabbingDirection:"backwards"});focusFirst(pt)}})]})});ToastViewport$1.displayName=VIEWPORT_NAME;var FOCUS_PROXY_NAME="ToastFocusProxy",FocusProxy=reactExports.forwardRef((a,s)=>{const{__scopeToast:o,onFocusFromOutsideViewport:c,...d}=a,h=useToastProviderContext(FOCUS_PROXY_NAME,o);return jsxRuntimeExports.jsx(VisuallyHidden,{"aria-hidden":!0,tabIndex:0,...d,ref:s,style:{position:"fixed"},onFocus:g=>{var $;const b=g.relatedTarget;!(($=h.viewport)!=null&&$.contains(b))&&c()}})});FocusProxy.displayName=FOCUS_PROXY_NAME;var TOAST_NAME="Toast",TOAST_SWIPE_START="toast.swipeStart",TOAST_SWIPE_MOVE="toast.swipeMove",TOAST_SWIPE_CANCEL="toast.swipeCancel",TOAST_SWIPE_END="toast.swipeEnd",Toast$1=reactExports.forwardRef((a,s)=>{const{forceMount:o,open:c,defaultOpen:d,onOpenChange:h,...g}=a,[b=!0,_]=useControllableState({prop:c,defaultProp:d,onChange:h});return jsxRuntimeExports.jsx(Presence,{present:o||b,children:jsxRuntimeExports.jsx(ToastImpl,{open:b,...g,ref:s,onClose:()=>_(!1),onPause:useCallbackRef(a.onPause),onResume:useCallbackRef(a.onResume),onSwipeStart:composeEventHandlers(a.onSwipeStart,$=>{$.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:composeEventHandlers(a.onSwipeMove,$=>{const{x:_e,y:tt}=$.detail.delta;$.currentTarget.setAttribute("data-swipe","move"),$.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${_e}px`),$.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${tt}px`)}),onSwipeCancel:composeEventHandlers(a.onSwipeCancel,$=>{$.currentTarget.setAttribute("data-swipe","cancel"),$.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),$.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),$.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),$.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:composeEventHandlers(a.onSwipeEnd,$=>{const{x:_e,y:tt}=$.detail.delta;$.currentTarget.setAttribute("data-swipe","end"),$.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),$.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),$.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${_e}px`),$.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${tt}px`),_(!1)})})})});Toast$1.displayName=TOAST_NAME;var[ToastInteractiveProvider,useToastInteractiveContext]=createToastContext(TOAST_NAME,{onClose(){}}),ToastImpl=reactExports.forwardRef((a,s)=>{const{__scopeToast:o,type:c="foreground",duration:d,open:h,onClose:g,onEscapeKeyDown:b,onPause:_,onResume:$,onSwipeStart:_e,onSwipeMove:tt,onSwipeCancel:et,onSwipeEnd:nt,...ot}=a,st=useToastProviderContext(TOAST_NAME,o),[pt,at]=reactExports.useState(null),ht=useComposedRefs(s,Yt=>at(Yt)),lt=reactExports.useRef(null),yt=reactExports.useRef(null),bt=d||st.duration,gt=reactExports.useRef(0),dt=reactExports.useRef(bt),vt=reactExports.useRef(0),{onToastAdd:kt,onToastRemove:jt}=st,Lt=useCallbackRef(()=>{var ir;(pt==null?void 0:pt.contains(document.activeElement))&&((ir=st.viewport)==null||ir.focus()),g()}),Mt=reactExports.useCallback(Yt=>{!Yt||Yt===1/0||(window.clearTimeout(vt.current),gt.current=new Date().getTime(),vt.current=window.setTimeout(Lt,Yt))},[Lt]);reactExports.useEffect(()=>{const Yt=st.viewport;if(Yt){const ir=()=>{Mt(dt.current),$==null||$()},rr=()=>{const dr=new Date().getTime()-gt.current;dt.current=dt.current-dr,window.clearTimeout(vt.current),_==null||_()};return Yt.addEventListener(VIEWPORT_PAUSE,rr),Yt.addEventListener(VIEWPORT_RESUME,ir),()=>{Yt.removeEventListener(VIEWPORT_PAUSE,rr),Yt.removeEventListener(VIEWPORT_RESUME,ir)}}},[st.viewport,bt,_,$,Mt]),reactExports.useEffect(()=>{h&&!st.isClosePausedRef.current&&Mt(bt)},[h,bt,st.isClosePausedRef,Mt]),reactExports.useEffect(()=>(kt(),()=>jt()),[kt,jt]);const Pt=reactExports.useMemo(()=>pt?getAnnounceTextContent(pt):null,[pt]);return st.viewport?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[Pt&&jsxRuntimeExports.jsx(ToastAnnounce,{__scopeToast:o,role:"status","aria-live":c==="foreground"?"assertive":"polite","aria-atomic":!0,children:Pt}),jsxRuntimeExports.jsx(ToastInteractiveProvider,{scope:o,onClose:Lt,children:reactDomExports.createPortal(jsxRuntimeExports.jsx(Collection.ItemSlot,{scope:o,children:jsxRuntimeExports.jsx(Root$2,{asChild:!0,onEscapeKeyDown:composeEventHandlers(b,()=>{st.isFocusedToastEscapeKeyDownRef.current||Lt(),st.isFocusedToastEscapeKeyDownRef.current=!1}),children:jsxRuntimeExports.jsx(Primitive.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":h?"open":"closed","data-swipe-direction":st.swipeDirection,...ot,ref:ht,style:{userSelect:"none",touchAction:"none",...a.style},onKeyDown:composeEventHandlers(a.onKeyDown,Yt=>{Yt.key==="Escape"&&(b==null||b(Yt.nativeEvent),Yt.nativeEvent.defaultPrevented||(st.isFocusedToastEscapeKeyDownRef.current=!0,Lt()))}),onPointerDown:composeEventHandlers(a.onPointerDown,Yt=>{Yt.button===0&&(lt.current={x:Yt.clientX,y:Yt.clientY})}),onPointerMove:composeEventHandlers(a.onPointerMove,Yt=>{if(!lt.current)return;const ir=Yt.clientX-lt.current.x,rr=Yt.clientY-lt.current.y,dr=!!yt.current,Rt=["left","right"].includes(st.swipeDirection),er=["left","up"].includes(st.swipeDirection)?Math.min:Math.max,sr=Rt?er(0,ir):0,zt=Rt?0:er(0,rr),lr=Yt.pointerType==="touch"?10:2,nr={x:sr,y:zt},mr={originalEvent:Yt,delta:nr};dr?(yt.current=nr,handleAndDispatchCustomEvent(TOAST_SWIPE_MOVE,tt,mr,{discrete:!1})):isDeltaInDirection(nr,st.swipeDirection,lr)?(yt.current=nr,handleAndDispatchCustomEvent(TOAST_SWIPE_START,_e,mr,{discrete:!1}),Yt.target.setPointerCapture(Yt.pointerId)):(Math.abs(ir)>lr||Math.abs(rr)>lr)&&(lt.current=null)}),onPointerUp:composeEventHandlers(a.onPointerUp,Yt=>{const ir=yt.current,rr=Yt.target;if(rr.hasPointerCapture(Yt.pointerId)&&rr.releasePointerCapture(Yt.pointerId),yt.current=null,lt.current=null,ir){const dr=Yt.currentTarget,Rt={originalEvent:Yt,delta:ir};isDeltaInDirection(ir,st.swipeDirection,st.swipeThreshold)?handleAndDispatchCustomEvent(TOAST_SWIPE_END,nt,Rt,{discrete:!0}):handleAndDispatchCustomEvent(TOAST_SWIPE_CANCEL,et,Rt,{discrete:!0}),dr.addEventListener("click",er=>er.preventDefault(),{once:!0})}})})})}),st.viewport)})]}):null}),ToastAnnounce=a=>{const{__scopeToast:s,children:o,...c}=a,d=useToastProviderContext(TOAST_NAME,s),[h,g]=reactExports.useState(!1),[b,_]=reactExports.useState(!1);return useNextFrame(()=>g(!0)),reactExports.useEffect(()=>{const $=window.setTimeout(()=>_(!0),1e3);return()=>window.clearTimeout($)},[]),b?null:jsxRuntimeExports.jsx(Portal,{asChild:!0,children:jsxRuntimeExports.jsx(VisuallyHidden,{...c,children:h&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[d.label," ",o]})})})},TITLE_NAME="ToastTitle",ToastTitle$1=reactExports.forwardRef((a,s)=>{const{__scopeToast:o,...c}=a;return jsxRuntimeExports.jsx(Primitive.div,{...c,ref:s})});ToastTitle$1.displayName=TITLE_NAME;var DESCRIPTION_NAME="ToastDescription",ToastDescription$1=reactExports.forwardRef((a,s)=>{const{__scopeToast:o,...c}=a;return jsxRuntimeExports.jsx(Primitive.div,{...c,ref:s})});ToastDescription$1.displayName=DESCRIPTION_NAME;var ACTION_NAME="ToastAction",ToastAction$1=reactExports.forwardRef((a,s)=>{const{altText:o,...c}=a;return o.trim()?jsxRuntimeExports.jsx(ToastAnnounceExclude,{altText:o,asChild:!0,children:jsxRuntimeExports.jsx(ToastClose$1,{...c,ref:s})}):(console.error(`Invalid prop \`altText\` supplied to \`${ACTION_NAME}\`. Expected non-empty \`string\`.`),null)});ToastAction$1.displayName=ACTION_NAME;var CLOSE_NAME="ToastClose",ToastClose$1=reactExports.forwardRef((a,s)=>{const{__scopeToast:o,...c}=a,d=useToastInteractiveContext(CLOSE_NAME,o);return jsxRuntimeExports.jsx(ToastAnnounceExclude,{asChild:!0,children:jsxRuntimeExports.jsx(Primitive.button,{type:"button",...c,ref:s,onClick:composeEventHandlers(a.onClick,d.onClose)})})});ToastClose$1.displayName=CLOSE_NAME;var ToastAnnounceExclude=reactExports.forwardRef((a,s)=>{const{__scopeToast:o,altText:c,...d}=a;return jsxRuntimeExports.jsx(Primitive.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":c||void 0,...d,ref:s})});function getAnnounceTextContent(a){const s=[];return Array.from(a.childNodes).forEach(c=>{if(c.nodeType===c.TEXT_NODE&&c.textContent&&s.push(c.textContent),isHTMLElement$1(c)){const d=c.ariaHidden||c.hidden||c.style.display==="none",h=c.dataset.radixToastAnnounceExclude==="";if(!d)if(h){const g=c.dataset.radixToastAnnounceAlt;g&&s.push(g)}else s.push(...getAnnounceTextContent(c))}}),s}function handleAndDispatchCustomEvent(a,s,o,{discrete:c}){const d=o.originalEvent.currentTarget,h=new CustomEvent(a,{bubbles:!0,cancelable:!0,detail:o});s&&d.addEventListener(a,s,{once:!0}),c?dispatchDiscreteCustomEvent(d,h):d.dispatchEvent(h)}var isDeltaInDirection=(a,s,o=0)=>{const c=Math.abs(a.x),d=Math.abs(a.y),h=c>d;return s==="left"||s==="right"?h&&c>o:!h&&d>o};function useNextFrame(a=()=>{}){const s=useCallbackRef(a);useLayoutEffect2(()=>{let o=0,c=0;return o=window.requestAnimationFrame(()=>c=window.requestAnimationFrame(s)),()=>{window.cancelAnimationFrame(o),window.cancelAnimationFrame(c)}},[s])}function isHTMLElement$1(a){return a.nodeType===a.ELEMENT_NODE}function getTabbableCandidates(a){const s=[],o=document.createTreeWalker(a,NodeFilter.SHOW_ELEMENT,{acceptNode:c=>{const d=c.tagName==="INPUT"&&c.type==="hidden";return c.disabled||c.hidden||d?NodeFilter.FILTER_SKIP:c.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;o.nextNode();)s.push(o.currentNode);return s}function focusFirst(a){const s=document.activeElement;return a.some(o=>o===s?!0:(o.focus(),document.activeElement!==s))}var Provider$1=ToastProvider$1,Viewport=ToastViewport$1,Root2=Toast$1,Title=ToastTitle$1,Description=ToastDescription$1,Action$1=ToastAction$1,Close=ToastClose$1;function r(a){var s,o,c="";if(typeof a=="string"||typeof a=="number")c+=a;else if(typeof a=="object")if(Array.isArray(a)){var d=a.length;for(s=0;s<d;s++)a[s]&&(o=r(a[s]))&&(c&&(c+=" "),c+=o)}else for(o in a)a[o]&&(c&&(c+=" "),c+=o);return c}function clsx(){for(var a,s,o=0,c="",d=arguments.length;o<d;o++)(a=arguments[o])&&(s=r(a))&&(c&&(c+=" "),c+=s);return c}const falsyToString=a=>typeof a=="boolean"?`${a}`:a===0?"0":a,cx=clsx,cva=(a,s)=>o=>{var c;if((s==null?void 0:s.variants)==null)return cx(a,o==null?void 0:o.class,o==null?void 0:o.className);const{variants:d,defaultVariants:h}=s,g=Object.keys(d).map($=>{const _e=o==null?void 0:o[$],tt=h==null?void 0:h[$];if(_e===null)return null;const et=falsyToString(_e)||falsyToString(tt);return d[$][et]}),b=o&&Object.entries(o).reduce(($,_e)=>{let[tt,et]=_e;return et===void 0||($[tt]=et),$},{}),_=s==null||(c=s.compoundVariants)===null||c===void 0?void 0:c.reduce(($,_e)=>{let{class:tt,className:et,...nt}=_e;return Object.entries(nt).every(ot=>{let[st,pt]=ot;return Array.isArray(pt)?pt.includes({...h,...b}[st]):{...h,...b}[st]===pt})?[...$,tt,et]:$},[]);return cx(a,g,_,o==null?void 0:o.class,o==null?void 0:o.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const toKebabCase=a=>a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),mergeClasses=(...a)=>a.filter((s,o,c)=>!!s&&s.trim()!==""&&c.indexOf(s)===o).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var defaultAttributes={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Icon=reactExports.forwardRef(({color:a="currentColor",size:s=24,strokeWidth:o=2,absoluteStrokeWidth:c,className:d="",children:h,iconNode:g,...b},_)=>reactExports.createElement("svg",{ref:_,...defaultAttributes,width:s,height:s,stroke:a,strokeWidth:c?Number(o)*24/Number(s):o,className:mergeClasses("lucide",d),...b},[...g.map(([$,_e])=>reactExports.createElement($,_e)),...Array.isArray(h)?h:[h]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const createLucideIcon=(a,s)=>{const o=reactExports.forwardRef(({className:c,...d},h)=>reactExports.createElement(Icon,{ref:h,iconNode:s,className:mergeClasses(`lucide-${toKebabCase(a)}`,c),...d}));return o.displayName=`${a}`,o};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Award=createLucideIcon("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ChevronLeft=createLucideIcon("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ChevronRight=createLucideIcon("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Code=createLucideIcon("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ExternalLink=createLucideIcon("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FolderOpen=createLucideIcon("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GraduationCap=createLucideIcon("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mail=createLucideIcon("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Music=createLucideIcon("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pause=createLucideIcon("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Play=createLucideIcon("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Twitter=createLucideIcon("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Volume2=createLucideIcon("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VolumeX=createLucideIcon("VolumeX",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=createLucideIcon("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Youtube=createLucideIcon("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]),CLASS_PART_SEPARATOR="-",createClassGroupUtils=a=>{const s=createClassMap(a),{conflictingClassGroups:o,conflictingClassGroupModifiers:c}=a;return{getClassGroupId:g=>{const b=g.split(CLASS_PART_SEPARATOR);return b[0]===""&&b.length!==1&&b.shift(),getGroupRecursive(b,s)||getGroupIdForArbitraryProperty(g)},getConflictingClassGroupIds:(g,b)=>{const _=o[g]||[];return b&&c[g]?[..._,...c[g]]:_}}},getGroupRecursive=(a,s)=>{var g;if(a.length===0)return s.classGroupId;const o=a[0],c=s.nextPart.get(o),d=c?getGroupRecursive(a.slice(1),c):void 0;if(d)return d;if(s.validators.length===0)return;const h=a.join(CLASS_PART_SEPARATOR);return(g=s.validators.find(({validator:b})=>b(h)))==null?void 0:g.classGroupId},arbitraryPropertyRegex=/^\[(.+)\]$/,getGroupIdForArbitraryProperty=a=>{if(arbitraryPropertyRegex.test(a)){const s=arbitraryPropertyRegex.exec(a)[1],o=s==null?void 0:s.substring(0,s.indexOf(":"));if(o)return"arbitrary.."+o}},createClassMap=a=>{const{theme:s,prefix:o}=a,c={nextPart:new Map,validators:[]};return getPrefixedClassGroupEntries(Object.entries(a.classGroups),o).forEach(([h,g])=>{processClassesRecursively(g,c,h,s)}),c},processClassesRecursively=(a,s,o,c)=>{a.forEach(d=>{if(typeof d=="string"){const h=d===""?s:getPart(s,d);h.classGroupId=o;return}if(typeof d=="function"){if(isThemeGetter(d)){processClassesRecursively(d(c),s,o,c);return}s.validators.push({validator:d,classGroupId:o});return}Object.entries(d).forEach(([h,g])=>{processClassesRecursively(g,getPart(s,h),o,c)})})},getPart=(a,s)=>{let o=a;return s.split(CLASS_PART_SEPARATOR).forEach(c=>{o.nextPart.has(c)||o.nextPart.set(c,{nextPart:new Map,validators:[]}),o=o.nextPart.get(c)}),o},isThemeGetter=a=>a.isThemeGetter,getPrefixedClassGroupEntries=(a,s)=>s?a.map(([o,c])=>{const d=c.map(h=>typeof h=="string"?s+h:typeof h=="object"?Object.fromEntries(Object.entries(h).map(([g,b])=>[s+g,b])):h);return[o,d]}):a,createLruCache=a=>{if(a<1)return{get:()=>{},set:()=>{}};let s=0,o=new Map,c=new Map;const d=(h,g)=>{o.set(h,g),s++,s>a&&(s=0,c=o,o=new Map)};return{get(h){let g=o.get(h);if(g!==void 0)return g;if((g=c.get(h))!==void 0)return d(h,g),g},set(h,g){o.has(h)?o.set(h,g):d(h,g)}}},IMPORTANT_MODIFIER="!",createParseClassName=a=>{const{separator:s,experimentalParseClassName:o}=a,c=s.length===1,d=s[0],h=s.length,g=b=>{const _=[];let $=0,_e=0,tt;for(let pt=0;pt<b.length;pt++){let at=b[pt];if($===0){if(at===d&&(c||b.slice(pt,pt+h)===s)){_.push(b.slice(_e,pt)),_e=pt+h;continue}if(at==="/"){tt=pt;continue}}at==="["?$++:at==="]"&&$--}const et=_.length===0?b:b.substring(_e),nt=et.startsWith(IMPORTANT_MODIFIER),ot=nt?et.substring(1):et,st=tt&&tt>_e?tt-_e:void 0;return{modifiers:_,hasImportantModifier:nt,baseClassName:ot,maybePostfixModifierPosition:st}};return o?b=>o({className:b,parseClassName:g}):g},sortModifiers=a=>{if(a.length<=1)return a;const s=[];let o=[];return a.forEach(c=>{c[0]==="["?(s.push(...o.sort(),c),o=[]):o.push(c)}),s.push(...o.sort()),s},createConfigUtils=a=>({cache:createLruCache(a.cacheSize),parseClassName:createParseClassName(a),...createClassGroupUtils(a)}),SPLIT_CLASSES_REGEX=/\s+/,mergeClassList=(a,s)=>{const{parseClassName:o,getClassGroupId:c,getConflictingClassGroupIds:d}=s,h=[],g=a.trim().split(SPLIT_CLASSES_REGEX);let b="";for(let _=g.length-1;_>=0;_-=1){const $=g[_],{modifiers:_e,hasImportantModifier:tt,baseClassName:et,maybePostfixModifierPosition:nt}=o($);let ot=!!nt,st=c(ot?et.substring(0,nt):et);if(!st){if(!ot){b=$+(b.length>0?" "+b:b);continue}if(st=c(et),!st){b=$+(b.length>0?" "+b:b);continue}ot=!1}const pt=sortModifiers(_e).join(":"),at=tt?pt+IMPORTANT_MODIFIER:pt,ht=at+st;if(h.includes(ht))continue;h.push(ht);const lt=d(st,ot);for(let yt=0;yt<lt.length;++yt){const bt=lt[yt];h.push(at+bt)}b=$+(b.length>0?" "+b:b)}return b};function twJoin(){let a=0,s,o,c="";for(;a<arguments.length;)(s=arguments[a++])&&(o=toValue(s))&&(c&&(c+=" "),c+=o);return c}const toValue=a=>{if(typeof a=="string")return a;let s,o="";for(let c=0;c<a.length;c++)a[c]&&(s=toValue(a[c]))&&(o&&(o+=" "),o+=s);return o};function createTailwindMerge(a,...s){let o,c,d,h=g;function g(_){const $=s.reduce((_e,tt)=>tt(_e),a());return o=createConfigUtils($),c=o.cache.get,d=o.cache.set,h=b,b(_)}function b(_){const $=c(_);if($)return $;const _e=mergeClassList(_,o);return d(_,_e),_e}return function(){return h(twJoin.apply(null,arguments))}}const fromTheme=a=>{const s=o=>o[a]||[];return s.isThemeGetter=!0,s},arbitraryValueRegex=/^\[(?:([a-z-]+):)?(.+)\]$/i,fractionRegex=/^\d+\/\d+$/,stringLengths=new Set(["px","full","screen"]),tshirtUnitRegex=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,lengthUnitRegex=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,colorFunctionRegex=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,shadowRegex=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,imageRegex=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,isLength=a=>isNumber(a)||stringLengths.has(a)||fractionRegex.test(a),isArbitraryLength=a=>getIsArbitraryValue(a,"length",isLengthOnly),isNumber=a=>!!a&&!Number.isNaN(Number(a)),isArbitraryNumber=a=>getIsArbitraryValue(a,"number",isNumber),isInteger=a=>!!a&&Number.isInteger(Number(a)),isPercent=a=>a.endsWith("%")&&isNumber(a.slice(0,-1)),isArbitraryValue=a=>arbitraryValueRegex.test(a),isTshirtSize=a=>tshirtUnitRegex.test(a),sizeLabels=new Set(["length","size","percentage"]),isArbitrarySize=a=>getIsArbitraryValue(a,sizeLabels,isNever),isArbitraryPosition=a=>getIsArbitraryValue(a,"position",isNever),imageLabels=new Set(["image","url"]),isArbitraryImage=a=>getIsArbitraryValue(a,imageLabels,isImage),isArbitraryShadow=a=>getIsArbitraryValue(a,"",isShadow),isAny=()=>!0,getIsArbitraryValue=(a,s,o)=>{const c=arbitraryValueRegex.exec(a);return c?c[1]?typeof s=="string"?c[1]===s:s.has(c[1]):o(c[2]):!1},isLengthOnly=a=>lengthUnitRegex.test(a)&&!colorFunctionRegex.test(a),isNever=()=>!1,isShadow=a=>shadowRegex.test(a),isImage=a=>imageRegex.test(a),getDefaultConfig=()=>{const a=fromTheme("colors"),s=fromTheme("spacing"),o=fromTheme("blur"),c=fromTheme("brightness"),d=fromTheme("borderColor"),h=fromTheme("borderRadius"),g=fromTheme("borderSpacing"),b=fromTheme("borderWidth"),_=fromTheme("contrast"),$=fromTheme("grayscale"),_e=fromTheme("hueRotate"),tt=fromTheme("invert"),et=fromTheme("gap"),nt=fromTheme("gradientColorStops"),ot=fromTheme("gradientColorStopPositions"),st=fromTheme("inset"),pt=fromTheme("margin"),at=fromTheme("opacity"),ht=fromTheme("padding"),lt=fromTheme("saturate"),yt=fromTheme("scale"),bt=fromTheme("sepia"),gt=fromTheme("skew"),dt=fromTheme("space"),vt=fromTheme("translate"),kt=()=>["auto","contain","none"],jt=()=>["auto","hidden","clip","visible","scroll"],Lt=()=>["auto",isArbitraryValue,s],Mt=()=>[isArbitraryValue,s],Pt=()=>["",isLength,isArbitraryLength],Yt=()=>["auto",isNumber,isArbitraryValue],ir=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],rr=()=>["solid","dashed","dotted","double","none"],dr=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Rt=()=>["start","end","center","between","around","evenly","stretch"],er=()=>["","0",isArbitraryValue],sr=()=>["auto","avoid","all","avoid-page","page","left","right","column"],zt=()=>[isNumber,isArbitraryValue];return{cacheSize:500,separator:":",theme:{colors:[isAny],spacing:[isLength,isArbitraryLength],blur:["none","",isTshirtSize,isArbitraryValue],brightness:zt(),borderColor:[a],borderRadius:["none","","full",isTshirtSize,isArbitraryValue],borderSpacing:Mt(),borderWidth:Pt(),contrast:zt(),grayscale:er(),hueRotate:zt(),invert:er(),gap:Mt(),gradientColorStops:[a],gradientColorStopPositions:[isPercent,isArbitraryLength],inset:Lt(),margin:Lt(),opacity:zt(),padding:Mt(),saturate:zt(),scale:zt(),sepia:er(),skew:zt(),space:Mt(),translate:Mt()},classGroups:{aspect:[{aspect:["auto","square","video",isArbitraryValue]}],container:["container"],columns:[{columns:[isTshirtSize]}],"break-after":[{"break-after":sr()}],"break-before":[{"break-before":sr()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ir(),isArbitraryValue]}],overflow:[{overflow:jt()}],"overflow-x":[{"overflow-x":jt()}],"overflow-y":[{"overflow-y":jt()}],overscroll:[{overscroll:kt()}],"overscroll-x":[{"overscroll-x":kt()}],"overscroll-y":[{"overscroll-y":kt()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[st]}],"inset-x":[{"inset-x":[st]}],"inset-y":[{"inset-y":[st]}],start:[{start:[st]}],end:[{end:[st]}],top:[{top:[st]}],right:[{right:[st]}],bottom:[{bottom:[st]}],left:[{left:[st]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",isInteger,isArbitraryValue]}],basis:[{basis:Lt()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",isArbitraryValue]}],grow:[{grow:er()}],shrink:[{shrink:er()}],order:[{order:["first","last","none",isInteger,isArbitraryValue]}],"grid-cols":[{"grid-cols":[isAny]}],"col-start-end":[{col:["auto",{span:["full",isInteger,isArbitraryValue]},isArbitraryValue]}],"col-start":[{"col-start":Yt()}],"col-end":[{"col-end":Yt()}],"grid-rows":[{"grid-rows":[isAny]}],"row-start-end":[{row:["auto",{span:[isInteger,isArbitraryValue]},isArbitraryValue]}],"row-start":[{"row-start":Yt()}],"row-end":[{"row-end":Yt()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",isArbitraryValue]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",isArbitraryValue]}],gap:[{gap:[et]}],"gap-x":[{"gap-x":[et]}],"gap-y":[{"gap-y":[et]}],"justify-content":[{justify:["normal",...Rt()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...Rt(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...Rt(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[ht]}],px:[{px:[ht]}],py:[{py:[ht]}],ps:[{ps:[ht]}],pe:[{pe:[ht]}],pt:[{pt:[ht]}],pr:[{pr:[ht]}],pb:[{pb:[ht]}],pl:[{pl:[ht]}],m:[{m:[pt]}],mx:[{mx:[pt]}],my:[{my:[pt]}],ms:[{ms:[pt]}],me:[{me:[pt]}],mt:[{mt:[pt]}],mr:[{mr:[pt]}],mb:[{mb:[pt]}],ml:[{ml:[pt]}],"space-x":[{"space-x":[dt]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[dt]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",isArbitraryValue,s]}],"min-w":[{"min-w":[isArbitraryValue,s,"min","max","fit"]}],"max-w":[{"max-w":[isArbitraryValue,s,"none","full","min","max","fit","prose",{screen:[isTshirtSize]},isTshirtSize]}],h:[{h:[isArbitraryValue,s,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[isArbitraryValue,s,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[isArbitraryValue,s,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[isArbitraryValue,s,"auto","min","max","fit"]}],"font-size":[{text:["base",isTshirtSize,isArbitraryLength]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",isArbitraryNumber]}],"font-family":[{font:[isAny]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",isArbitraryValue]}],"line-clamp":[{"line-clamp":["none",isNumber,isArbitraryNumber]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",isLength,isArbitraryValue]}],"list-image":[{"list-image":["none",isArbitraryValue]}],"list-style-type":[{list:["none","disc","decimal",isArbitraryValue]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[a]}],"placeholder-opacity":[{"placeholder-opacity":[at]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[a]}],"text-opacity":[{"text-opacity":[at]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...rr(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",isLength,isArbitraryLength]}],"underline-offset":[{"underline-offset":["auto",isLength,isArbitraryValue]}],"text-decoration-color":[{decoration:[a]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:Mt()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",isArbitraryValue]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",isArbitraryValue]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[at]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ir(),isArbitraryPosition]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",isArbitrarySize]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},isArbitraryImage]}],"bg-color":[{bg:[a]}],"gradient-from-pos":[{from:[ot]}],"gradient-via-pos":[{via:[ot]}],"gradient-to-pos":[{to:[ot]}],"gradient-from":[{from:[nt]}],"gradient-via":[{via:[nt]}],"gradient-to":[{to:[nt]}],rounded:[{rounded:[h]}],"rounded-s":[{"rounded-s":[h]}],"rounded-e":[{"rounded-e":[h]}],"rounded-t":[{"rounded-t":[h]}],"rounded-r":[{"rounded-r":[h]}],"rounded-b":[{"rounded-b":[h]}],"rounded-l":[{"rounded-l":[h]}],"rounded-ss":[{"rounded-ss":[h]}],"rounded-se":[{"rounded-se":[h]}],"rounded-ee":[{"rounded-ee":[h]}],"rounded-es":[{"rounded-es":[h]}],"rounded-tl":[{"rounded-tl":[h]}],"rounded-tr":[{"rounded-tr":[h]}],"rounded-br":[{"rounded-br":[h]}],"rounded-bl":[{"rounded-bl":[h]}],"border-w":[{border:[b]}],"border-w-x":[{"border-x":[b]}],"border-w-y":[{"border-y":[b]}],"border-w-s":[{"border-s":[b]}],"border-w-e":[{"border-e":[b]}],"border-w-t":[{"border-t":[b]}],"border-w-r":[{"border-r":[b]}],"border-w-b":[{"border-b":[b]}],"border-w-l":[{"border-l":[b]}],"border-opacity":[{"border-opacity":[at]}],"border-style":[{border:[...rr(),"hidden"]}],"divide-x":[{"divide-x":[b]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[b]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[at]}],"divide-style":[{divide:rr()}],"border-color":[{border:[d]}],"border-color-x":[{"border-x":[d]}],"border-color-y":[{"border-y":[d]}],"border-color-s":[{"border-s":[d]}],"border-color-e":[{"border-e":[d]}],"border-color-t":[{"border-t":[d]}],"border-color-r":[{"border-r":[d]}],"border-color-b":[{"border-b":[d]}],"border-color-l":[{"border-l":[d]}],"divide-color":[{divide:[d]}],"outline-style":[{outline:["",...rr()]}],"outline-offset":[{"outline-offset":[isLength,isArbitraryValue]}],"outline-w":[{outline:[isLength,isArbitraryLength]}],"outline-color":[{outline:[a]}],"ring-w":[{ring:Pt()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[a]}],"ring-opacity":[{"ring-opacity":[at]}],"ring-offset-w":[{"ring-offset":[isLength,isArbitraryLength]}],"ring-offset-color":[{"ring-offset":[a]}],shadow:[{shadow:["","inner","none",isTshirtSize,isArbitraryShadow]}],"shadow-color":[{shadow:[isAny]}],opacity:[{opacity:[at]}],"mix-blend":[{"mix-blend":[...dr(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":dr()}],filter:[{filter:["","none"]}],blur:[{blur:[o]}],brightness:[{brightness:[c]}],contrast:[{contrast:[_]}],"drop-shadow":[{"drop-shadow":["","none",isTshirtSize,isArbitraryValue]}],grayscale:[{grayscale:[$]}],"hue-rotate":[{"hue-rotate":[_e]}],invert:[{invert:[tt]}],saturate:[{saturate:[lt]}],sepia:[{sepia:[bt]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[o]}],"backdrop-brightness":[{"backdrop-brightness":[c]}],"backdrop-contrast":[{"backdrop-contrast":[_]}],"backdrop-grayscale":[{"backdrop-grayscale":[$]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[_e]}],"backdrop-invert":[{"backdrop-invert":[tt]}],"backdrop-opacity":[{"backdrop-opacity":[at]}],"backdrop-saturate":[{"backdrop-saturate":[lt]}],"backdrop-sepia":[{"backdrop-sepia":[bt]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[g]}],"border-spacing-x":[{"border-spacing-x":[g]}],"border-spacing-y":[{"border-spacing-y":[g]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",isArbitraryValue]}],duration:[{duration:zt()}],ease:[{ease:["linear","in","out","in-out",isArbitraryValue]}],delay:[{delay:zt()}],animate:[{animate:["none","spin","ping","pulse","bounce",isArbitraryValue]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[yt]}],"scale-x":[{"scale-x":[yt]}],"scale-y":[{"scale-y":[yt]}],rotate:[{rotate:[isInteger,isArbitraryValue]}],"translate-x":[{"translate-x":[vt]}],"translate-y":[{"translate-y":[vt]}],"skew-x":[{"skew-x":[gt]}],"skew-y":[{"skew-y":[gt]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",isArbitraryValue]}],accent:[{accent:["auto",a]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",isArbitraryValue]}],"caret-color":[{caret:[a]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":Mt()}],"scroll-mx":[{"scroll-mx":Mt()}],"scroll-my":[{"scroll-my":Mt()}],"scroll-ms":[{"scroll-ms":Mt()}],"scroll-me":[{"scroll-me":Mt()}],"scroll-mt":[{"scroll-mt":Mt()}],"scroll-mr":[{"scroll-mr":Mt()}],"scroll-mb":[{"scroll-mb":Mt()}],"scroll-ml":[{"scroll-ml":Mt()}],"scroll-p":[{"scroll-p":Mt()}],"scroll-px":[{"scroll-px":Mt()}],"scroll-py":[{"scroll-py":Mt()}],"scroll-ps":[{"scroll-ps":Mt()}],"scroll-pe":[{"scroll-pe":Mt()}],"scroll-pt":[{"scroll-pt":Mt()}],"scroll-pr":[{"scroll-pr":Mt()}],"scroll-pb":[{"scroll-pb":Mt()}],"scroll-pl":[{"scroll-pl":Mt()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",isArbitraryValue]}],fill:[{fill:[a,"none"]}],"stroke-w":[{stroke:[isLength,isArbitraryLength,isArbitraryNumber]}],stroke:[{stroke:[a,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},twMerge=createTailwindMerge(getDefaultConfig);function cn(...a){return twMerge(clsx(a))}const ToastProvider=Provider$1,ToastViewport=reactExports.forwardRef(({className:a,...s},o)=>jsxRuntimeExports.jsx(Viewport,{ref:o,className:cn("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",a),...s}));ToastViewport.displayName=Viewport.displayName;const toastVariants=cva("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Toast=reactExports.forwardRef(({className:a,variant:s,...o},c)=>jsxRuntimeExports.jsx(Root2,{ref:c,className:cn(toastVariants({variant:s}),a),...o}));Toast.displayName=Root2.displayName;const ToastAction=reactExports.forwardRef(({className:a,...s},o)=>jsxRuntimeExports.jsx(Action$1,{ref:o,className:cn("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",a),...s}));ToastAction.displayName=Action$1.displayName;const ToastClose=reactExports.forwardRef(({className:a,...s},o)=>jsxRuntimeExports.jsx(Close,{ref:o,className:cn("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",a),"toast-close":"",...s,children:jsxRuntimeExports.jsx(X,{className:"h-4 w-4"})}));ToastClose.displayName=Close.displayName;const ToastTitle=reactExports.forwardRef(({className:a,...s},o)=>jsxRuntimeExports.jsx(Title,{ref:o,className:cn("text-sm font-semibold",a),...s}));ToastTitle.displayName=Title.displayName;const ToastDescription=reactExports.forwardRef(({className:a,...s},o)=>jsxRuntimeExports.jsx(Description,{ref:o,className:cn("text-sm opacity-90",a),...s}));ToastDescription.displayName=Description.displayName;function Toaster$1(){const{toasts:a}=useToast();return jsxRuntimeExports.jsxs(ToastProvider,{children:[a.map(function({id:s,title:o,description:c,action:d,...h}){return jsxRuntimeExports.jsxs(Toast,{...h,children:[jsxRuntimeExports.jsxs("div",{className:"grid gap-1",children:[o&&jsxRuntimeExports.jsx(ToastTitle,{children:o}),c&&jsxRuntimeExports.jsx(ToastDescription,{children:c})]}),d,jsxRuntimeExports.jsx(ToastClose,{})]},s)}),jsxRuntimeExports.jsx(ToastViewport,{})]})}var P=["light","dark"],E$1="(prefers-color-scheme: dark)",L=reactExports.createContext(void 0),D={setTheme:a=>{},themes:[]},j=()=>{var a;return(a=reactExports.useContext(L))!=null?a:D};reactExports.memo(({forcedTheme:a,storageKey:s,attribute:o,enableSystem:c,enableColorScheme:d,defaultTheme:h,value:g,attrs:b,nonce:_})=>{let $=h==="system",_e=o==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${b.map(ot=>`'${ot}'`).join(",")})`};`:`var d=document.documentElement,n='${o}',s='setAttribute';`,tt=d?P.includes(h)&&h?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${h}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",et=(ot,st=!1,pt=!0)=>{let at=g?g[ot]:ot,ht=st?ot+"|| ''":`'${at}'`,lt="";return d&&pt&&!st&&P.includes(ot)&&(lt+=`d.style.colorScheme = '${ot}';`),o==="class"?st||at?lt+=`c.add(${ht})`:lt+="null":at&&(lt+=`d[s](n,${ht})`),lt},nt=a?`!function(){${_e}${et(a)}}()`:c?`!function(){try{${_e}var e=localStorage.getItem('${s}');if('system'===e||(!e&&${$})){var t='${E$1}',m=window.matchMedia(t);if(m.media!==t||m.matches){${et("dark")}}else{${et("light")}}}else if(e){${g?`var x=${JSON.stringify(g)};`:""}${et(g?"x[e]":"e",!0)}}${$?"":"else{"+et(h,!1,!1)+"}"}${tt}}catch(e){}}()`:`!function(){try{${_e}var e=localStorage.getItem('${s}');if(e){${g?`var x=${JSON.stringify(g)};`:""}${et(g?"x[e]":"e",!0)}}else{${et(h,!1,!1)};}${tt}}catch(t){}}();`;return reactExports.createElement("script",{nonce:_,dangerouslySetInnerHTML:{__html:nt}})});var Ct=a=>{switch(a){case"success":return $t;case"info":return _t;case"warning":return Wt;case"error":return Ut;default:return null}},Ft=Array(12).fill(0),It=({visible:a})=>e.createElement("div",{className:"sonner-loading-wrapper","data-visible":a},e.createElement("div",{className:"sonner-spinner"},Ft.map((s,o)=>e.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${o}`})))),$t=e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},e.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Wt=e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},e.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),_t=e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},e.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Ut=e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},e.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Dt=()=>{let[a,s]=e.useState(document.hidden);return e.useEffect(()=>{let o=()=>{s(document.hidden)};return document.addEventListener("visibilitychange",o),()=>window.removeEventListener("visibilitychange",o)},[]),a},ct=1,ut=class{constructor(){this.subscribe=a=>(this.subscribers.push(a),()=>{let s=this.subscribers.indexOf(a);this.subscribers.splice(s,1)}),this.publish=a=>{this.subscribers.forEach(s=>s(a))},this.addToast=a=>{this.publish(a),this.toasts=[...this.toasts,a]},this.create=a=>{var s;let{message:o,...c}=a,d=typeof(a==null?void 0:a.id)=="number"||((s=a.id)==null?void 0:s.length)>0?a.id:ct++,h=this.toasts.find(b=>b.id===d),g=a.dismissible===void 0?!0:a.dismissible;return h?this.toasts=this.toasts.map(b=>b.id===d?(this.publish({...b,...a,id:d,title:o}),{...b,...a,id:d,dismissible:g,title:o}):b):this.addToast({title:o,...c,dismissible:g,id:d}),d},this.dismiss=a=>(a||this.toasts.forEach(s=>{this.subscribers.forEach(o=>o({id:s.id,dismiss:!0}))}),this.subscribers.forEach(s=>s({id:a,dismiss:!0})),a),this.message=(a,s)=>this.create({...s,message:a}),this.error=(a,s)=>this.create({...s,message:a,type:"error"}),this.success=(a,s)=>this.create({...s,type:"success",message:a}),this.info=(a,s)=>this.create({...s,type:"info",message:a}),this.warning=(a,s)=>this.create({...s,type:"warning",message:a}),this.loading=(a,s)=>this.create({...s,type:"loading",message:a}),this.promise=(a,s)=>{if(!s)return;let o;s.loading!==void 0&&(o=this.create({...s,promise:a,type:"loading",message:s.loading,description:typeof s.description!="function"?s.description:void 0}));let c=a instanceof Promise?a:a(),d=o!==void 0;return c.then(async h=>{if(Ot(h)&&!h.ok){d=!1;let g=typeof s.error=="function"?await s.error(`HTTP error! status: ${h.status}`):s.error,b=typeof s.description=="function"?await s.description(`HTTP error! status: ${h.status}`):s.description;this.create({id:o,type:"error",message:g,description:b})}else if(s.success!==void 0){d=!1;let g=typeof s.success=="function"?await s.success(h):s.success,b=typeof s.description=="function"?await s.description(h):s.description;this.create({id:o,type:"success",message:g,description:b})}}).catch(async h=>{if(s.error!==void 0){d=!1;let g=typeof s.error=="function"?await s.error(h):s.error,b=typeof s.description=="function"?await s.description(h):s.description;this.create({id:o,type:"error",message:g,description:b})}}).finally(()=>{var h;d&&(this.dismiss(o),o=void 0),(h=s.finally)==null||h.call(s)}),o},this.custom=(a,s)=>{let o=(s==null?void 0:s.id)||ct++;return this.create({jsx:a(o),id:o,...s}),o},this.subscribers=[],this.toasts=[]}},v=new ut,Vt=(a,s)=>{let o=(s==null?void 0:s.id)||ct++;return v.addToast({title:a,...s,id:o}),o},Ot=a=>a&&typeof a=="object"&&"ok"in a&&typeof a.ok=="boolean"&&"status"in a&&typeof a.status=="number",Kt=Vt,Xt=()=>v.toasts;Object.assign(Kt,{success:v.success,info:v.info,warning:v.warning,error:v.error,custom:v.custom,message:v.message,promise:v.promise,dismiss:v.dismiss,loading:v.loading},{getHistory:Xt});function ft(a,{insertAt:s}={}){if(typeof document>"u")return;let o=document.head||document.getElementsByTagName("head")[0],c=document.createElement("style");c.type="text/css",s==="top"&&o.firstChild?o.insertBefore(c,o.firstChild):o.appendChild(c),c.styleSheet?c.styleSheet.cssText=a:c.appendChild(document.createTextNode(a))}ft(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function U(a){return a.label!==void 0}var qt=3,Qt="32px",Zt=4e3,te=356,ee=14,oe=20,ae=200;function ne(...a){return a.filter(Boolean).join(" ")}var se=a=>{var s,o,c,d,h,g,b,_,$,_e;let{invert:tt,toast:et,unstyled:nt,interacting:ot,setHeights:st,visibleToasts:pt,heights:at,index:ht,toasts:lt,expanded:yt,removeToast:bt,defaultRichColors:gt,closeButton:dt,style:vt,cancelButtonStyle:kt,actionButtonStyle:jt,className:Lt="",descriptionClassName:Mt="",duration:Pt,position:Yt,gap:ir,loadingIcon:rr,expandByDefault:dr,classNames:Rt,icons:er,closeButtonAriaLabel:sr="Close toast",pauseWhenPageIsHidden:zt,cn:lr}=a,[nr,mr]=e.useState(!1),[Ar,wr]=e.useState(!1),[Pr,Cr]=e.useState(!1),[$r,Br]=e.useState(!1),[Hr,Or]=e.useState(0),[St,At]=e.useState(0),tr=e.useRef(null),ur=e.useRef(null),fr=ht===0,xr=ht+1<=pt,gr=et.type,Er=et.dismissible!==!1,Dr=et.className||"",pr=et.descriptionClassName||"",Nr=e.useMemo(()=>at.findIndex(cr=>cr.toastId===et.id)||0,[at,et.id]),on=e.useMemo(()=>{var cr;return(cr=et.closeButton)!=null?cr:dt},[et.closeButton,dt]),zr=e.useMemo(()=>et.duration||Pt||Zt,[et.duration,Pt]),ln=e.useRef(0),mt=e.useRef(0),rt=e.useRef(0),it=e.useRef(null),[Et,Tt]=Yt.split("-"),Nt=e.useMemo(()=>at.reduce((cr,Sr,kr)=>kr>=Nr?cr:cr+Sr.height,0),[at,Nr]),Bt=Dt(),yr=et.invert||tt,Tr=gr==="loading";mt.current=e.useMemo(()=>Nr*ir+Nt,[Nr,Nt]),e.useEffect(()=>{mr(!0)},[]),e.useLayoutEffect(()=>{if(!nr)return;let cr=ur.current,Sr=cr.style.height;cr.style.height="auto";let kr=cr.getBoundingClientRect().height;cr.style.height=Sr,At(kr),st(Wr=>Wr.find(Ur=>Ur.toastId===et.id)?Wr.map(Ur=>Ur.toastId===et.id?{...Ur,height:kr}:Ur):[{toastId:et.id,height:kr,position:et.position},...Wr])},[nr,et.title,et.description,st,et.id]);let br=e.useCallback(()=>{wr(!0),Or(mt.current),st(cr=>cr.filter(Sr=>Sr.toastId!==et.id)),setTimeout(()=>{bt(et)},ae)},[et,bt,st,mt]);e.useEffect(()=>{if(et.promise&&gr==="loading"||et.duration===1/0||et.type==="loading")return;let cr,Sr=zr;return yt||ot||zt&&Bt?(()=>{if(rt.current<ln.current){let kr=new Date().getTime()-ln.current;Sr=Sr-kr}rt.current=new Date().getTime()})():Sr!==1/0&&(ln.current=new Date().getTime(),cr=setTimeout(()=>{var kr;(kr=et.onAutoClose)==null||kr.call(et,et),br()},Sr)),()=>clearTimeout(cr)},[yt,ot,dr,et,zr,br,et.promise,gr,zt,Bt]),e.useEffect(()=>{let cr=ur.current;if(cr){let Sr=cr.getBoundingClientRect().height;return At(Sr),st(kr=>[{toastId:et.id,height:Sr,position:et.position},...kr]),()=>st(kr=>kr.filter(Wr=>Wr.toastId!==et.id))}},[st,et.id]),e.useEffect(()=>{et.delete&&br()},[br,et.delete]);function Rr(){return er!=null&&er.loading?e.createElement("div",{className:"sonner-loader","data-visible":gr==="loading"},er.loading):rr?e.createElement("div",{className:"sonner-loader","data-visible":gr==="loading"},rr):e.createElement(It,{visible:gr==="loading"})}return e.createElement("li",{"aria-live":et.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:ur,className:lr(Lt,Dr,Rt==null?void 0:Rt.toast,(s=et==null?void 0:et.classNames)==null?void 0:s.toast,Rt==null?void 0:Rt.default,Rt==null?void 0:Rt[gr],(o=et==null?void 0:et.classNames)==null?void 0:o[gr]),"data-sonner-toast":"","data-rich-colors":(c=et.richColors)!=null?c:gt,"data-styled":!(et.jsx||et.unstyled||nt),"data-mounted":nr,"data-promise":!!et.promise,"data-removed":Ar,"data-visible":xr,"data-y-position":Et,"data-x-position":Tt,"data-index":ht,"data-front":fr,"data-swiping":Pr,"data-dismissible":Er,"data-type":gr,"data-invert":yr,"data-swipe-out":$r,"data-expanded":!!(yt||dr&&nr),style:{"--index":ht,"--toasts-before":ht,"--z-index":lt.length-ht,"--offset":`${Ar?Hr:mt.current}px`,"--initial-height":dr?"auto":`${St}px`,...vt,...et.style},onPointerDown:cr=>{Tr||!Er||(tr.current=new Date,Or(mt.current),cr.target.setPointerCapture(cr.pointerId),cr.target.tagName!=="BUTTON"&&(Cr(!0),it.current={x:cr.clientX,y:cr.clientY}))},onPointerUp:()=>{var cr,Sr,kr,Wr;if($r||!Er)return;it.current=null;let Ur=Number(((cr=ur.current)==null?void 0:cr.style.getPropertyValue("--swipe-amount").replace("px",""))||0),gn=new Date().getTime()-((Sr=tr.current)==null?void 0:Sr.getTime()),In=Math.abs(Ur)/gn;if(Math.abs(Ur)>=oe||In>.11){Or(mt.current),(kr=et.onDismiss)==null||kr.call(et,et),br(),Br(!0);return}(Wr=ur.current)==null||Wr.style.setProperty("--swipe-amount","0px"),Cr(!1)},onPointerMove:cr=>{var Sr;if(!it.current||!Er)return;let kr=cr.clientY-it.current.y,Wr=cr.clientX-it.current.x,Ur=(Et==="top"?Math.min:Math.max)(0,kr),gn=cr.pointerType==="touch"?10:2;Math.abs(Ur)>gn?(Sr=ur.current)==null||Sr.style.setProperty("--swipe-amount",`${kr}px`):Math.abs(Wr)>gn&&(it.current=null)}},on&&!et.jsx?e.createElement("button",{"aria-label":sr,"data-disabled":Tr,"data-close-button":!0,onClick:Tr||!Er?()=>{}:()=>{var cr;br(),(cr=et.onDismiss)==null||cr.call(et,et)},className:lr(Rt==null?void 0:Rt.closeButton,(d=et==null?void 0:et.classNames)==null?void 0:d.closeButton)},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},e.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,et.jsx||e.isValidElement(et.title)?et.jsx||et.title:e.createElement(e.Fragment,null,gr||et.icon||et.promise?e.createElement("div",{"data-icon":"",className:lr(Rt==null?void 0:Rt.icon,(h=et==null?void 0:et.classNames)==null?void 0:h.icon)},et.promise||et.type==="loading"&&!et.icon?et.icon||Rr():null,et.type!=="loading"?et.icon||(er==null?void 0:er[gr])||Ct(gr):null):null,e.createElement("div",{"data-content":"",className:lr(Rt==null?void 0:Rt.content,(g=et==null?void 0:et.classNames)==null?void 0:g.content)},e.createElement("div",{"data-title":"",className:lr(Rt==null?void 0:Rt.title,(b=et==null?void 0:et.classNames)==null?void 0:b.title)},et.title),et.description?e.createElement("div",{"data-description":"",className:lr(Mt,pr,Rt==null?void 0:Rt.description,(_=et==null?void 0:et.classNames)==null?void 0:_.description)},et.description):null),e.isValidElement(et.cancel)?et.cancel:et.cancel&&U(et.cancel)?e.createElement("button",{"data-button":!0,"data-cancel":!0,style:et.cancelButtonStyle||kt,onClick:cr=>{var Sr,kr;U(et.cancel)&&Er&&((kr=(Sr=et.cancel).onClick)==null||kr.call(Sr,cr),br())},className:lr(Rt==null?void 0:Rt.cancelButton,($=et==null?void 0:et.classNames)==null?void 0:$.cancelButton)},et.cancel.label):null,e.isValidElement(et.action)?et.action:et.action&&U(et.action)?e.createElement("button",{"data-button":!0,"data-action":!0,style:et.actionButtonStyle||jt,onClick:cr=>{var Sr,kr;U(et.action)&&(cr.defaultPrevented||((kr=(Sr=et.action).onClick)==null||kr.call(Sr,cr),br()))},className:lr(Rt==null?void 0:Rt.actionButton,(_e=et==null?void 0:et.classNames)==null?void 0:_e.actionButton)},et.action.label):null))};function Ht(){if(typeof window>"u"||typeof document>"u")return"ltr";let a=document.documentElement.getAttribute("dir");return a==="auto"||!a?window.getComputedStyle(document.documentElement).direction:a}var Te=a=>{let{invert:s,position:o="bottom-right",hotkey:c=["altKey","KeyT"],expand:d,closeButton:h,className:g,offset:b,theme:_="light",richColors:$,duration:_e,style:tt,visibleToasts:et=qt,toastOptions:nt,dir:ot=Ht(),gap:st=ee,loadingIcon:pt,icons:at,containerAriaLabel:ht="Notifications",pauseWhenPageIsHidden:lt,cn:yt=ne}=a,[bt,gt]=e.useState([]),dt=e.useMemo(()=>Array.from(new Set([o].concat(bt.filter(zt=>zt.position).map(zt=>zt.position)))),[bt,o]),[vt,kt]=e.useState([]),[jt,Lt]=e.useState(!1),[Mt,Pt]=e.useState(!1),[Yt,ir]=e.useState(_!=="system"?_:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),rr=e.useRef(null),dr=c.join("+").replace(/Key/g,"").replace(/Digit/g,""),Rt=e.useRef(null),er=e.useRef(!1),sr=e.useCallback(zt=>{var lr;(lr=bt.find(nr=>nr.id===zt.id))!=null&&lr.delete||v.dismiss(zt.id),gt(nr=>nr.filter(({id:mr})=>mr!==zt.id))},[bt]);return e.useEffect(()=>v.subscribe(zt=>{if(zt.dismiss){gt(lr=>lr.map(nr=>nr.id===zt.id?{...nr,delete:!0}:nr));return}setTimeout(()=>{Gt.flushSync(()=>{gt(lr=>{let nr=lr.findIndex(mr=>mr.id===zt.id);return nr!==-1?[...lr.slice(0,nr),{...lr[nr],...zt},...lr.slice(nr+1)]:[zt,...lr]})})})}),[]),e.useEffect(()=>{if(_!=="system"){ir(_);return}_==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?ir("dark"):ir("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:zt})=>{ir(zt?"dark":"light")})},[_]),e.useEffect(()=>{bt.length<=1&&Lt(!1)},[bt]),e.useEffect(()=>{let zt=lr=>{var nr,mr;c.every(Ar=>lr[Ar]||lr.code===Ar)&&(Lt(!0),(nr=rr.current)==null||nr.focus()),lr.code==="Escape"&&(document.activeElement===rr.current||(mr=rr.current)!=null&&mr.contains(document.activeElement))&&Lt(!1)};return document.addEventListener("keydown",zt),()=>document.removeEventListener("keydown",zt)},[c]),e.useEffect(()=>{if(rr.current)return()=>{Rt.current&&(Rt.current.focus({preventScroll:!0}),Rt.current=null,er.current=!1)}},[rr.current]),bt.length?e.createElement("section",{"aria-label":`${ht} ${dr}`,tabIndex:-1},dt.map((zt,lr)=>{var nr;let[mr,Ar]=zt.split("-");return e.createElement("ol",{key:zt,dir:ot==="auto"?Ht():ot,tabIndex:-1,ref:rr,className:g,"data-sonner-toaster":!0,"data-theme":Yt,"data-y-position":mr,"data-x-position":Ar,style:{"--front-toast-height":`${((nr=vt[0])==null?void 0:nr.height)||0}px`,"--offset":typeof b=="number"?`${b}px`:b||Qt,"--width":`${te}px`,"--gap":`${st}px`,...tt},onBlur:wr=>{er.current&&!wr.currentTarget.contains(wr.relatedTarget)&&(er.current=!1,Rt.current&&(Rt.current.focus({preventScroll:!0}),Rt.current=null))},onFocus:wr=>{wr.target instanceof HTMLElement&&wr.target.dataset.dismissible==="false"||er.current||(er.current=!0,Rt.current=wr.relatedTarget)},onMouseEnter:()=>Lt(!0),onMouseMove:()=>Lt(!0),onMouseLeave:()=>{Mt||Lt(!1)},onPointerDown:wr=>{wr.target instanceof HTMLElement&&wr.target.dataset.dismissible==="false"||Pt(!0)},onPointerUp:()=>Pt(!1)},bt.filter(wr=>!wr.position&&lr===0||wr.position===zt).map((wr,Pr)=>{var Cr,$r;return e.createElement(se,{key:wr.id,icons:at,index:Pr,toast:wr,defaultRichColors:$,duration:(Cr=nt==null?void 0:nt.duration)!=null?Cr:_e,className:nt==null?void 0:nt.className,descriptionClassName:nt==null?void 0:nt.descriptionClassName,invert:s,visibleToasts:et,closeButton:($r=nt==null?void 0:nt.closeButton)!=null?$r:h,interacting:Mt,position:zt,style:nt==null?void 0:nt.style,unstyled:nt==null?void 0:nt.unstyled,classNames:nt==null?void 0:nt.classNames,cancelButtonStyle:nt==null?void 0:nt.cancelButtonStyle,actionButtonStyle:nt==null?void 0:nt.actionButtonStyle,removeToast:sr,toasts:bt.filter(Br=>Br.position==wr.position),heights:vt.filter(Br=>Br.position==wr.position),setHeights:kt,expandByDefault:d,gap:st,loadingIcon:pt,expanded:jt,pauseWhenPageIsHidden:lt,cn:yt})}))})):null};const Toaster=({...a})=>{const{theme:s="system"}=j();return jsxRuntimeExports.jsx(Te,{theme:s,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...a})},sides=["top","right","bottom","left"],min=Math.min,max=Math.max,round=Math.round,floor=Math.floor,createCoords=a=>({x:a,y:a}),oppositeSideMap={left:"right",right:"left",bottom:"top",top:"bottom"},oppositeAlignmentMap={start:"end",end:"start"};function clamp(a,s,o){return max(a,min(s,o))}function evaluate(a,s){return typeof a=="function"?a(s):a}function getSide(a){return a.split("-")[0]}function getAlignment(a){return a.split("-")[1]}function getOppositeAxis(a){return a==="x"?"y":"x"}function getAxisLength(a){return a==="y"?"height":"width"}function getSideAxis(a){return["top","bottom"].includes(getSide(a))?"y":"x"}function getAlignmentAxis(a){return getOppositeAxis(getSideAxis(a))}function getAlignmentSides(a,s,o){o===void 0&&(o=!1);const c=getAlignment(a),d=getAlignmentAxis(a),h=getAxisLength(d);let g=d==="x"?c===(o?"end":"start")?"right":"left":c==="start"?"bottom":"top";return s.reference[h]>s.floating[h]&&(g=getOppositePlacement(g)),[g,getOppositePlacement(g)]}function getExpandedPlacements(a){const s=getOppositePlacement(a);return[getOppositeAlignmentPlacement(a),s,getOppositeAlignmentPlacement(s)]}function getOppositeAlignmentPlacement(a){return a.replace(/start|end/g,s=>oppositeAlignmentMap[s])}function getSideList(a,s,o){const c=["left","right"],d=["right","left"],h=["top","bottom"],g=["bottom","top"];switch(a){case"top":case"bottom":return o?s?d:c:s?c:d;case"left":case"right":return s?h:g;default:return[]}}function getOppositeAxisPlacements(a,s,o,c){const d=getAlignment(a);let h=getSideList(getSide(a),o==="start",c);return d&&(h=h.map(g=>g+"-"+d),s&&(h=h.concat(h.map(getOppositeAlignmentPlacement)))),h}function getOppositePlacement(a){return a.replace(/left|right|bottom|top/g,s=>oppositeSideMap[s])}function expandPaddingObject(a){return{top:0,right:0,bottom:0,left:0,...a}}function getPaddingObject(a){return typeof a!="number"?expandPaddingObject(a):{top:a,right:a,bottom:a,left:a}}function rectToClientRect(a){const{x:s,y:o,width:c,height:d}=a;return{width:c,height:d,top:o,left:s,right:s+c,bottom:o+d,x:s,y:o}}function computeCoordsFromPlacement(a,s,o){let{reference:c,floating:d}=a;const h=getSideAxis(s),g=getAlignmentAxis(s),b=getAxisLength(g),_=getSide(s),$=h==="y",_e=c.x+c.width/2-d.width/2,tt=c.y+c.height/2-d.height/2,et=c[b]/2-d[b]/2;let nt;switch(_){case"top":nt={x:_e,y:c.y-d.height};break;case"bottom":nt={x:_e,y:c.y+c.height};break;case"right":nt={x:c.x+c.width,y:tt};break;case"left":nt={x:c.x-d.width,y:tt};break;default:nt={x:c.x,y:c.y}}switch(getAlignment(s)){case"start":nt[g]-=et*(o&&$?-1:1);break;case"end":nt[g]+=et*(o&&$?-1:1);break}return nt}const computePosition$1=async(a,s,o)=>{const{placement:c="bottom",strategy:d="absolute",middleware:h=[],platform:g}=o,b=h.filter(Boolean),_=await(g.isRTL==null?void 0:g.isRTL(s));let $=await g.getElementRects({reference:a,floating:s,strategy:d}),{x:_e,y:tt}=computeCoordsFromPlacement($,c,_),et=c,nt={},ot=0;for(let st=0;st<b.length;st++){const{name:pt,fn:at}=b[st],{x:ht,y:lt,data:yt,reset:bt}=await at({x:_e,y:tt,initialPlacement:c,placement:et,strategy:d,middlewareData:nt,rects:$,platform:g,elements:{reference:a,floating:s}});_e=ht??_e,tt=lt??tt,nt={...nt,[pt]:{...nt[pt],...yt}},bt&&ot<=50&&(ot++,typeof bt=="object"&&(bt.placement&&(et=bt.placement),bt.rects&&($=bt.rects===!0?await g.getElementRects({reference:a,floating:s,strategy:d}):bt.rects),{x:_e,y:tt}=computeCoordsFromPlacement($,et,_)),st=-1)}return{x:_e,y:tt,placement:et,strategy:d,middlewareData:nt}};async function detectOverflow(a,s){var o;s===void 0&&(s={});const{x:c,y:d,platform:h,rects:g,elements:b,strategy:_}=a,{boundary:$="clippingAncestors",rootBoundary:_e="viewport",elementContext:tt="floating",altBoundary:et=!1,padding:nt=0}=evaluate(s,a),ot=getPaddingObject(nt),pt=b[et?tt==="floating"?"reference":"floating":tt],at=rectToClientRect(await h.getClippingRect({element:(o=await(h.isElement==null?void 0:h.isElement(pt)))==null||o?pt:pt.contextElement||await(h.getDocumentElement==null?void 0:h.getDocumentElement(b.floating)),boundary:$,rootBoundary:_e,strategy:_})),ht=tt==="floating"?{x:c,y:d,width:g.floating.width,height:g.floating.height}:g.reference,lt=await(h.getOffsetParent==null?void 0:h.getOffsetParent(b.floating)),yt=await(h.isElement==null?void 0:h.isElement(lt))?await(h.getScale==null?void 0:h.getScale(lt))||{x:1,y:1}:{x:1,y:1},bt=rectToClientRect(h.convertOffsetParentRelativeRectToViewportRelativeRect?await h.convertOffsetParentRelativeRectToViewportRelativeRect({elements:b,rect:ht,offsetParent:lt,strategy:_}):ht);return{top:(at.top-bt.top+ot.top)/yt.y,bottom:(bt.bottom-at.bottom+ot.bottom)/yt.y,left:(at.left-bt.left+ot.left)/yt.x,right:(bt.right-at.right+ot.right)/yt.x}}const arrow$3=a=>({name:"arrow",options:a,async fn(s){const{x:o,y:c,placement:d,rects:h,platform:g,elements:b,middlewareData:_}=s,{element:$,padding:_e=0}=evaluate(a,s)||{};if($==null)return{};const tt=getPaddingObject(_e),et={x:o,y:c},nt=getAlignmentAxis(d),ot=getAxisLength(nt),st=await g.getDimensions($),pt=nt==="y",at=pt?"top":"left",ht=pt?"bottom":"right",lt=pt?"clientHeight":"clientWidth",yt=h.reference[ot]+h.reference[nt]-et[nt]-h.floating[ot],bt=et[nt]-h.reference[nt],gt=await(g.getOffsetParent==null?void 0:g.getOffsetParent($));let dt=gt?gt[lt]:0;(!dt||!await(g.isElement==null?void 0:g.isElement(gt)))&&(dt=b.floating[lt]||h.floating[ot]);const vt=yt/2-bt/2,kt=dt/2-st[ot]/2-1,jt=min(tt[at],kt),Lt=min(tt[ht],kt),Mt=jt,Pt=dt-st[ot]-Lt,Yt=dt/2-st[ot]/2+vt,ir=clamp(Mt,Yt,Pt),rr=!_.arrow&&getAlignment(d)!=null&&Yt!==ir&&h.reference[ot]/2-(Yt<Mt?jt:Lt)-st[ot]/2<0,dr=rr?Yt<Mt?Yt-Mt:Yt-Pt:0;return{[nt]:et[nt]+dr,data:{[nt]:ir,centerOffset:Yt-ir-dr,...rr&&{alignmentOffset:dr}},reset:rr}}}),flip$2=function(a){return a===void 0&&(a={}),{name:"flip",options:a,async fn(s){var o,c;const{placement:d,middlewareData:h,rects:g,initialPlacement:b,platform:_,elements:$}=s,{mainAxis:_e=!0,crossAxis:tt=!0,fallbackPlacements:et,fallbackStrategy:nt="bestFit",fallbackAxisSideDirection:ot="none",flipAlignment:st=!0,...pt}=evaluate(a,s);if((o=h.arrow)!=null&&o.alignmentOffset)return{};const at=getSide(d),ht=getSideAxis(b),lt=getSide(b)===b,yt=await(_.isRTL==null?void 0:_.isRTL($.floating)),bt=et||(lt||!st?[getOppositePlacement(b)]:getExpandedPlacements(b)),gt=ot!=="none";!et&&gt&&bt.push(...getOppositeAxisPlacements(b,st,ot,yt));const dt=[b,...bt],vt=await detectOverflow(s,pt),kt=[];let jt=((c=h.flip)==null?void 0:c.overflows)||[];if(_e&&kt.push(vt[at]),tt){const Yt=getAlignmentSides(d,g,yt);kt.push(vt[Yt[0]],vt[Yt[1]])}if(jt=[...jt,{placement:d,overflows:kt}],!kt.every(Yt=>Yt<=0)){var Lt,Mt;const Yt=(((Lt=h.flip)==null?void 0:Lt.index)||0)+1,ir=dt[Yt];if(ir)return{data:{index:Yt,overflows:jt},reset:{placement:ir}};let rr=(Mt=jt.filter(dr=>dr.overflows[0]<=0).sort((dr,Rt)=>dr.overflows[1]-Rt.overflows[1])[0])==null?void 0:Mt.placement;if(!rr)switch(nt){case"bestFit":{var Pt;const dr=(Pt=jt.filter(Rt=>{if(gt){const er=getSideAxis(Rt.placement);return er===ht||er==="y"}return!0}).map(Rt=>[Rt.placement,Rt.overflows.filter(er=>er>0).reduce((er,sr)=>er+sr,0)]).sort((Rt,er)=>Rt[1]-er[1])[0])==null?void 0:Pt[0];dr&&(rr=dr);break}case"initialPlacement":rr=b;break}if(d!==rr)return{reset:{placement:rr}}}return{}}}};function getSideOffsets(a,s){return{top:a.top-s.height,right:a.right-s.width,bottom:a.bottom-s.height,left:a.left-s.width}}function isAnySideFullyClipped(a){return sides.some(s=>a[s]>=0)}const hide$2=function(a){return a===void 0&&(a={}),{name:"hide",options:a,async fn(s){const{rects:o}=s,{strategy:c="referenceHidden",...d}=evaluate(a,s);switch(c){case"referenceHidden":{const h=await detectOverflow(s,{...d,elementContext:"reference"}),g=getSideOffsets(h,o.reference);return{data:{referenceHiddenOffsets:g,referenceHidden:isAnySideFullyClipped(g)}}}case"escaped":{const h=await detectOverflow(s,{...d,altBoundary:!0}),g=getSideOffsets(h,o.floating);return{data:{escapedOffsets:g,escaped:isAnySideFullyClipped(g)}}}default:return{}}}}};async function convertValueToCoords(a,s){const{placement:o,platform:c,elements:d}=a,h=await(c.isRTL==null?void 0:c.isRTL(d.floating)),g=getSide(o),b=getAlignment(o),_=getSideAxis(o)==="y",$=["left","top"].includes(g)?-1:1,_e=h&&_?-1:1,tt=evaluate(s,a);let{mainAxis:et,crossAxis:nt,alignmentAxis:ot}=typeof tt=="number"?{mainAxis:tt,crossAxis:0,alignmentAxis:null}:{mainAxis:tt.mainAxis||0,crossAxis:tt.crossAxis||0,alignmentAxis:tt.alignmentAxis};return b&&typeof ot=="number"&&(nt=b==="end"?ot*-1:ot),_?{x:nt*_e,y:et*$}:{x:et*$,y:nt*_e}}const offset$2=function(a){return a===void 0&&(a=0),{name:"offset",options:a,async fn(s){var o,c;const{x:d,y:h,placement:g,middlewareData:b}=s,_=await convertValueToCoords(s,a);return g===((o=b.offset)==null?void 0:o.placement)&&(c=b.arrow)!=null&&c.alignmentOffset?{}:{x:d+_.x,y:h+_.y,data:{..._,placement:g}}}}},shift$2=function(a){return a===void 0&&(a={}),{name:"shift",options:a,async fn(s){const{x:o,y:c,placement:d}=s,{mainAxis:h=!0,crossAxis:g=!1,limiter:b={fn:pt=>{let{x:at,y:ht}=pt;return{x:at,y:ht}}},..._}=evaluate(a,s),$={x:o,y:c},_e=await detectOverflow(s,_),tt=getSideAxis(getSide(d)),et=getOppositeAxis(tt);let nt=$[et],ot=$[tt];if(h){const pt=et==="y"?"top":"left",at=et==="y"?"bottom":"right",ht=nt+_e[pt],lt=nt-_e[at];nt=clamp(ht,nt,lt)}if(g){const pt=tt==="y"?"top":"left",at=tt==="y"?"bottom":"right",ht=ot+_e[pt],lt=ot-_e[at];ot=clamp(ht,ot,lt)}const st=b.fn({...s,[et]:nt,[tt]:ot});return{...st,data:{x:st.x-o,y:st.y-c,enabled:{[et]:h,[tt]:g}}}}}},limitShift$2=function(a){return a===void 0&&(a={}),{options:a,fn(s){const{x:o,y:c,placement:d,rects:h,middlewareData:g}=s,{offset:b=0,mainAxis:_=!0,crossAxis:$=!0}=evaluate(a,s),_e={x:o,y:c},tt=getSideAxis(d),et=getOppositeAxis(tt);let nt=_e[et],ot=_e[tt];const st=evaluate(b,s),pt=typeof st=="number"?{mainAxis:st,crossAxis:0}:{mainAxis:0,crossAxis:0,...st};if(_){const lt=et==="y"?"height":"width",yt=h.reference[et]-h.floating[lt]+pt.mainAxis,bt=h.reference[et]+h.reference[lt]-pt.mainAxis;nt<yt?nt=yt:nt>bt&&(nt=bt)}if($){var at,ht;const lt=et==="y"?"width":"height",yt=["top","left"].includes(getSide(d)),bt=h.reference[tt]-h.floating[lt]+(yt&&((at=g.offset)==null?void 0:at[tt])||0)+(yt?0:pt.crossAxis),gt=h.reference[tt]+h.reference[lt]+(yt?0:((ht=g.offset)==null?void 0:ht[tt])||0)-(yt?pt.crossAxis:0);ot<bt?ot=bt:ot>gt&&(ot=gt)}return{[et]:nt,[tt]:ot}}}},size$2=function(a){return a===void 0&&(a={}),{name:"size",options:a,async fn(s){var o,c;const{placement:d,rects:h,platform:g,elements:b}=s,{apply:_=()=>{},...$}=evaluate(a,s),_e=await detectOverflow(s,$),tt=getSide(d),et=getAlignment(d),nt=getSideAxis(d)==="y",{width:ot,height:st}=h.floating;let pt,at;tt==="top"||tt==="bottom"?(pt=tt,at=et===(await(g.isRTL==null?void 0:g.isRTL(b.floating))?"start":"end")?"left":"right"):(at=tt,pt=et==="end"?"top":"bottom");const ht=st-_e.top-_e.bottom,lt=ot-_e.left-_e.right,yt=min(st-_e[pt],ht),bt=min(ot-_e[at],lt),gt=!s.middlewareData.shift;let dt=yt,vt=bt;if((o=s.middlewareData.shift)!=null&&o.enabled.x&&(vt=lt),(c=s.middlewareData.shift)!=null&&c.enabled.y&&(dt=ht),gt&&!et){const jt=max(_e.left,0),Lt=max(_e.right,0),Mt=max(_e.top,0),Pt=max(_e.bottom,0);nt?vt=ot-2*(jt!==0||Lt!==0?jt+Lt:max(_e.left,_e.right)):dt=st-2*(Mt!==0||Pt!==0?Mt+Pt:max(_e.top,_e.bottom))}await _({...s,availableWidth:vt,availableHeight:dt});const kt=await g.getDimensions(b.floating);return ot!==kt.width||st!==kt.height?{reset:{rects:!0}}:{}}}};function hasWindow(){return typeof window<"u"}function getNodeName(a){return isNode(a)?(a.nodeName||"").toLowerCase():"#document"}function getWindow(a){var s;return(a==null||(s=a.ownerDocument)==null?void 0:s.defaultView)||window}function getDocumentElement(a){var s;return(s=(isNode(a)?a.ownerDocument:a.document)||window.document)==null?void 0:s.documentElement}function isNode(a){return hasWindow()?a instanceof Node||a instanceof getWindow(a).Node:!1}function isElement(a){return hasWindow()?a instanceof Element||a instanceof getWindow(a).Element:!1}function isHTMLElement(a){return hasWindow()?a instanceof HTMLElement||a instanceof getWindow(a).HTMLElement:!1}function isShadowRoot(a){return!hasWindow()||typeof ShadowRoot>"u"?!1:a instanceof ShadowRoot||a instanceof getWindow(a).ShadowRoot}function isOverflowElement(a){const{overflow:s,overflowX:o,overflowY:c,display:d}=getComputedStyle$1(a);return/auto|scroll|overlay|hidden|clip/.test(s+c+o)&&!["inline","contents"].includes(d)}function isTableElement(a){return["table","td","th"].includes(getNodeName(a))}function isTopLayer(a){return[":popover-open",":modal"].some(s=>{try{return a.matches(s)}catch{return!1}})}function isContainingBlock(a){const s=isWebKit(),o=isElement(a)?getComputedStyle$1(a):a;return o.transform!=="none"||o.perspective!=="none"||(o.containerType?o.containerType!=="normal":!1)||!s&&(o.backdropFilter?o.backdropFilter!=="none":!1)||!s&&(o.filter?o.filter!=="none":!1)||["transform","perspective","filter"].some(c=>(o.willChange||"").includes(c))||["paint","layout","strict","content"].some(c=>(o.contain||"").includes(c))}function getContainingBlock(a){let s=getParentNode(a);for(;isHTMLElement(s)&&!isLastTraversableNode(s);){if(isContainingBlock(s))return s;if(isTopLayer(s))return null;s=getParentNode(s)}return null}function isWebKit(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function isLastTraversableNode(a){return["html","body","#document"].includes(getNodeName(a))}function getComputedStyle$1(a){return getWindow(a).getComputedStyle(a)}function getNodeScroll(a){return isElement(a)?{scrollLeft:a.scrollLeft,scrollTop:a.scrollTop}:{scrollLeft:a.scrollX,scrollTop:a.scrollY}}function getParentNode(a){if(getNodeName(a)==="html")return a;const s=a.assignedSlot||a.parentNode||isShadowRoot(a)&&a.host||getDocumentElement(a);return isShadowRoot(s)?s.host:s}function getNearestOverflowAncestor(a){const s=getParentNode(a);return isLastTraversableNode(s)?a.ownerDocument?a.ownerDocument.body:a.body:isHTMLElement(s)&&isOverflowElement(s)?s:getNearestOverflowAncestor(s)}function getOverflowAncestors(a,s,o){var c;s===void 0&&(s=[]),o===void 0&&(o=!0);const d=getNearestOverflowAncestor(a),h=d===((c=a.ownerDocument)==null?void 0:c.body),g=getWindow(d);if(h){const b=getFrameElement(g);return s.concat(g,g.visualViewport||[],isOverflowElement(d)?d:[],b&&o?getOverflowAncestors(b):[])}return s.concat(d,getOverflowAncestors(d,[],o))}function getFrameElement(a){return a.parent&&Object.getPrototypeOf(a.parent)?a.frameElement:null}function getCssDimensions(a){const s=getComputedStyle$1(a);let o=parseFloat(s.width)||0,c=parseFloat(s.height)||0;const d=isHTMLElement(a),h=d?a.offsetWidth:o,g=d?a.offsetHeight:c,b=round(o)!==h||round(c)!==g;return b&&(o=h,c=g),{width:o,height:c,$:b}}function unwrapElement(a){return isElement(a)?a:a.contextElement}function getScale(a){const s=unwrapElement(a);if(!isHTMLElement(s))return createCoords(1);const o=s.getBoundingClientRect(),{width:c,height:d,$:h}=getCssDimensions(s);let g=(h?round(o.width):o.width)/c,b=(h?round(o.height):o.height)/d;return(!g||!Number.isFinite(g))&&(g=1),(!b||!Number.isFinite(b))&&(b=1),{x:g,y:b}}const noOffsets=createCoords(0);function getVisualOffsets(a){const s=getWindow(a);return!isWebKit()||!s.visualViewport?noOffsets:{x:s.visualViewport.offsetLeft,y:s.visualViewport.offsetTop}}function shouldAddVisualOffsets(a,s,o){return s===void 0&&(s=!1),!o||s&&o!==getWindow(a)?!1:s}function getBoundingClientRect(a,s,o,c){s===void 0&&(s=!1),o===void 0&&(o=!1);const d=a.getBoundingClientRect(),h=unwrapElement(a);let g=createCoords(1);s&&(c?isElement(c)&&(g=getScale(c)):g=getScale(a));const b=shouldAddVisualOffsets(h,o,c)?getVisualOffsets(h):createCoords(0);let _=(d.left+b.x)/g.x,$=(d.top+b.y)/g.y,_e=d.width/g.x,tt=d.height/g.y;if(h){const et=getWindow(h),nt=c&&isElement(c)?getWindow(c):c;let ot=et,st=getFrameElement(ot);for(;st&&c&&nt!==ot;){const pt=getScale(st),at=st.getBoundingClientRect(),ht=getComputedStyle$1(st),lt=at.left+(st.clientLeft+parseFloat(ht.paddingLeft))*pt.x,yt=at.top+(st.clientTop+parseFloat(ht.paddingTop))*pt.y;_*=pt.x,$*=pt.y,_e*=pt.x,tt*=pt.y,_+=lt,$+=yt,ot=getWindow(st),st=getFrameElement(ot)}}return rectToClientRect({width:_e,height:tt,x:_,y:$})}function convertOffsetParentRelativeRectToViewportRelativeRect(a){let{elements:s,rect:o,offsetParent:c,strategy:d}=a;const h=d==="fixed",g=getDocumentElement(c),b=s?isTopLayer(s.floating):!1;if(c===g||b&&h)return o;let _={scrollLeft:0,scrollTop:0},$=createCoords(1);const _e=createCoords(0),tt=isHTMLElement(c);if((tt||!tt&&!h)&&((getNodeName(c)!=="body"||isOverflowElement(g))&&(_=getNodeScroll(c)),isHTMLElement(c))){const et=getBoundingClientRect(c);$=getScale(c),_e.x=et.x+c.clientLeft,_e.y=et.y+c.clientTop}return{width:o.width*$.x,height:o.height*$.y,x:o.x*$.x-_.scrollLeft*$.x+_e.x,y:o.y*$.y-_.scrollTop*$.y+_e.y}}function getClientRects(a){return Array.from(a.getClientRects())}function getWindowScrollBarX(a,s){const o=getNodeScroll(a).scrollLeft;return s?s.left+o:getBoundingClientRect(getDocumentElement(a)).left+o}function getDocumentRect(a){const s=getDocumentElement(a),o=getNodeScroll(a),c=a.ownerDocument.body,d=max(s.scrollWidth,s.clientWidth,c.scrollWidth,c.clientWidth),h=max(s.scrollHeight,s.clientHeight,c.scrollHeight,c.clientHeight);let g=-o.scrollLeft+getWindowScrollBarX(a);const b=-o.scrollTop;return getComputedStyle$1(c).direction==="rtl"&&(g+=max(s.clientWidth,c.clientWidth)-d),{width:d,height:h,x:g,y:b}}function getViewportRect(a,s){const o=getWindow(a),c=getDocumentElement(a),d=o.visualViewport;let h=c.clientWidth,g=c.clientHeight,b=0,_=0;if(d){h=d.width,g=d.height;const $=isWebKit();(!$||$&&s==="fixed")&&(b=d.offsetLeft,_=d.offsetTop)}return{width:h,height:g,x:b,y:_}}function getInnerBoundingClientRect(a,s){const o=getBoundingClientRect(a,!0,s==="fixed"),c=o.top+a.clientTop,d=o.left+a.clientLeft,h=isHTMLElement(a)?getScale(a):createCoords(1),g=a.clientWidth*h.x,b=a.clientHeight*h.y,_=d*h.x,$=c*h.y;return{width:g,height:b,x:_,y:$}}function getClientRectFromClippingAncestor(a,s,o){let c;if(s==="viewport")c=getViewportRect(a,o);else if(s==="document")c=getDocumentRect(getDocumentElement(a));else if(isElement(s))c=getInnerBoundingClientRect(s,o);else{const d=getVisualOffsets(a);c={...s,x:s.x-d.x,y:s.y-d.y}}return rectToClientRect(c)}function hasFixedPositionAncestor(a,s){const o=getParentNode(a);return o===s||!isElement(o)||isLastTraversableNode(o)?!1:getComputedStyle$1(o).position==="fixed"||hasFixedPositionAncestor(o,s)}function getClippingElementAncestors(a,s){const o=s.get(a);if(o)return o;let c=getOverflowAncestors(a,[],!1).filter(b=>isElement(b)&&getNodeName(b)!=="body"),d=null;const h=getComputedStyle$1(a).position==="fixed";let g=h?getParentNode(a):a;for(;isElement(g)&&!isLastTraversableNode(g);){const b=getComputedStyle$1(g),_=isContainingBlock(g);!_&&b.position==="fixed"&&(d=null),(h?!_&&!d:!_&&b.position==="static"&&!!d&&["absolute","fixed"].includes(d.position)||isOverflowElement(g)&&!_&&hasFixedPositionAncestor(a,g))?c=c.filter(_e=>_e!==g):d=b,g=getParentNode(g)}return s.set(a,c),c}function getClippingRect(a){let{element:s,boundary:o,rootBoundary:c,strategy:d}=a;const g=[...o==="clippingAncestors"?isTopLayer(s)?[]:getClippingElementAncestors(s,this._c):[].concat(o),c],b=g[0],_=g.reduce(($,_e)=>{const tt=getClientRectFromClippingAncestor(s,_e,d);return $.top=max(tt.top,$.top),$.right=min(tt.right,$.right),$.bottom=min(tt.bottom,$.bottom),$.left=max(tt.left,$.left),$},getClientRectFromClippingAncestor(s,b,d));return{width:_.right-_.left,height:_.bottom-_.top,x:_.left,y:_.top}}function getDimensions(a){const{width:s,height:o}=getCssDimensions(a);return{width:s,height:o}}function getRectRelativeToOffsetParent(a,s,o){const c=isHTMLElement(s),d=getDocumentElement(s),h=o==="fixed",g=getBoundingClientRect(a,!0,h,s);let b={scrollLeft:0,scrollTop:0};const _=createCoords(0);if(c||!c&&!h)if((getNodeName(s)!=="body"||isOverflowElement(d))&&(b=getNodeScroll(s)),c){const nt=getBoundingClientRect(s,!0,h,s);_.x=nt.x+s.clientLeft,_.y=nt.y+s.clientTop}else d&&(_.x=getWindowScrollBarX(d));let $=0,_e=0;if(d&&!c&&!h){const nt=d.getBoundingClientRect();_e=nt.top+b.scrollTop,$=nt.left+b.scrollLeft-getWindowScrollBarX(d,nt)}const tt=g.left+b.scrollLeft-_.x-$,et=g.top+b.scrollTop-_.y-_e;return{x:tt,y:et,width:g.width,height:g.height}}function isStaticPositioned(a){return getComputedStyle$1(a).position==="static"}function getTrueOffsetParent(a,s){if(!isHTMLElement(a)||getComputedStyle$1(a).position==="fixed")return null;if(s)return s(a);let o=a.offsetParent;return getDocumentElement(a)===o&&(o=o.ownerDocument.body),o}function getOffsetParent(a,s){const o=getWindow(a);if(isTopLayer(a))return o;if(!isHTMLElement(a)){let d=getParentNode(a);for(;d&&!isLastTraversableNode(d);){if(isElement(d)&&!isStaticPositioned(d))return d;d=getParentNode(d)}return o}let c=getTrueOffsetParent(a,s);for(;c&&isTableElement(c)&&isStaticPositioned(c);)c=getTrueOffsetParent(c,s);return c&&isLastTraversableNode(c)&&isStaticPositioned(c)&&!isContainingBlock(c)?o:c||getContainingBlock(a)||o}const getElementRects=async function(a){const s=this.getOffsetParent||getOffsetParent,o=this.getDimensions,c=await o(a.floating);return{reference:getRectRelativeToOffsetParent(a.reference,await s(a.floating),a.strategy),floating:{x:0,y:0,width:c.width,height:c.height}}};function isRTL(a){return getComputedStyle$1(a).direction==="rtl"}const platform={convertOffsetParentRelativeRectToViewportRelativeRect,getDocumentElement,getClippingRect,getOffsetParent,getElementRects,getClientRects,getDimensions,getScale,isElement,isRTL};function observeMove(a,s){let o=null,c;const d=getDocumentElement(a);function h(){var b;clearTimeout(c),(b=o)==null||b.disconnect(),o=null}function g(b,_){b===void 0&&(b=!1),_===void 0&&(_=1),h();const{left:$,top:_e,width:tt,height:et}=a.getBoundingClientRect();if(b||s(),!tt||!et)return;const nt=floor(_e),ot=floor(d.clientWidth-($+tt)),st=floor(d.clientHeight-(_e+et)),pt=floor($),ht={rootMargin:-nt+"px "+-ot+"px "+-st+"px "+-pt+"px",threshold:max(0,min(1,_))||1};let lt=!0;function yt(bt){const gt=bt[0].intersectionRatio;if(gt!==_){if(!lt)return g();gt?g(!1,gt):c=setTimeout(()=>{g(!1,1e-7)},1e3)}lt=!1}try{o=new IntersectionObserver(yt,{...ht,root:d.ownerDocument})}catch{o=new IntersectionObserver(yt,ht)}o.observe(a)}return g(!0),h}function autoUpdate(a,s,o,c){c===void 0&&(c={});const{ancestorScroll:d=!0,ancestorResize:h=!0,elementResize:g=typeof ResizeObserver=="function",layoutShift:b=typeof IntersectionObserver=="function",animationFrame:_=!1}=c,$=unwrapElement(a),_e=d||h?[...$?getOverflowAncestors($):[],...getOverflowAncestors(s)]:[];_e.forEach(at=>{d&&at.addEventListener("scroll",o,{passive:!0}),h&&at.addEventListener("resize",o)});const tt=$&&b?observeMove($,o):null;let et=-1,nt=null;g&&(nt=new ResizeObserver(at=>{let[ht]=at;ht&&ht.target===$&&nt&&(nt.unobserve(s),cancelAnimationFrame(et),et=requestAnimationFrame(()=>{var lt;(lt=nt)==null||lt.observe(s)})),o()}),$&&!_&&nt.observe($),nt.observe(s));let ot,st=_?getBoundingClientRect(a):null;_&&pt();function pt(){const at=getBoundingClientRect(a);st&&(at.x!==st.x||at.y!==st.y||at.width!==st.width||at.height!==st.height)&&o(),st=at,ot=requestAnimationFrame(pt)}return o(),()=>{var at;_e.forEach(ht=>{d&&ht.removeEventListener("scroll",o),h&&ht.removeEventListener("resize",o)}),tt==null||tt(),(at=nt)==null||at.disconnect(),nt=null,_&&cancelAnimationFrame(ot)}}const offset$1=offset$2,shift$1=shift$2,flip$1=flip$2,size$1=size$2,hide$1=hide$2,arrow$2=arrow$3,limitShift$1=limitShift$2,computePosition=(a,s,o)=>{const c=new Map,d={platform,...o},h={...d.platform,_c:c};return computePosition$1(a,s,{...d,platform:h})};var index=typeof document<"u"?reactExports.useLayoutEffect:reactExports.useEffect;function deepEqual(a,s){if(a===s)return!0;if(typeof a!=typeof s)return!1;if(typeof a=="function"&&a.toString()===s.toString())return!0;let o,c,d;if(a&&s&&typeof a=="object"){if(Array.isArray(a)){if(o=a.length,o!==s.length)return!1;for(c=o;c--!==0;)if(!deepEqual(a[c],s[c]))return!1;return!0}if(d=Object.keys(a),o=d.length,o!==Object.keys(s).length)return!1;for(c=o;c--!==0;)if(!{}.hasOwnProperty.call(s,d[c]))return!1;for(c=o;c--!==0;){const h=d[c];if(!(h==="_owner"&&a.$$typeof)&&!deepEqual(a[h],s[h]))return!1}return!0}return a!==a&&s!==s}function getDPR(a){return typeof window>"u"?1:(a.ownerDocument.defaultView||window).devicePixelRatio||1}function roundByDPR(a,s){const o=getDPR(a);return Math.round(s*o)/o}function useLatestRef(a){const s=reactExports.useRef(a);return index(()=>{s.current=a}),s}function useFloating(a){a===void 0&&(a={});const{placement:s="bottom",strategy:o="absolute",middleware:c=[],platform:d,elements:{reference:h,floating:g}={},transform:b=!0,whileElementsMounted:_,open:$}=a,[_e,tt]=reactExports.useState({x:0,y:0,strategy:o,placement:s,middlewareData:{},isPositioned:!1}),[et,nt]=reactExports.useState(c);deepEqual(et,c)||nt(c);const[ot,st]=reactExports.useState(null),[pt,at]=reactExports.useState(null),ht=reactExports.useCallback(Rt=>{Rt!==gt.current&&(gt.current=Rt,st(Rt))},[]),lt=reactExports.useCallback(Rt=>{Rt!==dt.current&&(dt.current=Rt,at(Rt))},[]),yt=h||ot,bt=g||pt,gt=reactExports.useRef(null),dt=reactExports.useRef(null),vt=reactExports.useRef(_e),kt=_!=null,jt=useLatestRef(_),Lt=useLatestRef(d),Mt=useLatestRef($),Pt=reactExports.useCallback(()=>{if(!gt.current||!dt.current)return;const Rt={placement:s,strategy:o,middleware:et};Lt.current&&(Rt.platform=Lt.current),computePosition(gt.current,dt.current,Rt).then(er=>{const sr={...er,isPositioned:Mt.current!==!1};Yt.current&&!deepEqual(vt.current,sr)&&(vt.current=sr,reactDomExports.flushSync(()=>{tt(sr)}))})},[et,s,o,Lt,Mt]);index(()=>{$===!1&&vt.current.isPositioned&&(vt.current.isPositioned=!1,tt(Rt=>({...Rt,isPositioned:!1})))},[$]);const Yt=reactExports.useRef(!1);index(()=>(Yt.current=!0,()=>{Yt.current=!1}),[]),index(()=>{if(yt&&(gt.current=yt),bt&&(dt.current=bt),yt&&bt){if(jt.current)return jt.current(yt,bt,Pt);Pt()}},[yt,bt,Pt,jt,kt]);const ir=reactExports.useMemo(()=>({reference:gt,floating:dt,setReference:ht,setFloating:lt}),[ht,lt]),rr=reactExports.useMemo(()=>({reference:yt,floating:bt}),[yt,bt]),dr=reactExports.useMemo(()=>{const Rt={position:o,left:0,top:0};if(!rr.floating)return Rt;const er=roundByDPR(rr.floating,_e.x),sr=roundByDPR(rr.floating,_e.y);return b?{...Rt,transform:"translate("+er+"px, "+sr+"px)",...getDPR(rr.floating)>=1.5&&{willChange:"transform"}}:{position:o,left:er,top:sr}},[o,b,rr.floating,_e.x,_e.y]);return reactExports.useMemo(()=>({..._e,update:Pt,refs:ir,elements:rr,floatingStyles:dr}),[_e,Pt,ir,rr,dr])}const arrow$1=a=>{function s(o){return{}.hasOwnProperty.call(o,"current")}return{name:"arrow",options:a,fn(o){const{element:c,padding:d}=typeof a=="function"?a(o):a;return c&&s(c)?c.current!=null?arrow$2({element:c.current,padding:d}).fn(o):{}:c?arrow$2({element:c,padding:d}).fn(o):{}}}},offset=(a,s)=>({...offset$1(a),options:[a,s]}),shift=(a,s)=>({...shift$1(a),options:[a,s]}),limitShift=(a,s)=>({...limitShift$1(a),options:[a,s]}),flip=(a,s)=>({...flip$1(a),options:[a,s]}),size=(a,s)=>({...size$1(a),options:[a,s]}),hide=(a,s)=>({...hide$1(a),options:[a,s]}),arrow=(a,s)=>({...arrow$1(a),options:[a,s]});var NAME="Arrow",Arrow$1=reactExports.forwardRef((a,s)=>{const{children:o,width:c=10,height:d=5,...h}=a;return jsxRuntimeExports.jsx(Primitive.svg,{...h,ref:s,width:c,height:d,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:a.asChild?o:jsxRuntimeExports.jsx("polygon",{points:"0,0 30,0 15,10"})})});Arrow$1.displayName=NAME;var Root=Arrow$1;function createContextScope(a,s=[]){let o=[];function c(h,g){const b=reactExports.createContext(g),_=o.length;o=[...o,g];function $(tt){const{scope:et,children:nt,...ot}=tt,st=(et==null?void 0:et[a][_])||b,pt=reactExports.useMemo(()=>ot,Object.values(ot));return jsxRuntimeExports.jsx(st.Provider,{value:pt,children:nt})}function _e(tt,et){const nt=(et==null?void 0:et[a][_])||b,ot=reactExports.useContext(nt);if(ot)return ot;if(g!==void 0)return g;throw new Error(`\`${tt}\` must be used within \`${h}\``)}return $.displayName=h+"Provider",[$,_e]}const d=()=>{const h=o.map(g=>reactExports.createContext(g));return function(b){const _=(b==null?void 0:b[a])||h;return reactExports.useMemo(()=>({[`__scope${a}`]:{...b,[a]:_}}),[b,_])}};return d.scopeName=a,[c,composeContextScopes(d,...s)]}function composeContextScopes(...a){const s=a[0];if(a.length===1)return s;const o=()=>{const c=a.map(d=>({useScope:d(),scopeName:d.scopeName}));return function(h){const g=c.reduce((b,{useScope:_,scopeName:$})=>{const tt=_(h)[`__scope${$}`];return{...b,...tt}},{});return reactExports.useMemo(()=>({[`__scope${s.scopeName}`]:g}),[g])}};return o.scopeName=s.scopeName,o}function useSize(a){const[s,o]=reactExports.useState(void 0);return useLayoutEffect2(()=>{if(a){o({width:a.offsetWidth,height:a.offsetHeight});const c=new ResizeObserver(d=>{if(!Array.isArray(d)||!d.length)return;const h=d[0];let g,b;if("borderBoxSize"in h){const _=h.borderBoxSize,$=Array.isArray(_)?_[0]:_;g=$.inlineSize,b=$.blockSize}else g=a.offsetWidth,b=a.offsetHeight;o({width:g,height:b})});return c.observe(a,{box:"border-box"}),()=>c.unobserve(a)}else o(void 0)},[a]),s}var POPPER_NAME="Popper",[createPopperContext,createPopperScope]=createContextScope(POPPER_NAME),[PopperProvider,usePopperContext]=createPopperContext(POPPER_NAME),ANCHOR_NAME="PopperAnchor",PopperAnchor=reactExports.forwardRef((a,s)=>{const{__scopePopper:o,virtualRef:c,...d}=a,h=usePopperContext(ANCHOR_NAME,o),g=reactExports.useRef(null),b=useComposedRefs(s,g);return reactExports.useEffect(()=>{h.onAnchorChange((c==null?void 0:c.current)||g.current)}),c?null:jsxRuntimeExports.jsx(Primitive.div,{...d,ref:b})});PopperAnchor.displayName=ANCHOR_NAME;var CONTENT_NAME$1="PopperContent",[PopperContentProvider,useContentContext]=createPopperContext(CONTENT_NAME$1),PopperContent=reactExports.forwardRef((a,s)=>{var Pr,Cr,$r,Br,Hr,Or;const{__scopePopper:o,side:c="bottom",sideOffset:d=0,align:h="center",alignOffset:g=0,arrowPadding:b=0,avoidCollisions:_=!0,collisionBoundary:$=[],collisionPadding:_e=0,sticky:tt="partial",hideWhenDetached:et=!1,updatePositionStrategy:nt="optimized",onPlaced:ot,...st}=a,pt=usePopperContext(CONTENT_NAME$1,o),[at,ht]=reactExports.useState(null),lt=useComposedRefs(s,St=>ht(St)),[yt,bt]=reactExports.useState(null),gt=useSize(yt),dt=(gt==null?void 0:gt.width)??0,vt=(gt==null?void 0:gt.height)??0,kt=c+(h!=="center"?"-"+h:""),jt=typeof _e=="number"?_e:{top:0,right:0,bottom:0,left:0,..._e},Lt=Array.isArray($)?$:[$],Mt=Lt.length>0,Pt={padding:jt,boundary:Lt.filter(isNotNull),altBoundary:Mt},{refs:Yt,floatingStyles:ir,placement:rr,isPositioned:dr,middlewareData:Rt}=useFloating({strategy:"fixed",placement:kt,whileElementsMounted:(...St)=>autoUpdate(...St,{animationFrame:nt==="always"}),elements:{reference:pt.anchor},middleware:[offset({mainAxis:d+vt,alignmentAxis:g}),_&&shift({mainAxis:!0,crossAxis:!1,limiter:tt==="partial"?limitShift():void 0,...Pt}),_&&flip({...Pt}),size({...Pt,apply:({elements:St,rects:At,availableWidth:tr,availableHeight:ur})=>{const{width:fr,height:xr}=At.reference,gr=St.floating.style;gr.setProperty("--radix-popper-available-width",`${tr}px`),gr.setProperty("--radix-popper-available-height",`${ur}px`),gr.setProperty("--radix-popper-anchor-width",`${fr}px`),gr.setProperty("--radix-popper-anchor-height",`${xr}px`)}}),yt&&arrow({element:yt,padding:b}),transformOrigin({arrowWidth:dt,arrowHeight:vt}),et&&hide({strategy:"referenceHidden",...Pt})]}),[er,sr]=getSideAndAlignFromPlacement(rr),zt=useCallbackRef(ot);useLayoutEffect2(()=>{dr&&(zt==null||zt())},[dr,zt]);const lr=(Pr=Rt.arrow)==null?void 0:Pr.x,nr=(Cr=Rt.arrow)==null?void 0:Cr.y,mr=(($r=Rt.arrow)==null?void 0:$r.centerOffset)!==0,[Ar,wr]=reactExports.useState();return useLayoutEffect2(()=>{at&&wr(window.getComputedStyle(at).zIndex)},[at]),jsxRuntimeExports.jsx("div",{ref:Yt.setFloating,"data-radix-popper-content-wrapper":"",style:{...ir,transform:dr?ir.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ar,"--radix-popper-transform-origin":[(Br=Rt.transformOrigin)==null?void 0:Br.x,(Hr=Rt.transformOrigin)==null?void 0:Hr.y].join(" "),...((Or=Rt.hide)==null?void 0:Or.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:a.dir,children:jsxRuntimeExports.jsx(PopperContentProvider,{scope:o,placedSide:er,onArrowChange:bt,arrowX:lr,arrowY:nr,shouldHideArrow:mr,children:jsxRuntimeExports.jsx(Primitive.div,{"data-side":er,"data-align":sr,...st,ref:lt,style:{...st.style,animation:dr?void 0:"none"}})})})});PopperContent.displayName=CONTENT_NAME$1;var ARROW_NAME$1="PopperArrow",OPPOSITE_SIDE={top:"bottom",right:"left",bottom:"top",left:"right"},PopperArrow=reactExports.forwardRef(function(s,o){const{__scopePopper:c,...d}=s,h=useContentContext(ARROW_NAME$1,c),g=OPPOSITE_SIDE[h.placedSide];return jsxRuntimeExports.jsx("span",{ref:h.onArrowChange,style:{position:"absolute",left:h.arrowX,top:h.arrowY,[g]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[h.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[h.placedSide],visibility:h.shouldHideArrow?"hidden":void 0},children:jsxRuntimeExports.jsx(Root,{...d,ref:o,style:{...d.style,display:"block"}})})});PopperArrow.displayName=ARROW_NAME$1;function isNotNull(a){return a!==null}var transformOrigin=a=>({name:"transformOrigin",options:a,fn(s){var pt,at,ht;const{placement:o,rects:c,middlewareData:d}=s,g=((pt=d.arrow)==null?void 0:pt.centerOffset)!==0,b=g?0:a.arrowWidth,_=g?0:a.arrowHeight,[$,_e]=getSideAndAlignFromPlacement(o),tt={start:"0%",center:"50%",end:"100%"}[_e],et=(((at=d.arrow)==null?void 0:at.x)??0)+b/2,nt=(((ht=d.arrow)==null?void 0:ht.y)??0)+_/2;let ot="",st="";return $==="bottom"?(ot=g?tt:`${et}px`,st=`${-_}px`):$==="top"?(ot=g?tt:`${et}px`,st=`${c.floating.height+_}px`):$==="right"?(ot=`${-_}px`,st=g?tt:`${nt}px`):$==="left"&&(ot=`${c.floating.width+_}px`,st=g?tt:`${nt}px`),{data:{x:ot,y:st}}}});function getSideAndAlignFromPlacement(a){const[s,o="center"]=a.split("-");return[s,o]}var Anchor=PopperAnchor,Content=PopperContent,Arrow=PopperArrow,[createTooltipContext,createTooltipScope]=createContextScope$1("Tooltip",[createPopperScope]),usePopperScope=createPopperScope(),PROVIDER_NAME="TooltipProvider",DEFAULT_DELAY_DURATION=700,TOOLTIP_OPEN="tooltip.open",[TooltipProviderContextProvider,useTooltipProviderContext]=createTooltipContext(PROVIDER_NAME),TooltipProvider$1=a=>{const{__scopeTooltip:s,delayDuration:o=DEFAULT_DELAY_DURATION,skipDelayDuration:c=300,disableHoverableContent:d=!1,children:h}=a,[g,b]=reactExports.useState(!0),_=reactExports.useRef(!1),$=reactExports.useRef(0);return reactExports.useEffect(()=>{const _e=$.current;return()=>window.clearTimeout(_e)},[]),jsxRuntimeExports.jsx(TooltipProviderContextProvider,{scope:s,isOpenDelayed:g,delayDuration:o,onOpen:reactExports.useCallback(()=>{window.clearTimeout($.current),b(!1)},[]),onClose:reactExports.useCallback(()=>{window.clearTimeout($.current),$.current=window.setTimeout(()=>b(!0),c)},[c]),isPointerInTransitRef:_,onPointerInTransitChange:reactExports.useCallback(_e=>{_.current=_e},[]),disableHoverableContent:d,children:h})};TooltipProvider$1.displayName=PROVIDER_NAME;var TOOLTIP_NAME="Tooltip",[TooltipContextProvider,useTooltipContext]=createTooltipContext(TOOLTIP_NAME),TRIGGER_NAME="TooltipTrigger",TooltipTrigger=reactExports.forwardRef((a,s)=>{const{__scopeTooltip:o,...c}=a,d=useTooltipContext(TRIGGER_NAME,o),h=useTooltipProviderContext(TRIGGER_NAME,o),g=usePopperScope(o),b=reactExports.useRef(null),_=useComposedRefs(s,b,d.onTriggerChange),$=reactExports.useRef(!1),_e=reactExports.useRef(!1),tt=reactExports.useCallback(()=>$.current=!1,[]);return reactExports.useEffect(()=>()=>document.removeEventListener("pointerup",tt),[tt]),jsxRuntimeExports.jsx(Anchor,{asChild:!0,...g,children:jsxRuntimeExports.jsx(Primitive.button,{"aria-describedby":d.open?d.contentId:void 0,"data-state":d.stateAttribute,...c,ref:_,onPointerMove:composeEventHandlers(a.onPointerMove,et=>{et.pointerType!=="touch"&&!_e.current&&!h.isPointerInTransitRef.current&&(d.onTriggerEnter(),_e.current=!0)}),onPointerLeave:composeEventHandlers(a.onPointerLeave,()=>{d.onTriggerLeave(),_e.current=!1}),onPointerDown:composeEventHandlers(a.onPointerDown,()=>{$.current=!0,document.addEventListener("pointerup",tt,{once:!0})}),onFocus:composeEventHandlers(a.onFocus,()=>{$.current||d.onOpen()}),onBlur:composeEventHandlers(a.onBlur,d.onClose),onClick:composeEventHandlers(a.onClick,d.onClose)})})});TooltipTrigger.displayName=TRIGGER_NAME;var PORTAL_NAME="TooltipPortal",[PortalProvider,usePortalContext]=createTooltipContext(PORTAL_NAME,{forceMount:void 0}),CONTENT_NAME="TooltipContent",TooltipContent$1=reactExports.forwardRef((a,s)=>{const o=usePortalContext(CONTENT_NAME,a.__scopeTooltip),{forceMount:c=o.forceMount,side:d="top",...h}=a,g=useTooltipContext(CONTENT_NAME,a.__scopeTooltip);return jsxRuntimeExports.jsx(Presence,{present:c||g.open,children:g.disableHoverableContent?jsxRuntimeExports.jsx(TooltipContentImpl,{side:d,...h,ref:s}):jsxRuntimeExports.jsx(TooltipContentHoverable,{side:d,...h,ref:s})})}),TooltipContentHoverable=reactExports.forwardRef((a,s)=>{const o=useTooltipContext(CONTENT_NAME,a.__scopeTooltip),c=useTooltipProviderContext(CONTENT_NAME,a.__scopeTooltip),d=reactExports.useRef(null),h=useComposedRefs(s,d),[g,b]=reactExports.useState(null),{trigger:_,onClose:$}=o,_e=d.current,{onPointerInTransitChange:tt}=c,et=reactExports.useCallback(()=>{b(null),tt(!1)},[tt]),nt=reactExports.useCallback((ot,st)=>{const pt=ot.currentTarget,at={x:ot.clientX,y:ot.clientY},ht=getExitSideFromRect(at,pt.getBoundingClientRect()),lt=getPaddedExitPoints(at,ht),yt=getPointsFromRect(st.getBoundingClientRect()),bt=getHull([...lt,...yt]);b(bt),tt(!0)},[tt]);return reactExports.useEffect(()=>()=>et(),[et]),reactExports.useEffect(()=>{if(_&&_e){const ot=pt=>nt(pt,_e),st=pt=>nt(pt,_);return _.addEventListener("pointerleave",ot),_e.addEventListener("pointerleave",st),()=>{_.removeEventListener("pointerleave",ot),_e.removeEventListener("pointerleave",st)}}},[_,_e,nt,et]),reactExports.useEffect(()=>{if(g){const ot=st=>{const pt=st.target,at={x:st.clientX,y:st.clientY},ht=(_==null?void 0:_.contains(pt))||(_e==null?void 0:_e.contains(pt)),lt=!isPointInPolygon(at,g);ht?et():lt&&(et(),$())};return document.addEventListener("pointermove",ot),()=>document.removeEventListener("pointermove",ot)}},[_,_e,g,$,et]),jsxRuntimeExports.jsx(TooltipContentImpl,{...a,ref:h})}),[VisuallyHiddenContentContextProvider,useVisuallyHiddenContentContext]=createTooltipContext(TOOLTIP_NAME,{isInside:!1}),TooltipContentImpl=reactExports.forwardRef((a,s)=>{const{__scopeTooltip:o,children:c,"aria-label":d,onEscapeKeyDown:h,onPointerDownOutside:g,...b}=a,_=useTooltipContext(CONTENT_NAME,o),$=usePopperScope(o),{onClose:_e}=_;return reactExports.useEffect(()=>(document.addEventListener(TOOLTIP_OPEN,_e),()=>document.removeEventListener(TOOLTIP_OPEN,_e)),[_e]),reactExports.useEffect(()=>{if(_.trigger){const tt=et=>{const nt=et.target;nt!=null&&nt.contains(_.trigger)&&_e()};return window.addEventListener("scroll",tt,{capture:!0}),()=>window.removeEventListener("scroll",tt,{capture:!0})}},[_.trigger,_e]),jsxRuntimeExports.jsx(DismissableLayer,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:h,onPointerDownOutside:g,onFocusOutside:tt=>tt.preventDefault(),onDismiss:_e,children:jsxRuntimeExports.jsxs(Content,{"data-state":_.stateAttribute,...$,...b,ref:s,style:{...b.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[jsxRuntimeExports.jsx(Slottable,{children:c}),jsxRuntimeExports.jsx(VisuallyHiddenContentContextProvider,{scope:o,isInside:!0,children:jsxRuntimeExports.jsx(Root$1,{id:_.contentId,role:"tooltip",children:d||c})})]})})});TooltipContent$1.displayName=CONTENT_NAME;var ARROW_NAME="TooltipArrow",TooltipArrow=reactExports.forwardRef((a,s)=>{const{__scopeTooltip:o,...c}=a,d=usePopperScope(o);return useVisuallyHiddenContentContext(ARROW_NAME,o).isInside?null:jsxRuntimeExports.jsx(Arrow,{...d,...c,ref:s})});TooltipArrow.displayName=ARROW_NAME;function getExitSideFromRect(a,s){const o=Math.abs(s.top-a.y),c=Math.abs(s.bottom-a.y),d=Math.abs(s.right-a.x),h=Math.abs(s.left-a.x);switch(Math.min(o,c,d,h)){case h:return"left";case d:return"right";case o:return"top";case c:return"bottom";default:throw new Error("unreachable")}}function getPaddedExitPoints(a,s,o=5){const c=[];switch(s){case"top":c.push({x:a.x-o,y:a.y+o},{x:a.x+o,y:a.y+o});break;case"bottom":c.push({x:a.x-o,y:a.y-o},{x:a.x+o,y:a.y-o});break;case"left":c.push({x:a.x+o,y:a.y-o},{x:a.x+o,y:a.y+o});break;case"right":c.push({x:a.x-o,y:a.y-o},{x:a.x-o,y:a.y+o});break}return c}function getPointsFromRect(a){const{top:s,right:o,bottom:c,left:d}=a;return[{x:d,y:s},{x:o,y:s},{x:o,y:c},{x:d,y:c}]}function isPointInPolygon(a,s){const{x:o,y:c}=a;let d=!1;for(let h=0,g=s.length-1;h<s.length;g=h++){const b=s[h].x,_=s[h].y,$=s[g].x,_e=s[g].y;_>c!=_e>c&&o<($-b)*(c-_)/(_e-_)+b&&(d=!d)}return d}function getHull(a){const s=a.slice();return s.sort((o,c)=>o.x<c.x?-1:o.x>c.x?1:o.y<c.y?-1:o.y>c.y?1:0),getHullPresorted(s)}function getHullPresorted(a){if(a.length<=1)return a.slice();const s=[];for(let c=0;c<a.length;c++){const d=a[c];for(;s.length>=2;){const h=s[s.length-1],g=s[s.length-2];if((h.x-g.x)*(d.y-g.y)>=(h.y-g.y)*(d.x-g.x))s.pop();else break}s.push(d)}s.pop();const o=[];for(let c=a.length-1;c>=0;c--){const d=a[c];for(;o.length>=2;){const h=o[o.length-1],g=o[o.length-2];if((h.x-g.x)*(d.y-g.y)>=(h.y-g.y)*(d.x-g.x))o.pop();else break}o.push(d)}return o.pop(),s.length===1&&o.length===1&&s[0].x===o[0].x&&s[0].y===o[0].y?s:s.concat(o)}var Provider=TooltipProvider$1,Content2=TooltipContent$1;const TooltipProvider=Provider,TooltipContent=reactExports.forwardRef(({className:a,sideOffset:s=4,...o},c)=>jsxRuntimeExports.jsx(Content2,{ref:c,sideOffset:s,className:cn("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...o}));TooltipContent.displayName=Content2.displayName;var Subscribable=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(a){return this.listeners.add(a),this.onSubscribe(),()=>{this.listeners.delete(a),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},isServer=typeof window>"u"||"Deno"in globalThis;function noop$3(){}function functionalUpdate(a,s){return typeof a=="function"?a(s):a}function isValidTimeout(a){return typeof a=="number"&&a>=0&&a!==1/0}function timeUntilStale(a,s){return Math.max(a+(s||0)-Date.now(),0)}function resolveStaleTime(a,s){return typeof a=="function"?a(s):a}function resolveEnabled(a,s){return typeof a=="function"?a(s):a}function matchQuery(a,s){const{type:o="all",exact:c,fetchStatus:d,predicate:h,queryKey:g,stale:b}=a;if(g){if(c){if(s.queryHash!==hashQueryKeyByOptions(g,s.options))return!1}else if(!partialMatchKey(s.queryKey,g))return!1}if(o!=="all"){const _=s.isActive();if(o==="active"&&!_||o==="inactive"&&_)return!1}return!(typeof b=="boolean"&&s.isStale()!==b||d&&d!==s.state.fetchStatus||h&&!h(s))}function matchMutation(a,s){const{exact:o,status:c,predicate:d,mutationKey:h}=a;if(h){if(!s.options.mutationKey)return!1;if(o){if(hashKey(s.options.mutationKey)!==hashKey(h))return!1}else if(!partialMatchKey(s.options.mutationKey,h))return!1}return!(c&&s.state.status!==c||d&&!d(s))}function hashQueryKeyByOptions(a,s){return((s==null?void 0:s.queryKeyHashFn)||hashKey)(a)}function hashKey(a){return JSON.stringify(a,(s,o)=>isPlainObject$2(o)?Object.keys(o).sort().reduce((c,d)=>(c[d]=o[d],c),{}):o)}function partialMatchKey(a,s){return a===s?!0:typeof a!=typeof s?!1:a&&s&&typeof a=="object"&&typeof s=="object"?!Object.keys(s).some(o=>!partialMatchKey(a[o],s[o])):!1}function replaceEqualDeep(a,s){if(a===s)return a;const o=isPlainArray(a)&&isPlainArray(s);if(o||isPlainObject$2(a)&&isPlainObject$2(s)){const c=o?a:Object.keys(a),d=c.length,h=o?s:Object.keys(s),g=h.length,b=o?[]:{};let _=0;for(let $=0;$<g;$++){const _e=o?$:h[$];(!o&&c.includes(_e)||o)&&a[_e]===void 0&&s[_e]===void 0?(b[_e]=void 0,_++):(b[_e]=replaceEqualDeep(a[_e],s[_e]),b[_e]===a[_e]&&a[_e]!==void 0&&_++)}return d===g&&_===d?a:b}return s}function isPlainArray(a){return Array.isArray(a)&&a.length===Object.keys(a).length}function isPlainObject$2(a){if(!hasObjectPrototype(a))return!1;const s=a.constructor;if(s===void 0)return!0;const o=s.prototype;return!(!hasObjectPrototype(o)||!o.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(a)!==Object.prototype)}function hasObjectPrototype(a){return Object.prototype.toString.call(a)==="[object Object]"}function sleep$1(a){return new Promise(s=>{setTimeout(s,a)})}function replaceData(a,s,o){return typeof o.structuralSharing=="function"?o.structuralSharing(a,s):o.structuralSharing!==!1?replaceEqualDeep(a,s):s}function addToEnd(a,s,o=0){const c=[...a,s];return o&&c.length>o?c.slice(1):c}function addToStart(a,s,o=0){const c=[s,...a];return o&&c.length>o?c.slice(0,-1):c}var skipToken=Symbol();function ensureQueryFn(a,s){return!a.queryFn&&(s!=null&&s.initialPromise)?()=>s.initialPromise:!a.queryFn||a.queryFn===skipToken?()=>Promise.reject(new Error(`Missing queryFn: '${a.queryHash}'`)):a.queryFn}var fn,tn,yn,zn,FocusManager=(zn=class extends Subscribable{constructor(){super();_r(this,fn);_r(this,tn);_r(this,yn);vr(this,yn,s=>{if(!isServer&&window.addEventListener){const o=()=>s();return window.addEventListener("visibilitychange",o,!1),()=>{window.removeEventListener("visibilitychange",o)}}})}onSubscribe(){Jt(this,tn)||this.setEventListener(Jt(this,yn))}onUnsubscribe(){var s;this.hasListeners()||((s=Jt(this,tn))==null||s.call(this),vr(this,tn,void 0))}setEventListener(s){var o;vr(this,yn,s),(o=Jt(this,tn))==null||o.call(this),vr(this,tn,s(c=>{typeof c=="boolean"?this.setFocused(c):this.onFocus()}))}setFocused(s){Jt(this,fn)!==s&&(vr(this,fn,s),this.onFocus())}onFocus(){const s=this.isFocused();this.listeners.forEach(o=>{o(s)})}isFocused(){var s;return typeof Jt(this,fn)=="boolean"?Jt(this,fn):((s=globalThis.document)==null?void 0:s.visibilityState)!=="hidden"}},fn=new WeakMap,tn=new WeakMap,yn=new WeakMap,zn),focusManager=new FocusManager,vn,rn,wn,Wn,OnlineManager=(Wn=class extends Subscribable{constructor(){super();_r(this,vn,!0);_r(this,rn);_r(this,wn);vr(this,wn,s=>{if(!isServer&&window.addEventListener){const o=()=>s(!0),c=()=>s(!1);return window.addEventListener("online",o,!1),window.addEventListener("offline",c,!1),()=>{window.removeEventListener("online",o),window.removeEventListener("offline",c)}}})}onSubscribe(){Jt(this,rn)||this.setEventListener(Jt(this,wn))}onUnsubscribe(){var s;this.hasListeners()||((s=Jt(this,rn))==null||s.call(this),vr(this,rn,void 0))}setEventListener(s){var o;vr(this,wn,s),(o=Jt(this,rn))==null||o.call(this),vr(this,rn,s(this.setOnline.bind(this)))}setOnline(s){Jt(this,vn)!==s&&(vr(this,vn,s),this.listeners.forEach(c=>{c(s)}))}isOnline(){return Jt(this,vn)}},vn=new WeakMap,rn=new WeakMap,wn=new WeakMap,Wn),onlineManager=new OnlineManager;function pendingThenable(){let a,s;const o=new Promise((d,h)=>{a=d,s=h});o.status="pending",o.catch(()=>{});function c(d){Object.assign(o,d),delete o.resolve,delete o.reject}return o.resolve=d=>{c({status:"fulfilled",value:d}),a(d)},o.reject=d=>{c({status:"rejected",reason:d}),s(d)},o}function defaultRetryDelay(a){return Math.min(1e3*2**a,3e4)}function canFetch(a){return(a??"online")==="online"?onlineManager.isOnline():!0}var CancelledError=class extends Error{constructor(a){super("CancelledError"),this.revert=a==null?void 0:a.revert,this.silent=a==null?void 0:a.silent}};function isCancelledError(a){return a instanceof CancelledError}function createRetryer(a){let s=!1,o=0,c=!1,d;const h=pendingThenable(),g=st=>{var pt;c||(et(new CancelledError(st)),(pt=a.abort)==null||pt.call(a))},b=()=>{s=!0},_=()=>{s=!1},$=()=>focusManager.isFocused()&&(a.networkMode==="always"||onlineManager.isOnline())&&a.canRun(),_e=()=>canFetch(a.networkMode)&&a.canRun(),tt=st=>{var pt;c||(c=!0,(pt=a.onSuccess)==null||pt.call(a,st),d==null||d(),h.resolve(st))},et=st=>{var pt;c||(c=!0,(pt=a.onError)==null||pt.call(a,st),d==null||d(),h.reject(st))},nt=()=>new Promise(st=>{var pt;d=at=>{(c||$())&&st(at)},(pt=a.onPause)==null||pt.call(a)}).then(()=>{var st;d=void 0,c||(st=a.onContinue)==null||st.call(a)}),ot=()=>{if(c)return;let st;const pt=o===0?a.initialPromise:void 0;try{st=pt??a.fn()}catch(at){st=Promise.reject(at)}Promise.resolve(st).then(tt).catch(at=>{var gt;if(c)return;const ht=a.retry??(isServer?0:3),lt=a.retryDelay??defaultRetryDelay,yt=typeof lt=="function"?lt(o,at):lt,bt=ht===!0||typeof ht=="number"&&o<ht||typeof ht=="function"&&ht(o,at);if(s||!bt){et(at);return}o++,(gt=a.onFail)==null||gt.call(a,o,at),sleep$1(yt).then(()=>$()?void 0:nt()).then(()=>{s?et(at):ot()})})};return{promise:h,cancel:g,continue:()=>(d==null||d(),h),cancelRetry:b,continueRetry:_,canStart:_e,start:()=>(_e()?ot():nt().then(ot),h)}}function createNotifyManager(){let a=[],s=0,o=b=>{b()},c=b=>{b()},d=b=>setTimeout(b,0);const h=b=>{s?a.push(b):d(()=>{o(b)})},g=()=>{const b=a;a=[],b.length&&d(()=>{c(()=>{b.forEach(_=>{o(_)})})})};return{batch:b=>{let _;s++;try{_=b()}finally{s--,s||g()}return _},batchCalls:b=>(..._)=>{h(()=>{b(..._)})},schedule:h,setNotifyFunction:b=>{o=b},setBatchNotifyFunction:b=>{c=b},setScheduler:b=>{d=b}}}var notifyManager=createNotifyManager(),hn,Vn,Removable=(Vn=class{constructor(){_r(this,hn)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),isValidTimeout(this.gcTime)&&vr(this,hn,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(a){this.gcTime=Math.max(this.gcTime||0,a??(isServer?1/0:5*60*1e3))}clearGcTimeout(){Jt(this,hn)&&(clearTimeout(Jt(this,hn)),vr(this,hn,void 0))}},hn=new WeakMap,Vn),En,bn,qr,Lr,An,pn,Kr,Zr,Hn,Query=(Hn=class extends Removable{constructor(s){super();_r(this,Kr);_r(this,En);_r(this,bn);_r(this,qr);_r(this,Lr);_r(this,An);_r(this,pn);vr(this,pn,!1),vr(this,An,s.defaultOptions),this.setOptions(s.options),this.observers=[],vr(this,qr,s.cache),this.queryKey=s.queryKey,this.queryHash=s.queryHash,vr(this,En,getDefaultState$1(this.options)),this.state=s.state??Jt(this,En),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var s;return(s=Jt(this,Lr))==null?void 0:s.promise}setOptions(s){this.options={...Jt(this,An),...s},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Jt(this,qr).remove(this)}setData(s,o){const c=replaceData(this.state.data,s,this.options);return Mr(this,Kr,Zr).call(this,{data:c,type:"success",dataUpdatedAt:o==null?void 0:o.updatedAt,manual:o==null?void 0:o.manual}),c}setState(s,o){Mr(this,Kr,Zr).call(this,{type:"setState",state:s,setStateOptions:o})}cancel(s){var c,d;const o=(c=Jt(this,Lr))==null?void 0:c.promise;return(d=Jt(this,Lr))==null||d.cancel(s),o?o.then(noop$3).catch(noop$3):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Jt(this,En))}isActive(){return this.observers.some(s=>resolveEnabled(s.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===skipToken||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(s=>s.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(s=0){return this.state.isInvalidated||this.state.data===void 0||!timeUntilStale(this.state.dataUpdatedAt,s)}onFocus(){var o;const s=this.observers.find(c=>c.shouldFetchOnWindowFocus());s==null||s.refetch({cancelRefetch:!1}),(o=Jt(this,Lr))==null||o.continue()}onOnline(){var o;const s=this.observers.find(c=>c.shouldFetchOnReconnect());s==null||s.refetch({cancelRefetch:!1}),(o=Jt(this,Lr))==null||o.continue()}addObserver(s){this.observers.includes(s)||(this.observers.push(s),this.clearGcTimeout(),Jt(this,qr).notify({type:"observerAdded",query:this,observer:s}))}removeObserver(s){this.observers.includes(s)&&(this.observers=this.observers.filter(o=>o!==s),this.observers.length||(Jt(this,Lr)&&(Jt(this,pn)?Jt(this,Lr).cancel({revert:!0}):Jt(this,Lr).cancelRetry()),this.scheduleGc()),Jt(this,qr).notify({type:"observerRemoved",query:this,observer:s}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Mr(this,Kr,Zr).call(this,{type:"invalidate"})}fetch(s,o){var _,$,_e;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(o!=null&&o.cancelRefetch))this.cancel({silent:!0});else if(Jt(this,Lr))return Jt(this,Lr).continueRetry(),Jt(this,Lr).promise}if(s&&this.setOptions(s),!this.options.queryFn){const tt=this.observers.find(et=>et.options.queryFn);tt&&this.setOptions(tt.options)}const c=new AbortController,d=tt=>{Object.defineProperty(tt,"signal",{enumerable:!0,get:()=>(vr(this,pn,!0),c.signal)})},h=()=>{const tt=ensureQueryFn(this.options,o),et={queryKey:this.queryKey,meta:this.meta};return d(et),vr(this,pn,!1),this.options.persister?this.options.persister(tt,et,this):tt(et)},g={fetchOptions:o,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:h};d(g),(_=this.options.behavior)==null||_.onFetch(g,this),vr(this,bn,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==(($=g.fetchOptions)==null?void 0:$.meta))&&Mr(this,Kr,Zr).call(this,{type:"fetch",meta:(_e=g.fetchOptions)==null?void 0:_e.meta});const b=tt=>{var et,nt,ot,st;isCancelledError(tt)&&tt.silent||Mr(this,Kr,Zr).call(this,{type:"error",error:tt}),isCancelledError(tt)||((nt=(et=Jt(this,qr).config).onError)==null||nt.call(et,tt,this),(st=(ot=Jt(this,qr).config).onSettled)==null||st.call(ot,this.state.data,tt,this)),this.scheduleGc()};return vr(this,Lr,createRetryer({initialPromise:o==null?void 0:o.initialPromise,fn:g.fetchFn,abort:c.abort.bind(c),onSuccess:tt=>{var et,nt,ot,st;if(tt===void 0){b(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(tt)}catch(pt){b(pt);return}(nt=(et=Jt(this,qr).config).onSuccess)==null||nt.call(et,tt,this),(st=(ot=Jt(this,qr).config).onSettled)==null||st.call(ot,tt,this.state.error,this),this.scheduleGc()},onError:b,onFail:(tt,et)=>{Mr(this,Kr,Zr).call(this,{type:"failed",failureCount:tt,error:et})},onPause:()=>{Mr(this,Kr,Zr).call(this,{type:"pause"})},onContinue:()=>{Mr(this,Kr,Zr).call(this,{type:"continue"})},retry:g.options.retry,retryDelay:g.options.retryDelay,networkMode:g.options.networkMode,canRun:()=>!0})),Jt(this,Lr).start()}},En=new WeakMap,bn=new WeakMap,qr=new WeakMap,Lr=new WeakMap,An=new WeakMap,pn=new WeakMap,Kr=new WeakSet,Zr=function(s){const o=c=>{switch(s.type){case"failed":return{...c,fetchFailureCount:s.failureCount,fetchFailureReason:s.error};case"pause":return{...c,fetchStatus:"paused"};case"continue":return{...c,fetchStatus:"fetching"};case"fetch":return{...c,...fetchState(c.data,this.options),fetchMeta:s.meta??null};case"success":return{...c,data:s.data,dataUpdateCount:c.dataUpdateCount+1,dataUpdatedAt:s.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!s.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const d=s.error;return isCancelledError(d)&&d.revert&&Jt(this,bn)?{...Jt(this,bn),fetchStatus:"idle"}:{...c,error:d,errorUpdateCount:c.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:c.fetchFailureCount+1,fetchFailureReason:d,fetchStatus:"idle",status:"error"};case"invalidate":return{...c,isInvalidated:!0};case"setState":return{...c,...s.state}}};this.state=o(this.state),notifyManager.batch(()=>{this.observers.forEach(c=>{c.onQueryUpdate()}),Jt(this,qr).notify({query:this,type:"updated",action:s})})},Hn);function fetchState(a,s){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:canFetch(s.networkMode)?"fetching":"paused",...a===void 0&&{error:null,status:"pending"}}}function getDefaultState$1(a){const s=typeof a.initialData=="function"?a.initialData():a.initialData,o=s!==void 0,c=o?typeof a.initialDataUpdatedAt=="function"?a.initialDataUpdatedAt():a.initialDataUpdatedAt:0;return{data:s,dataUpdateCount:0,dataUpdatedAt:o?c??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:o?"success":"pending",fetchStatus:"idle"}}var Xr,Gn,QueryCache=(Gn=class extends Subscribable{constructor(s={}){super();_r(this,Xr);this.config=s,vr(this,Xr,new Map)}build(s,o,c){const d=o.queryKey,h=o.queryHash??hashQueryKeyByOptions(d,o);let g=this.get(h);return g||(g=new Query({cache:this,queryKey:d,queryHash:h,options:s.defaultQueryOptions(o),state:c,defaultOptions:s.getQueryDefaults(d)}),this.add(g)),g}add(s){Jt(this,Xr).has(s.queryHash)||(Jt(this,Xr).set(s.queryHash,s),this.notify({type:"added",query:s}))}remove(s){const o=Jt(this,Xr).get(s.queryHash);o&&(s.destroy(),o===s&&Jt(this,Xr).delete(s.queryHash),this.notify({type:"removed",query:s}))}clear(){notifyManager.batch(()=>{this.getAll().forEach(s=>{this.remove(s)})})}get(s){return Jt(this,Xr).get(s)}getAll(){return[...Jt(this,Xr).values()]}find(s){const o={exact:!0,...s};return this.getAll().find(c=>matchQuery(o,c))}findAll(s={}){const o=this.getAll();return Object.keys(s).length>0?o.filter(c=>matchQuery(s,c)):o}notify(s){notifyManager.batch(()=>{this.listeners.forEach(o=>{o(s)})})}onFocus(){notifyManager.batch(()=>{this.getAll().forEach(s=>{s.onFocus()})})}onOnline(){notifyManager.batch(()=>{this.getAll().forEach(s=>{s.onOnline()})})}},Xr=new WeakMap,Gn),Yr,Fr,mn,Qr,en,qn,Mutation=(qn=class extends Removable{constructor(s){super();_r(this,Qr);_r(this,Yr);_r(this,Fr);_r(this,mn);this.mutationId=s.mutationId,vr(this,Fr,s.mutationCache),vr(this,Yr,[]),this.state=s.state||getDefaultState(),this.setOptions(s.options),this.scheduleGc()}setOptions(s){this.options=s,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(s){Jt(this,Yr).includes(s)||(Jt(this,Yr).push(s),this.clearGcTimeout(),Jt(this,Fr).notify({type:"observerAdded",mutation:this,observer:s}))}removeObserver(s){vr(this,Yr,Jt(this,Yr).filter(o=>o!==s)),this.scheduleGc(),Jt(this,Fr).notify({type:"observerRemoved",mutation:this,observer:s})}optionalRemove(){Jt(this,Yr).length||(this.state.status==="pending"?this.scheduleGc():Jt(this,Fr).remove(this))}continue(){var s;return((s=Jt(this,mn))==null?void 0:s.continue())??this.execute(this.state.variables)}async execute(s){var d,h,g,b,_,$,_e,tt,et,nt,ot,st,pt,at,ht,lt,yt,bt,gt,dt;vr(this,mn,createRetryer({fn:()=>this.options.mutationFn?this.options.mutationFn(s):Promise.reject(new Error("No mutationFn found")),onFail:(vt,kt)=>{Mr(this,Qr,en).call(this,{type:"failed",failureCount:vt,error:kt})},onPause:()=>{Mr(this,Qr,en).call(this,{type:"pause"})},onContinue:()=>{Mr(this,Qr,en).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Jt(this,Fr).canRun(this)}));const o=this.state.status==="pending",c=!Jt(this,mn).canStart();try{if(!o){Mr(this,Qr,en).call(this,{type:"pending",variables:s,isPaused:c}),await((h=(d=Jt(this,Fr).config).onMutate)==null?void 0:h.call(d,s,this));const kt=await((b=(g=this.options).onMutate)==null?void 0:b.call(g,s));kt!==this.state.context&&Mr(this,Qr,en).call(this,{type:"pending",context:kt,variables:s,isPaused:c})}const vt=await Jt(this,mn).start();return await(($=(_=Jt(this,Fr).config).onSuccess)==null?void 0:$.call(_,vt,s,this.state.context,this)),await((tt=(_e=this.options).onSuccess)==null?void 0:tt.call(_e,vt,s,this.state.context)),await((nt=(et=Jt(this,Fr).config).onSettled)==null?void 0:nt.call(et,vt,null,this.state.variables,this.state.context,this)),await((st=(ot=this.options).onSettled)==null?void 0:st.call(ot,vt,null,s,this.state.context)),Mr(this,Qr,en).call(this,{type:"success",data:vt}),vt}catch(vt){try{throw await((at=(pt=Jt(this,Fr).config).onError)==null?void 0:at.call(pt,vt,s,this.state.context,this)),await((lt=(ht=this.options).onError)==null?void 0:lt.call(ht,vt,s,this.state.context)),await((bt=(yt=Jt(this,Fr).config).onSettled)==null?void 0:bt.call(yt,void 0,vt,this.state.variables,this.state.context,this)),await((dt=(gt=this.options).onSettled)==null?void 0:dt.call(gt,void 0,vt,s,this.state.context)),vt}finally{Mr(this,Qr,en).call(this,{type:"error",error:vt})}}finally{Jt(this,Fr).runNext(this)}}},Yr=new WeakMap,Fr=new WeakMap,mn=new WeakMap,Qr=new WeakSet,en=function(s){const o=c=>{switch(s.type){case"failed":return{...c,failureCount:s.failureCount,failureReason:s.error};case"pause":return{...c,isPaused:!0};case"continue":return{...c,isPaused:!1};case"pending":return{...c,context:s.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:s.isPaused,status:"pending",variables:s.variables,submittedAt:Date.now()};case"success":return{...c,data:s.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...c,data:void 0,error:s.error,failureCount:c.failureCount+1,failureReason:s.error,isPaused:!1,status:"error"}}};this.state=o(this.state),notifyManager.batch(()=>{Jt(this,Yr).forEach(c=>{c.onMutationUpdate(s)}),Jt(this,Fr).notify({mutation:this,type:"updated",action:s})})},qn);function getDefaultState(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Vr,Rn,Kn,MutationCache=(Kn=class extends Subscribable{constructor(s={}){super();_r(this,Vr);_r(this,Rn);this.config=s,vr(this,Vr,new Map),vr(this,Rn,Date.now())}build(s,o,c){const d=new Mutation({mutationCache:this,mutationId:++Cn(this,Rn)._,options:s.defaultMutationOptions(o),state:c});return this.add(d),d}add(s){const o=scopeFor(s),c=Jt(this,Vr).get(o)??[];c.push(s),Jt(this,Vr).set(o,c),this.notify({type:"added",mutation:s})}remove(s){var c;const o=scopeFor(s);if(Jt(this,Vr).has(o)){const d=(c=Jt(this,Vr).get(o))==null?void 0:c.filter(h=>h!==s);d&&(d.length===0?Jt(this,Vr).delete(o):Jt(this,Vr).set(o,d))}this.notify({type:"removed",mutation:s})}canRun(s){var c;const o=(c=Jt(this,Vr).get(scopeFor(s)))==null?void 0:c.find(d=>d.state.status==="pending");return!o||o===s}runNext(s){var c;const o=(c=Jt(this,Vr).get(scopeFor(s)))==null?void 0:c.find(d=>d!==s&&d.state.isPaused);return(o==null?void 0:o.continue())??Promise.resolve()}clear(){notifyManager.batch(()=>{this.getAll().forEach(s=>{this.remove(s)})})}getAll(){return[...Jt(this,Vr).values()].flat()}find(s){const o={exact:!0,...s};return this.getAll().find(c=>matchMutation(o,c))}findAll(s={}){return this.getAll().filter(o=>matchMutation(s,o))}notify(s){notifyManager.batch(()=>{this.listeners.forEach(o=>{o(s)})})}resumePausedMutations(){const s=this.getAll().filter(o=>o.state.isPaused);return notifyManager.batch(()=>Promise.all(s.map(o=>o.continue().catch(noop$3))))}},Vr=new WeakMap,Rn=new WeakMap,Kn);function scopeFor(a){var s;return((s=a.options.scope)==null?void 0:s.id)??String(a.mutationId)}function infiniteQueryBehavior(a){return{onFetch:(s,o)=>{var _e,tt,et,nt,ot;const c=s.options,d=(et=(tt=(_e=s.fetchOptions)==null?void 0:_e.meta)==null?void 0:tt.fetchMore)==null?void 0:et.direction,h=((nt=s.state.data)==null?void 0:nt.pages)||[],g=((ot=s.state.data)==null?void 0:ot.pageParams)||[];let b={pages:[],pageParams:[]},_=0;const $=async()=>{let st=!1;const pt=lt=>{Object.defineProperty(lt,"signal",{enumerable:!0,get:()=>(s.signal.aborted?st=!0:s.signal.addEventListener("abort",()=>{st=!0}),s.signal)})},at=ensureQueryFn(s.options,s.fetchOptions),ht=async(lt,yt,bt)=>{if(st)return Promise.reject();if(yt==null&&lt.pages.length)return Promise.resolve(lt);const gt={queryKey:s.queryKey,pageParam:yt,direction:bt?"backward":"forward",meta:s.options.meta};pt(gt);const dt=await at(gt),{maxPages:vt}=s.options,kt=bt?addToStart:addToEnd;return{pages:kt(lt.pages,dt,vt),pageParams:kt(lt.pageParams,yt,vt)}};if(d&&h.length){const lt=d==="backward",yt=lt?getPreviousPageParam:getNextPageParam,bt={pages:h,pageParams:g},gt=yt(c,bt);b=await ht(bt,gt,lt)}else{const lt=a??h.length;do{const yt=_===0?g[0]??c.initialPageParam:getNextPageParam(c,b);if(_>0&&yt==null)break;b=await ht(b,yt),_++}while(_<lt)}return b};s.options.persister?s.fetchFn=()=>{var st,pt;return(pt=(st=s.options).persister)==null?void 0:pt.call(st,$,{queryKey:s.queryKey,meta:s.options.meta,signal:s.signal},o)}:s.fetchFn=$}}}function getNextPageParam(a,{pages:s,pageParams:o}){const c=s.length-1;return s.length>0?a.getNextPageParam(s[c],s,o[c],o):void 0}function getPreviousPageParam(a,{pages:s,pageParams:o}){var c;return s.length>0?(c=a.getPreviousPageParam)==null?void 0:c.call(a,s[0],s,o[0],o):void 0}var Ir,nn,sn,xn,_n,an,Tn,Sn,Xn,QueryClient=(Xn=class{constructor(a={}){_r(this,Ir);_r(this,nn);_r(this,sn);_r(this,xn);_r(this,_n);_r(this,an);_r(this,Tn);_r(this,Sn);vr(this,Ir,a.queryCache||new QueryCache),vr(this,nn,a.mutationCache||new MutationCache),vr(this,sn,a.defaultOptions||{}),vr(this,xn,new Map),vr(this,_n,new Map),vr(this,an,0)}mount(){Cn(this,an)._++,Jt(this,an)===1&&(vr(this,Tn,focusManager.subscribe(async a=>{a&&(await this.resumePausedMutations(),Jt(this,Ir).onFocus())})),vr(this,Sn,onlineManager.subscribe(async a=>{a&&(await this.resumePausedMutations(),Jt(this,Ir).onOnline())})))}unmount(){var a,s;Cn(this,an)._--,Jt(this,an)===0&&((a=Jt(this,Tn))==null||a.call(this),vr(this,Tn,void 0),(s=Jt(this,Sn))==null||s.call(this),vr(this,Sn,void 0))}isFetching(a){return Jt(this,Ir).findAll({...a,fetchStatus:"fetching"}).length}isMutating(a){return Jt(this,nn).findAll({...a,status:"pending"}).length}getQueryData(a){var o;const s=this.defaultQueryOptions({queryKey:a});return(o=Jt(this,Ir).get(s.queryHash))==null?void 0:o.state.data}ensureQueryData(a){const s=this.getQueryData(a.queryKey);if(s===void 0)return this.fetchQuery(a);{const o=this.defaultQueryOptions(a),c=Jt(this,Ir).build(this,o);return a.revalidateIfStale&&c.isStaleByTime(resolveStaleTime(o.staleTime,c))&&this.prefetchQuery(o),Promise.resolve(s)}}getQueriesData(a){return Jt(this,Ir).findAll(a).map(({queryKey:s,state:o})=>{const c=o.data;return[s,c]})}setQueryData(a,s,o){const c=this.defaultQueryOptions({queryKey:a}),d=Jt(this,Ir).get(c.queryHash),h=d==null?void 0:d.state.data,g=functionalUpdate(s,h);if(g!==void 0)return Jt(this,Ir).build(this,c).setData(g,{...o,manual:!0})}setQueriesData(a,s,o){return notifyManager.batch(()=>Jt(this,Ir).findAll(a).map(({queryKey:c})=>[c,this.setQueryData(c,s,o)]))}getQueryState(a){var o;const s=this.defaultQueryOptions({queryKey:a});return(o=Jt(this,Ir).get(s.queryHash))==null?void 0:o.state}removeQueries(a){const s=Jt(this,Ir);notifyManager.batch(()=>{s.findAll(a).forEach(o=>{s.remove(o)})})}resetQueries(a,s){const o=Jt(this,Ir),c={type:"active",...a};return notifyManager.batch(()=>(o.findAll(a).forEach(d=>{d.reset()}),this.refetchQueries(c,s)))}cancelQueries(a={},s={}){const o={revert:!0,...s},c=notifyManager.batch(()=>Jt(this,Ir).findAll(a).map(d=>d.cancel(o)));return Promise.all(c).then(noop$3).catch(noop$3)}invalidateQueries(a={},s={}){return notifyManager.batch(()=>{if(Jt(this,Ir).findAll(a).forEach(c=>{c.invalidate()}),a.refetchType==="none")return Promise.resolve();const o={...a,type:a.refetchType??a.type??"active"};return this.refetchQueries(o,s)})}refetchQueries(a={},s){const o={...s,cancelRefetch:(s==null?void 0:s.cancelRefetch)??!0},c=notifyManager.batch(()=>Jt(this,Ir).findAll(a).filter(d=>!d.isDisabled()).map(d=>{let h=d.fetch(void 0,o);return o.throwOnError||(h=h.catch(noop$3)),d.state.fetchStatus==="paused"?Promise.resolve():h}));return Promise.all(c).then(noop$3)}fetchQuery(a){const s=this.defaultQueryOptions(a);s.retry===void 0&&(s.retry=!1);const o=Jt(this,Ir).build(this,s);return o.isStaleByTime(resolveStaleTime(s.staleTime,o))?o.fetch(s):Promise.resolve(o.state.data)}prefetchQuery(a){return this.fetchQuery(a).then(noop$3).catch(noop$3)}fetchInfiniteQuery(a){return a.behavior=infiniteQueryBehavior(a.pages),this.fetchQuery(a)}prefetchInfiniteQuery(a){return this.fetchInfiniteQuery(a).then(noop$3).catch(noop$3)}ensureInfiniteQueryData(a){return a.behavior=infiniteQueryBehavior(a.pages),this.ensureQueryData(a)}resumePausedMutations(){return onlineManager.isOnline()?Jt(this,nn).resumePausedMutations():Promise.resolve()}getQueryCache(){return Jt(this,Ir)}getMutationCache(){return Jt(this,nn)}getDefaultOptions(){return Jt(this,sn)}setDefaultOptions(a){vr(this,sn,a)}setQueryDefaults(a,s){Jt(this,xn).set(hashKey(a),{queryKey:a,defaultOptions:s})}getQueryDefaults(a){const s=[...Jt(this,xn).values()];let o={};return s.forEach(c=>{partialMatchKey(a,c.queryKey)&&(o={...o,...c.defaultOptions})}),o}setMutationDefaults(a,s){Jt(this,_n).set(hashKey(a),{mutationKey:a,defaultOptions:s})}getMutationDefaults(a){const s=[...Jt(this,_n).values()];let o={};return s.forEach(c=>{partialMatchKey(a,c.mutationKey)&&(o={...o,...c.defaultOptions})}),o}defaultQueryOptions(a){if(a._defaulted)return a;const s={...Jt(this,sn).queries,...this.getQueryDefaults(a.queryKey),...a,_defaulted:!0};return s.queryHash||(s.queryHash=hashQueryKeyByOptions(s.queryKey,s)),s.refetchOnReconnect===void 0&&(s.refetchOnReconnect=s.networkMode!=="always"),s.throwOnError===void 0&&(s.throwOnError=!!s.suspense),!s.networkMode&&s.persister&&(s.networkMode="offlineFirst"),s.enabled!==!0&&s.queryFn===skipToken&&(s.enabled=!1),s}defaultMutationOptions(a){return a!=null&&a._defaulted?a:{...Jt(this,sn).mutations,...(a==null?void 0:a.mutationKey)&&this.getMutationDefaults(a.mutationKey),...a,_defaulted:!0}}clear(){Jt(this,Ir).clear(),Jt(this,nn).clear()}},Ir=new WeakMap,nn=new WeakMap,sn=new WeakMap,xn=new WeakMap,_n=new WeakMap,an=new WeakMap,Tn=new WeakMap,Sn=new WeakMap,Xn),QueryClientContext=reactExports.createContext(void 0),QueryClientProvider=({client:a,children:s})=>(reactExports.useEffect(()=>(a.mount(),()=>{a.unmount()}),[a]),jsxRuntimeExports.jsx(QueryClientContext.Provider,{value:a,children:s}));/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(a){for(var s=1;s<arguments.length;s++){var o=arguments[s];for(var c in o)Object.prototype.hasOwnProperty.call(o,c)&&(a[c]=o[c])}return a},_extends$1.apply(this,arguments)}var Action;(function(a){a.Pop="POP",a.Push="PUSH",a.Replace="REPLACE"})(Action||(Action={}));const PopStateEventType="popstate";function createBrowserHistory(a){a===void 0&&(a={});function s(c,d){let{pathname:h,search:g,hash:b}=c.location;return createLocation("",{pathname:h,search:g,hash:b},d.state&&d.state.usr||null,d.state&&d.state.key||"default")}function o(c,d){return typeof d=="string"?d:createPath(d)}return getUrlBasedHistory(s,o,null,a)}function invariant(a,s){if(a===!1||a===null||typeof a>"u")throw new Error(s)}function warning(a,s){if(!a){typeof console<"u"&&console.warn(s);try{throw new Error(s)}catch{}}}function createKey(){return Math.random().toString(36).substr(2,8)}function getHistoryState(a,s){return{usr:a.state,key:a.key,idx:s}}function createLocation(a,s,o,c){return o===void 0&&(o=null),_extends$1({pathname:typeof a=="string"?a:a.pathname,search:"",hash:""},typeof s=="string"?parsePath(s):s,{state:o,key:s&&s.key||c||createKey()})}function createPath(a){let{pathname:s="/",search:o="",hash:c=""}=a;return o&&o!=="?"&&(s+=o.charAt(0)==="?"?o:"?"+o),c&&c!=="#"&&(s+=c.charAt(0)==="#"?c:"#"+c),s}function parsePath(a){let s={};if(a){let o=a.indexOf("#");o>=0&&(s.hash=a.substr(o),a=a.substr(0,o));let c=a.indexOf("?");c>=0&&(s.search=a.substr(c),a=a.substr(0,c)),a&&(s.pathname=a)}return s}function getUrlBasedHistory(a,s,o,c){c===void 0&&(c={});let{window:d=document.defaultView,v5Compat:h=!1}=c,g=d.history,b=Action.Pop,_=null,$=_e();$==null&&($=0,g.replaceState(_extends$1({},g.state,{idx:$}),""));function _e(){return(g.state||{idx:null}).idx}function tt(){b=Action.Pop;let pt=_e(),at=pt==null?null:pt-$;$=pt,_&&_({action:b,location:st.location,delta:at})}function et(pt,at){b=Action.Push;let ht=createLocation(st.location,pt,at);$=_e()+1;let lt=getHistoryState(ht,$),yt=st.createHref(ht);try{g.pushState(lt,"",yt)}catch(bt){if(bt instanceof DOMException&&bt.name==="DataCloneError")throw bt;d.location.assign(yt)}h&&_&&_({action:b,location:st.location,delta:1})}function nt(pt,at){b=Action.Replace;let ht=createLocation(st.location,pt,at);$=_e();let lt=getHistoryState(ht,$),yt=st.createHref(ht);g.replaceState(lt,"",yt),h&&_&&_({action:b,location:st.location,delta:0})}function ot(pt){let at=d.location.origin!=="null"?d.location.origin:d.location.href,ht=typeof pt=="string"?pt:createPath(pt);return ht=ht.replace(/ $/,"%20"),invariant(at,"No window.location.(origin|href) available to create URL for href: "+ht),new URL(ht,at)}let st={get action(){return b},get location(){return a(d,g)},listen(pt){if(_)throw new Error("A history only accepts one active listener");return d.addEventListener(PopStateEventType,tt),_=pt,()=>{d.removeEventListener(PopStateEventType,tt),_=null}},createHref(pt){return s(d,pt)},createURL:ot,encodeLocation(pt){let at=ot(pt);return{pathname:at.pathname,search:at.search,hash:at.hash}},push:et,replace:nt,go(pt){return g.go(pt)}};return st}var ResultType;(function(a){a.data="data",a.deferred="deferred",a.redirect="redirect",a.error="error"})(ResultType||(ResultType={}));function matchRoutes(a,s,o){return o===void 0&&(o="/"),matchRoutesImpl(a,s,o,!1)}function matchRoutesImpl(a,s,o,c){let d=typeof s=="string"?parsePath(s):s,h=stripBasename(d.pathname||"/",o);if(h==null)return null;let g=flattenRoutes(a);rankRouteBranches(g);let b=null;for(let _=0;b==null&&_<g.length;++_){let $=decodePath(h);b=matchRouteBranch(g[_],$,c)}return b}function flattenRoutes(a,s,o,c){s===void 0&&(s=[]),o===void 0&&(o=[]),c===void 0&&(c="");let d=(h,g,b)=>{let _={relativePath:b===void 0?h.path||"":b,caseSensitive:h.caseSensitive===!0,childrenIndex:g,route:h};_.relativePath.startsWith("/")&&(invariant(_.relativePath.startsWith(c),'Absolute route path "'+_.relativePath+'" nested under path '+('"'+c+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),_.relativePath=_.relativePath.slice(c.length));let $=joinPaths([c,_.relativePath]),_e=o.concat(_);h.children&&h.children.length>0&&(invariant(h.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+$+'".')),flattenRoutes(h.children,s,_e,$)),!(h.path==null&&!h.index)&&s.push({path:$,score:computeScore($,h.index),routesMeta:_e})};return a.forEach((h,g)=>{var b;if(h.path===""||!((b=h.path)!=null&&b.includes("?")))d(h,g);else for(let _ of explodeOptionalSegments(h.path))d(h,g,_)}),s}function explodeOptionalSegments(a){let s=a.split("/");if(s.length===0)return[];let[o,...c]=s,d=o.endsWith("?"),h=o.replace(/\?$/,"");if(c.length===0)return d?[h,""]:[h];let g=explodeOptionalSegments(c.join("/")),b=[];return b.push(...g.map(_=>_===""?h:[h,_].join("/"))),d&&b.push(...g),b.map(_=>a.startsWith("/")&&_===""?"/":_)}function rankRouteBranches(a){a.sort((s,o)=>s.score!==o.score?o.score-s.score:compareIndexes(s.routesMeta.map(c=>c.childrenIndex),o.routesMeta.map(c=>c.childrenIndex)))}const paramRe=/^:[\w-]+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=a=>a==="*";function computeScore(a,s){let o=a.split("/"),c=o.length;return o.some(isSplat)&&(c+=splatPenalty),s&&(c+=indexRouteValue),o.filter(d=>!isSplat(d)).reduce((d,h)=>d+(paramRe.test(h)?dynamicSegmentValue:h===""?emptySegmentValue:staticSegmentValue),c)}function compareIndexes(a,s){return a.length===s.length&&a.slice(0,-1).every((c,d)=>c===s[d])?a[a.length-1]-s[s.length-1]:0}function matchRouteBranch(a,s,o){let{routesMeta:c}=a,d={},h="/",g=[];for(let b=0;b<c.length;++b){let _=c[b],$=b===c.length-1,_e=h==="/"?s:s.slice(h.length)||"/",tt=matchPath({path:_.relativePath,caseSensitive:_.caseSensitive,end:$},_e),et=_.route;if(!tt&&$&&o&&!c[c.length-1].route.index&&(tt=matchPath({path:_.relativePath,caseSensitive:_.caseSensitive,end:!1},_e)),!tt)return null;Object.assign(d,tt.params),g.push({params:d,pathname:joinPaths([h,tt.pathname]),pathnameBase:normalizePathname(joinPaths([h,tt.pathnameBase])),route:et}),tt.pathnameBase!=="/"&&(h=joinPaths([h,tt.pathnameBase]))}return g}function matchPath(a,s){typeof a=="string"&&(a={path:a,caseSensitive:!1,end:!0});let[o,c]=compilePath(a.path,a.caseSensitive,a.end),d=s.match(o);if(!d)return null;let h=d[0],g=h.replace(/(.)\/+$/,"$1"),b=d.slice(1);return{params:c.reduce(($,_e,tt)=>{let{paramName:et,isOptional:nt}=_e;if(et==="*"){let st=b[tt]||"";g=h.slice(0,h.length-st.length).replace(/(.)\/+$/,"$1")}const ot=b[tt];return nt&&!ot?$[et]=void 0:$[et]=(ot||"").replace(/%2F/g,"/"),$},{}),pathname:h,pathnameBase:g,pattern:a}}function compilePath(a,s,o){s===void 0&&(s=!1),o===void 0&&(o=!0),warning(a==="*"||!a.endsWith("*")||a.endsWith("/*"),'Route path "'+a+'" will be treated as if it were '+('"'+a.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+a.replace(/\*$/,"/*")+'".'));let c=[],d="^"+a.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(g,b,_)=>(c.push({paramName:b,isOptional:_!=null}),_?"/?([^\\/]+)?":"/([^\\/]+)"));return a.endsWith("*")?(c.push({paramName:"*"}),d+=a==="*"||a==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):o?d+="\\/*$":a!==""&&a!=="/"&&(d+="(?:(?=\\/|$))"),[new RegExp(d,s?void 0:"i"),c]}function decodePath(a){try{return a.split("/").map(s=>decodeURIComponent(s).replace(/\//g,"%2F")).join("/")}catch(s){return warning(!1,'The URL path "'+a+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+s+").")),a}}function stripBasename(a,s){if(s==="/")return a;if(!a.toLowerCase().startsWith(s.toLowerCase()))return null;let o=s.endsWith("/")?s.length-1:s.length,c=a.charAt(o);return c&&c!=="/"?null:a.slice(o)||"/"}const joinPaths=a=>a.join("/").replace(/\/\/+/g,"/"),normalizePathname=a=>a.replace(/\/+$/,"").replace(/^\/*/,"/");function isRouteErrorResponse(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.internal=="boolean"&&"data"in a}const validMutationMethodsArr=["post","put","patch","delete"];new Set(validMutationMethodsArr);const validRequestMethodsArr=["get",...validMutationMethodsArr];new Set(validRequestMethodsArr);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends(){return _extends=Object.assign?Object.assign.bind():function(a){for(var s=1;s<arguments.length;s++){var o=arguments[s];for(var c in o)Object.prototype.hasOwnProperty.call(o,c)&&(a[c]=o[c])}return a},_extends.apply(this,arguments)}const DataRouterContext=reactExports.createContext(null),DataRouterStateContext=reactExports.createContext(null),NavigationContext=reactExports.createContext(null),LocationContext=reactExports.createContext(null),RouteContext=reactExports.createContext({outlet:null,matches:[],isDataRoute:!1}),RouteErrorContext=reactExports.createContext(null);function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return useInRouterContext()||invariant(!1),reactExports.useContext(LocationContext).location}function useRoutes(a,s){return useRoutesImpl(a,s)}function useRoutesImpl(a,s,o,c){useInRouterContext()||invariant(!1);let{navigator:d}=reactExports.useContext(NavigationContext),{matches:h}=reactExports.useContext(RouteContext),g=h[h.length-1],b=g?g.params:{};g&&g.pathname;let _=g?g.pathnameBase:"/";g&&g.route;let $=useLocation(),_e;if(s){var tt;let pt=typeof s=="string"?parsePath(s):s;_==="/"||(tt=pt.pathname)!=null&&tt.startsWith(_)||invariant(!1),_e=pt}else _e=$;let et=_e.pathname||"/",nt=et;if(_!=="/"){let pt=_.replace(/^\//,"").split("/");nt="/"+et.replace(/^\//,"").split("/").slice(pt.length).join("/")}let ot=matchRoutes(a,{pathname:nt}),st=_renderMatches(ot&&ot.map(pt=>Object.assign({},pt,{params:Object.assign({},b,pt.params),pathname:joinPaths([_,d.encodeLocation?d.encodeLocation(pt.pathname).pathname:pt.pathname]),pathnameBase:pt.pathnameBase==="/"?_:joinPaths([_,d.encodeLocation?d.encodeLocation(pt.pathnameBase).pathname:pt.pathnameBase])})),h,o,c);return s&&st?reactExports.createElement(LocationContext.Provider,{value:{location:_extends({pathname:"/",search:"",hash:"",state:null,key:"default"},_e),navigationType:Action.Pop}},st):st}function DefaultErrorComponent(){let a=useRouteError(),s=isRouteErrorResponse(a)?a.status+" "+a.statusText:a instanceof Error?a.message:JSON.stringify(a),o=a instanceof Error?a.stack:null,d={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},s),o?reactExports.createElement("pre",{style:d},o):null,null)}const defaultErrorElement=reactExports.createElement(DefaultErrorComponent,null);class RenderErrorBoundary extends reactExports.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,o){return o.location!==s.location||o.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:o.error,location:o.location,revalidation:s.revalidation||o.revalidation}}componentDidCatch(s,o){console.error("React Router caught the following error during render",s,o)}render(){return this.state.error!==void 0?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function RenderedRoute(a){let{routeContext:s,match:o,children:c}=a,d=reactExports.useContext(DataRouterContext);return d&&d.static&&d.staticContext&&(o.route.errorElement||o.route.ErrorBoundary)&&(d.staticContext._deepestRenderedBoundaryId=o.route.id),reactExports.createElement(RouteContext.Provider,{value:s},c)}function _renderMatches(a,s,o,c){var d;if(s===void 0&&(s=[]),o===void 0&&(o=null),c===void 0&&(c=null),a==null){var h;if(!o)return null;if(o.errors)a=o.matches;else if((h=c)!=null&&h.v7_partialHydration&&s.length===0&&!o.initialized&&o.matches.length>0)a=o.matches;else return null}let g=a,b=(d=o)==null?void 0:d.errors;if(b!=null){let _e=g.findIndex(tt=>tt.route.id&&(b==null?void 0:b[tt.route.id])!==void 0);_e>=0||invariant(!1),g=g.slice(0,Math.min(g.length,_e+1))}let _=!1,$=-1;if(o&&c&&c.v7_partialHydration)for(let _e=0;_e<g.length;_e++){let tt=g[_e];if((tt.route.HydrateFallback||tt.route.hydrateFallbackElement)&&($=_e),tt.route.id){let{loaderData:et,errors:nt}=o,ot=tt.route.loader&&et[tt.route.id]===void 0&&(!nt||nt[tt.route.id]===void 0);if(tt.route.lazy||ot){_=!0,$>=0?g=g.slice(0,$+1):g=[g[0]];break}}}return g.reduceRight((_e,tt,et)=>{let nt,ot=!1,st=null,pt=null;o&&(nt=b&&tt.route.id?b[tt.route.id]:void 0,st=tt.route.errorElement||defaultErrorElement,_&&($<0&&et===0?(ot=!0,pt=null):$===et&&(ot=!0,pt=tt.route.hydrateFallbackElement||null)));let at=s.concat(g.slice(0,et+1)),ht=()=>{let lt;return nt?lt=st:ot?lt=pt:tt.route.Component?lt=reactExports.createElement(tt.route.Component,null):tt.route.element?lt=tt.route.element:lt=_e,reactExports.createElement(RenderedRoute,{match:tt,routeContext:{outlet:_e,matches:at,isDataRoute:o!=null},children:lt})};return o&&(tt.route.ErrorBoundary||tt.route.errorElement||et===0)?reactExports.createElement(RenderErrorBoundary,{location:o.location,revalidation:o.revalidation,component:st,error:nt,children:ht(),routeContext:{outlet:null,matches:at,isDataRoute:!0}}):ht()},null)}var DataRouterStateHook$1=function(a){return a.UseBlocker="useBlocker",a.UseLoaderData="useLoaderData",a.UseActionData="useActionData",a.UseRouteError="useRouteError",a.UseNavigation="useNavigation",a.UseRouteLoaderData="useRouteLoaderData",a.UseMatches="useMatches",a.UseRevalidator="useRevalidator",a.UseNavigateStable="useNavigate",a.UseRouteId="useRouteId",a}(DataRouterStateHook$1||{});function useDataRouterState(a){let s=reactExports.useContext(DataRouterStateContext);return s||invariant(!1),s}function useRouteContext(a){let s=reactExports.useContext(RouteContext);return s||invariant(!1),s}function useCurrentRouteId(a){let s=useRouteContext(),o=s.matches[s.matches.length-1];return o.route.id||invariant(!1),o.route.id}function useRouteError(){var a;let s=reactExports.useContext(RouteErrorContext),o=useDataRouterState(DataRouterStateHook$1.UseRouteError),c=useCurrentRouteId(DataRouterStateHook$1.UseRouteError);return s!==void 0?s:(a=o.errors)==null?void 0:a[c]}function Route(a){invariant(!1)}function Router(a){let{basename:s="/",children:o=null,location:c,navigationType:d=Action.Pop,navigator:h,static:g=!1,future:b}=a;useInRouterContext()&&invariant(!1);let _=s.replace(/^\/*/,"/"),$=reactExports.useMemo(()=>({basename:_,navigator:h,static:g,future:_extends({v7_relativeSplatPath:!1},b)}),[_,b,h,g]);typeof c=="string"&&(c=parsePath(c));let{pathname:_e="/",search:tt="",hash:et="",state:nt=null,key:ot="default"}=c,st=reactExports.useMemo(()=>{let pt=stripBasename(_e,_);return pt==null?null:{location:{pathname:pt,search:tt,hash:et,state:nt,key:ot},navigationType:d}},[_,_e,tt,et,nt,ot,d]);return st==null?null:reactExports.createElement(NavigationContext.Provider,{value:$},reactExports.createElement(LocationContext.Provider,{children:o,value:st}))}function Routes(a){let{children:s,location:o}=a;return useRoutes(createRoutesFromChildren(s),o)}new Promise(()=>{});function createRoutesFromChildren(a,s){s===void 0&&(s=[]);let o=[];return reactExports.Children.forEach(a,(c,d)=>{if(!reactExports.isValidElement(c))return;let h=[...s,d];if(c.type===reactExports.Fragment){o.push.apply(o,createRoutesFromChildren(c.props.children,h));return}c.type!==Route&&invariant(!1),!c.props.index||!c.props.children||invariant(!1);let g={id:c.props.id||h.join("-"),caseSensitive:c.props.caseSensitive,element:c.props.element,Component:c.props.Component,index:c.props.index,path:c.props.path,loader:c.props.loader,action:c.props.action,errorElement:c.props.errorElement,ErrorBoundary:c.props.ErrorBoundary,hasErrorBoundary:c.props.ErrorBoundary!=null||c.props.errorElement!=null,shouldRevalidate:c.props.shouldRevalidate,handle:c.props.handle,lazy:c.props.lazy};c.props.children&&(g.children=createRoutesFromChildren(c.props.children,h)),o.push(g)}),o}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const REACT_ROUTER_VERSION="6";try{window.__reactRouterVersion=REACT_ROUTER_VERSION}catch{}const START_TRANSITION="startTransition",startTransitionImpl=React[START_TRANSITION];function BrowserRouter(a){let{basename:s,children:o,future:c,window:d}=a,h=reactExports.useRef();h.current==null&&(h.current=createBrowserHistory({window:d,v5Compat:!0}));let g=h.current,[b,_]=reactExports.useState({action:g.action,location:g.location}),{v7_startTransition:$}=c||{},_e=reactExports.useCallback(tt=>{$&&startTransitionImpl?startTransitionImpl(()=>_(tt)):_(tt)},[_,$]);return reactExports.useLayoutEffect(()=>g.listen(_e),[g,_e]),reactExports.createElement(Router,{basename:s,children:o,location:b.location,navigationType:b.action,navigator:g,future:c})}var DataRouterHook;(function(a){a.UseScrollRestoration="useScrollRestoration",a.UseSubmit="useSubmit",a.UseSubmitFetcher="useSubmitFetcher",a.UseFetcher="useFetcher",a.useViewTransitionState="useViewTransitionState"})(DataRouterHook||(DataRouterHook={}));var DataRouterStateHook;(function(a){a.UseFetcher="useFetcher",a.UseFetchers="useFetchers",a.UseScrollRestoration="useScrollRestoration"})(DataRouterStateHook||(DataRouterStateHook={}));const badgeVariants=cva("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Badge({className:a,variant:s,...o}){return jsxRuntimeExports.jsx("div",{className:cn(badgeVariants({variant:s}),a),...o})}const buttonVariants=cva("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Button=reactExports.forwardRef(({className:a,variant:s,size:o,asChild:c=!1,...d},h)=>{const g=c?Slot:"button";return jsxRuntimeExports.jsx(g,{className:cn(buttonVariants({variant:s,size:o,className:a})),ref:h,...d})});Button.displayName="Button";const backgroundImage="/Portfolio/assets/background-BUCbguFC.jpg",robloxBanner="/Portfolio/assets/roblox-banner-C1jqxg83.png",avatarImage="data:image/png;base64,aVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUFFQUFBQUJDQVlBQUFBZkZjU0pBQUFBRFVsRVFWUjQybVA4LzUraEhnQUhnZ0ovUGNoSTd3QUFBQUJKUlU1RXJrSmdnZz09";var lib$3={},browser$3={exports:{}},ms,hasRequiredMs;function requireMs(){if(hasRequiredMs)return ms;hasRequiredMs=1;var a=1e3,s=a*60,o=s*60,c=o*24,d=c*7,h=c*365.25;ms=function(_e,tt){tt=tt||{};var et=typeof _e;if(et==="string"&&_e.length>0)return g(_e);if(et==="number"&&isFinite(_e))return tt.long?_(_e):b(_e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(_e))};function g(_e){if(_e=String(_e),!(_e.length>100)){var tt=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(_e);if(tt){var et=parseFloat(tt[1]),nt=(tt[2]||"ms").toLowerCase();switch(nt){case"years":case"year":case"yrs":case"yr":case"y":return et*h;case"weeks":case"week":case"w":return et*d;case"days":case"day":case"d":return et*c;case"hours":case"hour":case"hrs":case"hr":case"h":return et*o;case"minutes":case"minute":case"mins":case"min":case"m":return et*s;case"seconds":case"second":case"secs":case"sec":case"s":return et*a;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return et;default:return}}}}function b(_e){var tt=Math.abs(_e);return tt>=c?Math.round(_e/c)+"d":tt>=o?Math.round(_e/o)+"h":tt>=s?Math.round(_e/s)+"m":tt>=a?Math.round(_e/a)+"s":_e+"ms"}function _(_e){var tt=Math.abs(_e);return tt>=c?$(_e,tt,c,"day"):tt>=o?$(_e,tt,o,"hour"):tt>=s?$(_e,tt,s,"minute"):tt>=a?$(_e,tt,a,"second"):_e+" ms"}function $(_e,tt,et,nt){var ot=tt>=et*1.5;return Math.round(_e/et)+" "+nt+(ot?"s":"")}return ms}function setup(a){o.debug=o,o.default=o,o.coerce=_,o.disable=h,o.enable=d,o.enabled=g,o.humanize=requireMs(),o.destroy=$,Object.keys(a).forEach(_e=>{o[_e]=a[_e]}),o.names=[],o.skips=[],o.formatters={};function s(_e){let tt=0;for(let et=0;et<_e.length;et++)tt=(tt<<5)-tt+_e.charCodeAt(et),tt|=0;return o.colors[Math.abs(tt)%o.colors.length]}o.selectColor=s;function o(_e){let tt,et=null,nt,ot;function st(...pt){if(!st.enabled)return;const at=st,ht=Number(new Date),lt=ht-(tt||ht);at.diff=lt,at.prev=tt,at.curr=ht,tt=ht,pt[0]=o.coerce(pt[0]),typeof pt[0]!="string"&&pt.unshift("%O");let yt=0;pt[0]=pt[0].replace(/%([a-zA-Z%])/g,(gt,dt)=>{if(gt==="%%")return"%";yt++;const vt=o.formatters[dt];if(typeof vt=="function"){const kt=pt[yt];gt=vt.call(at,kt),pt.splice(yt,1),yt--}return gt}),o.formatArgs.call(at,pt),(at.log||o.log).apply(at,pt)}return st.namespace=_e,st.useColors=o.useColors(),st.color=o.selectColor(_e),st.extend=c,st.destroy=o.destroy,Object.defineProperty(st,"enabled",{enumerable:!0,configurable:!1,get:()=>et!==null?et:(nt!==o.namespaces&&(nt=o.namespaces,ot=o.enabled(_e)),ot),set:pt=>{et=pt}}),typeof o.init=="function"&&o.init(st),st}function c(_e,tt){const et=o(this.namespace+(typeof tt>"u"?":":tt)+_e);return et.log=this.log,et}function d(_e){o.save(_e),o.namespaces=_e,o.names=[],o.skips=[];let tt;const et=(typeof _e=="string"?_e:"").split(/[\s,]+/),nt=et.length;for(tt=0;tt<nt;tt++)et[tt]&&(_e=et[tt].replace(/\*/g,".*?"),_e[0]==="-"?o.skips.push(new RegExp("^"+_e.slice(1)+"$")):o.names.push(new RegExp("^"+_e+"$")))}function h(){const _e=[...o.names.map(b),...o.skips.map(b).map(tt=>"-"+tt)].join(",");return o.enable(""),_e}function g(_e){if(_e[_e.length-1]==="*")return!0;let tt,et;for(tt=0,et=o.skips.length;tt<et;tt++)if(o.skips[tt].test(_e))return!1;for(tt=0,et=o.names.length;tt<et;tt++)if(o.names[tt].test(_e))return!0;return!1}function b(_e){return _e.toString().substring(2,_e.toString().length-2).replace(/\.\*\?$/,"*")}function _(_e){return _e instanceof Error?_e.stack||_e.message:_e}function $(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return o.enable(o.load()),o}var common$3=setup;(function(a,s){var o={};s.formatArgs=d,s.save=h,s.load=g,s.useColors=c,s.storage=b(),s.destroy=(()=>{let $=!1;return()=>{$||($=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),s.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function c(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let $;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&($=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt($[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function d($){if($[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+$[0]+(this.useColors?"%c ":" ")+"+"+a.exports.humanize(this.diff),!this.useColors)return;const _e="color: "+this.color;$.splice(1,0,_e,"color: inherit");let tt=0,et=0;$[0].replace(/%[a-zA-Z%]/g,nt=>{nt!=="%%"&&(tt++,nt==="%c"&&(et=tt))}),$.splice(et,0,_e)}s.log=console.debug||console.log||(()=>{});function h($){try{$?s.storage.setItem("debug",$):s.storage.removeItem("debug")}catch{}}function g(){let $;try{$=s.storage.getItem("debug")}catch{}return!$&&typeof process<"u"&&"env"in process&&($=o.DEBUG),$}function b(){try{return localStorage}catch{}}a.exports=common$3(s);const{formatters:_}=a.exports;_.j=function($){try{return JSON.stringify($)}catch(_e){return"[UnexpectedJSONParseError]: "+_e.message}}})(browser$3,browser$3.exports);var browserExports$2=browser$3.exports,core$2={},core$1={},ReadStreamTokenizer$1={},AbstractTokenizer$1={},lib$2={},EndOfFileStream={};(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.EndOfStreamError=a.defaultMessages=void 0,a.defaultMessages="End-Of-Stream";class s extends Error{constructor(){super(a.defaultMessages)}}a.EndOfStreamError=s})(EndOfFileStream);var StreamReader$1={},Deferred$2={};Object.defineProperty(Deferred$2,"__esModule",{value:!0});Deferred$2.Deferred=void 0;let Deferred$1=class{constructor(){this.resolve=()=>null,this.reject=()=>null,this.promise=new Promise((s,o)=>{this.reject=o,this.resolve=s})}};Deferred$2.Deferred=Deferred$1;(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.StreamReader=a.EndOfStreamError=void 0;const s=EndOfFileStream,o=Deferred$2;var c=EndOfFileStream;Object.defineProperty(a,"EndOfStreamError",{enumerable:!0,get:function(){return c.EndOfStreamError}});const d=1*1024*1024;class h{constructor(b){if(this.s=b,this.deferred=null,this.endOfStream=!1,this.peekQueue=[],!b.read||!b.once)throw new Error("Expected an instance of stream.Readable");this.s.once("end",()=>this.reject(new s.EndOfStreamError)),this.s.once("error",_=>this.reject(_)),this.s.once("close",()=>this.reject(new Error("Stream closed")))}async peek(b,_,$){const _e=await this.read(b,_,$);return this.peekQueue.push(b.subarray(_,_+_e)),_e}async read(b,_,$){if($===0)return 0;if(this.peekQueue.length===0&&this.endOfStream)throw new s.EndOfStreamError;let _e=$,tt=0;for(;this.peekQueue.length>0&&_e>0;){const et=this.peekQueue.pop();if(!et)throw new Error("peekData should be defined");const nt=Math.min(et.length,_e);b.set(et.subarray(0,nt),_+tt),tt+=nt,_e-=nt,nt<et.length&&this.peekQueue.push(et.subarray(nt))}for(;_e>0&&!this.endOfStream;){const et=Math.min(_e,d),nt=await this.readFromStream(b,_+tt,et);if(tt+=nt,nt<et)break;_e-=nt}return tt}async readFromStream(b,_,$){const _e=this.s.read($);if(_e)return b.set(_e,_),_e.length;{const tt={buffer:b,offset:_,length:$,deferred:new o.Deferred};return this.deferred=tt.deferred,this.s.once("readable",()=>{this.readDeferred(tt)}),tt.deferred.promise}}readDeferred(b){const _=this.s.read(b.length);_?(b.buffer.set(_,b.offset),b.deferred.resolve(_.length),this.deferred=null):this.s.once("readable",()=>{this.readDeferred(b)})}reject(b){this.endOfStream=!0,this.deferred&&(this.deferred.reject(b),this.deferred=null)}}a.StreamReader=h})(StreamReader$1);(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.StreamReader=a.EndOfStreamError=void 0;var s=EndOfFileStream;Object.defineProperty(a,"EndOfStreamError",{enumerable:!0,get:function(){return s.EndOfStreamError}});var o=StreamReader$1;Object.defineProperty(a,"StreamReader",{enumerable:!0,get:function(){return o.StreamReader}})})(lib$2);Object.defineProperty(AbstractTokenizer$1,"__esModule",{value:!0});AbstractTokenizer$1.AbstractTokenizer=void 0;const peek_readable_1$2=lib$2;class AbstractTokenizer{constructor(s){this.position=0,this.numBuffer=new Uint8Array(8),this.fileInfo=s||{}}async readToken(s,o=this.position){const c=Buffer.alloc(s.len);if(await this.readBuffer(c,{position:o})<s.len)throw new peek_readable_1$2.EndOfStreamError;return s.get(c,0)}async peekToken(s,o=this.position){const c=Buffer.alloc(s.len);if(await this.peekBuffer(c,{position:o})<s.len)throw new peek_readable_1$2.EndOfStreamError;return s.get(c,0)}async readNumber(s){if(await this.readBuffer(this.numBuffer,{length:s.len})<s.len)throw new peek_readable_1$2.EndOfStreamError;return s.get(this.numBuffer,0)}async peekNumber(s){if(await this.peekBuffer(this.numBuffer,{length:s.len})<s.len)throw new peek_readable_1$2.EndOfStreamError;return s.get(this.numBuffer,0)}async ignore(s){if(this.fileInfo.size!==void 0){const o=this.fileInfo.size-this.position;if(s>o)return this.position+=o,o}return this.position+=s,s}async close(){}normalizeOptions(s,o){if(o&&o.position!==void 0&&o.position<this.position)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");return o?{mayBeLess:o.mayBeLess===!0,offset:o.offset?o.offset:0,length:o.length?o.length:s.length-(o.offset?o.offset:0),position:o.position?o.position:this.position}:{mayBeLess:!1,offset:0,length:s.length,position:this.position}}}AbstractTokenizer$1.AbstractTokenizer=AbstractTokenizer;Object.defineProperty(ReadStreamTokenizer$1,"__esModule",{value:!0});ReadStreamTokenizer$1.ReadStreamTokenizer=void 0;const AbstractTokenizer_1$1=AbstractTokenizer$1,peek_readable_1$1=lib$2,maxBufferSize=256e3;class ReadStreamTokenizer extends AbstractTokenizer_1$1.AbstractTokenizer{constructor(s,o){super(o),this.streamReader=new peek_readable_1$1.StreamReader(s)}async getFileInfo(){return this.fileInfo}async readBuffer(s,o){const c=this.normalizeOptions(s,o),d=c.position-this.position;if(d>0)return await this.ignore(d),this.readBuffer(s,o);if(d<0)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");if(c.length===0)return 0;const h=await this.streamReader.read(s,c.offset,c.length);if(this.position+=h,(!o||!o.mayBeLess)&&h<c.length)throw new peek_readable_1$1.EndOfStreamError;return h}async peekBuffer(s,o){const c=this.normalizeOptions(s,o);let d=0;if(c.position){const h=c.position-this.position;if(h>0){const g=new Uint8Array(c.length+h);return d=await this.peekBuffer(g,{mayBeLess:c.mayBeLess}),s.set(g.subarray(h),c.offset),d-h}else if(h<0)throw new Error("Cannot peek from a negative offset in a stream")}if(c.length>0){try{d=await this.streamReader.peek(s,c.offset,c.length)}catch(h){if(o&&o.mayBeLess&&h instanceof peek_readable_1$1.EndOfStreamError)return 0;throw h}if(!c.mayBeLess&&d<c.length)throw new peek_readable_1$1.EndOfStreamError}return d}async ignore(s){const o=Math.min(maxBufferSize,s),c=new Uint8Array(o);let d=0;for(;d<s;){const h=s-d,g=await this.readBuffer(c,{length:Math.min(o,h)});if(g<0)return g;d+=g}return d}}ReadStreamTokenizer$1.ReadStreamTokenizer=ReadStreamTokenizer;var BufferTokenizer$1={};Object.defineProperty(BufferTokenizer$1,"__esModule",{value:!0});BufferTokenizer$1.BufferTokenizer=void 0;const peek_readable_1=lib$2,AbstractTokenizer_1=AbstractTokenizer$1;class BufferTokenizer extends AbstractTokenizer_1.AbstractTokenizer{constructor(s,o){super(o),this.uint8Array=s,this.fileInfo.size=this.fileInfo.size?this.fileInfo.size:s.length}async readBuffer(s,o){if(o&&o.position){if(o.position<this.position)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");this.position=o.position}const c=await this.peekBuffer(s,o);return this.position+=c,c}async peekBuffer(s,o){const c=this.normalizeOptions(s,o),d=Math.min(this.uint8Array.length-c.position,c.length);if(!c.mayBeLess&&d<c.length)throw new peek_readable_1.EndOfStreamError;return s.set(this.uint8Array.subarray(c.position,c.position+d),c.offset),d}async close(){}}BufferTokenizer$1.BufferTokenizer=BufferTokenizer;(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.fromBuffer=a.fromStream=a.EndOfStreamError=void 0;const s=ReadStreamTokenizer$1,o=BufferTokenizer$1;var c=lib$2;Object.defineProperty(a,"EndOfStreamError",{enumerable:!0,get:function(){return c.EndOfStreamError}});function d(g,b){return b=b||{},new s.ReadStreamTokenizer(g,b)}a.fromStream=d;function h(g,b){return new o.BufferTokenizer(g,b)}a.fromBuffer=h})(core$1);var ParserFactory$1={},lib$1={},ieee754={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */ieee754.read=function(a,s,o,c,d){var h,g,b=d*8-c-1,_=(1<<b)-1,$=_>>1,_e=-7,tt=o?d-1:0,et=o?-1:1,nt=a[s+tt];for(tt+=et,h=nt&(1<<-_e)-1,nt>>=-_e,_e+=b;_e>0;h=h*256+a[s+tt],tt+=et,_e-=8);for(g=h&(1<<-_e)-1,h>>=-_e,_e+=c;_e>0;g=g*256+a[s+tt],tt+=et,_e-=8);if(h===0)h=1-$;else{if(h===_)return g?NaN:(nt?-1:1)*(1/0);g=g+Math.pow(2,c),h=h-$}return(nt?-1:1)*g*Math.pow(2,h-c)};ieee754.write=function(a,s,o,c,d,h){var g,b,_,$=h*8-d-1,_e=(1<<$)-1,tt=_e>>1,et=d===23?Math.pow(2,-24)-Math.pow(2,-77):0,nt=c?0:h-1,ot=c?1:-1,st=s<0||s===0&&1/s<0?1:0;for(s=Math.abs(s),isNaN(s)||s===1/0?(b=isNaN(s)?1:0,g=_e):(g=Math.floor(Math.log(s)/Math.LN2),s*(_=Math.pow(2,-g))<1&&(g--,_*=2),g+tt>=1?s+=et/_:s+=et*Math.pow(2,1-tt),s*_>=2&&(g++,_/=2),g+tt>=_e?(b=0,g=_e):g+tt>=1?(b=(s*_-1)*Math.pow(2,d),g=g+tt):(b=s*Math.pow(2,tt-1)*Math.pow(2,d),g=0));d>=8;a[o+nt]=b&255,nt+=ot,b/=256,d-=8);for(g=g<<d|b,$+=d;$>0;a[o+nt]=g&255,nt+=ot,g/=256,$-=8);a[o+nt-ot]|=st*128};(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.AnsiStringType=a.StringType=a.BufferType=a.Uint8ArrayType=a.IgnoreType=a.Float80_LE=a.Float80_BE=a.Float64_LE=a.Float64_BE=a.Float32_LE=a.Float32_BE=a.Float16_LE=a.Float16_BE=a.INT64_BE=a.UINT64_BE=a.INT64_LE=a.UINT64_LE=a.INT32_LE=a.INT32_BE=a.INT24_BE=a.INT24_LE=a.INT16_LE=a.INT16_BE=a.INT8=a.UINT32_BE=a.UINT32_LE=a.UINT24_BE=a.UINT24_LE=a.UINT16_BE=a.UINT16_LE=a.UINT8=void 0;const s=ieee754;function o(_){return new DataView(_.buffer,_.byteOffset)}a.UINT8={len:1,get(_,$){return o(_).getUint8($)},put(_,$,_e){return o(_).setUint8($,_e),$+1}},a.UINT16_LE={len:2,get(_,$){return o(_).getUint16($,!0)},put(_,$,_e){return o(_).setUint16($,_e,!0),$+2}},a.UINT16_BE={len:2,get(_,$){return o(_).getUint16($)},put(_,$,_e){return o(_).setUint16($,_e),$+2}},a.UINT24_LE={len:3,get(_,$){const _e=o(_);return _e.getUint8($)+(_e.getUint16($+1,!0)<<8)},put(_,$,_e){const tt=o(_);return tt.setUint8($,_e&255),tt.setUint16($+1,_e>>8,!0),$+3}},a.UINT24_BE={len:3,get(_,$){const _e=o(_);return(_e.getUint16($)<<8)+_e.getUint8($+2)},put(_,$,_e){const tt=o(_);return tt.setUint16($,_e>>8),tt.setUint8($+2,_e&255),$+3}},a.UINT32_LE={len:4,get(_,$){return o(_).getUint32($,!0)},put(_,$,_e){return o(_).setUint32($,_e,!0),$+4}},a.UINT32_BE={len:4,get(_,$){return o(_).getUint32($)},put(_,$,_e){return o(_).setUint32($,_e),$+4}},a.INT8={len:1,get(_,$){return o(_).getInt8($)},put(_,$,_e){return o(_).setInt8($,_e),$+1}},a.INT16_BE={len:2,get(_,$){return o(_).getInt16($)},put(_,$,_e){return o(_).setInt16($,_e),$+2}},a.INT16_LE={len:2,get(_,$){return o(_).getInt16($,!0)},put(_,$,_e){return o(_).setInt16($,_e,!0),$+2}},a.INT24_LE={len:3,get(_,$){const _e=a.UINT24_LE.get(_,$);return _e>8388607?_e-16777216:_e},put(_,$,_e){const tt=o(_);return tt.setUint8($,_e&255),tt.setUint16($+1,_e>>8,!0),$+3}},a.INT24_BE={len:3,get(_,$){const _e=a.UINT24_BE.get(_,$);return _e>8388607?_e-16777216:_e},put(_,$,_e){const tt=o(_);return tt.setUint16($,_e>>8),tt.setUint8($+2,_e&255),$+3}},a.INT32_BE={len:4,get(_,$){return o(_).getInt32($)},put(_,$,_e){return o(_).setInt32($,_e),$+4}},a.INT32_LE={len:4,get(_,$){return o(_).getInt32($,!0)},put(_,$,_e){return o(_).setInt32($,_e,!0),$+4}},a.UINT64_LE={len:8,get(_,$){return o(_).getBigUint64($,!0)},put(_,$,_e){return o(_).setBigUint64($,_e,!0),$+8}},a.INT64_LE={len:8,get(_,$){return o(_).getBigInt64($,!0)},put(_,$,_e){return o(_).setBigInt64($,_e,!0),$+8}},a.UINT64_BE={len:8,get(_,$){return o(_).getBigUint64($)},put(_,$,_e){return o(_).setBigUint64($,_e),$+8}},a.INT64_BE={len:8,get(_,$){return o(_).getBigInt64($)},put(_,$,_e){return o(_).setBigInt64($,_e),$+8}},a.Float16_BE={len:2,get(_,$){return s.read(_,$,!1,10,this.len)},put(_,$,_e){return s.write(_,_e,$,!1,10,this.len),$+this.len}},a.Float16_LE={len:2,get(_,$){return s.read(_,$,!0,10,this.len)},put(_,$,_e){return s.write(_,_e,$,!0,10,this.len),$+this.len}},a.Float32_BE={len:4,get(_,$){return o(_).getFloat32($)},put(_,$,_e){return o(_).setFloat32($,_e),$+4}},a.Float32_LE={len:4,get(_,$){return o(_).getFloat32($,!0)},put(_,$,_e){return o(_).setFloat32($,_e,!0),$+4}},a.Float64_BE={len:8,get(_,$){return o(_).getFloat64($)},put(_,$,_e){return o(_).setFloat64($,_e),$+8}},a.Float64_LE={len:8,get(_,$){return o(_).getFloat64($,!0)},put(_,$,_e){return o(_).setFloat64($,_e,!0),$+8}},a.Float80_BE={len:10,get(_,$){return s.read(_,$,!1,63,this.len)},put(_,$,_e){return s.write(_,_e,$,!1,63,this.len),$+this.len}},a.Float80_LE={len:10,get(_,$){return s.read(_,$,!0,63,this.len)},put(_,$,_e){return s.write(_,_e,$,!0,63,this.len),$+this.len}};class c{constructor($){this.len=$}get($,_e){}}a.IgnoreType=c;class d{constructor($){this.len=$}get($,_e){return $.subarray(_e,_e+this.len)}}a.Uint8ArrayType=d;class h{constructor($){this.len=$}get($,_e){return Buffer.from($.subarray(_e,_e+this.len))}}a.BufferType=h;class g{constructor($,_e){this.len=$,this.encoding=_e}get($,_e){return Buffer.from($).toString(this.encoding,_e,_e+this.len)}}a.StringType=g;class b{constructor($){this.len=$}static decode($,_e,tt){let et="";for(let nt=_e;nt<tt;++nt)et+=b.codePointToString(b.singleByteDecoder($[nt]));return et}static inRange($,_e,tt){return _e<=$&&$<=tt}static codePointToString($){return $<=65535?String.fromCharCode($):($-=65536,String.fromCharCode(($>>10)+55296,($&1023)+56320))}static singleByteDecoder($){if(b.inRange($,0,127))return $;const _e=b.windows1252[$-128];if(_e===null)throw Error("invaliding encoding");return _e}get($,_e=0){return b.decode($,_e,_e+this.len)}}a.AnsiStringType=b,b.windows1252=[8364,129,8218,402,8222,8230,8224,8225,710,8240,352,8249,338,141,381,143,144,8216,8217,8220,8221,8226,8211,8212,732,8482,353,8250,339,157,382,376,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255]})(lib$1);var util$c={};util$c.stringToBytes=a=>[...a].map(s=>s.charCodeAt(0));util$c.tarHeaderChecksumMatches=(a,s=0)=>{const o=parseInt(a.toString("utf8",148,154).replace(/\0.*$/,"").trim(),8);if(isNaN(o))return!1;let c=8*32;for(let d=s;d<s+148;d++)c+=a[d];for(let d=s+156;d<s+512;d++)c+=a[d];return o===c};util$c.uint32SyncSafeToken={get:(a,s)=>a[s+3]&127|a[s+2]<<7|a[s+1]<<14|a[s]<<21,len:4};var supported$1={extensions:["jpg","png","apng","gif","webp","flif","xcf","cr2","cr3","orf","arw","dng","nef","rw2","raf","tif","bmp","icns","jxr","psd","indd","zip","tar","rar","gz","bz2","7z","dmg","mp4","mid","mkv","webm","mov","avi","mpg","mp2","mp3","m4a","oga","ogg","ogv","opus","flac","wav","spx","amr","pdf","epub","exe","swf","rtf","wasm","woff","woff2","eot","ttf","otf","ico","flv","ps","xz","sqlite","nes","crx","xpi","cab","deb","ar","rpm","Z","lz","cfb","mxf","mts","blend","bpg","docx","pptx","xlsx","3gp","3g2","jp2","jpm","jpx","mj2","aif","qcp","odt","ods","odp","xml","mobi","heic","cur","ktx","ape","wv","dcm","ics","glb","pcap","dsf","lnk","alias","voc","ac3","m4v","m4p","m4b","f4v","f4p","f4b","f4a","mie","asf","ogm","ogx","mpc","arrow","shp","aac","mp1","it","s3m","xm","ai","skp","avif","eps","lzh","pgp","asar","stl","chm","3mf","zst","jxl","vcf"],mimeTypes:["image/jpeg","image/png","image/gif","image/webp","image/flif","image/x-xcf","image/x-canon-cr2","image/x-canon-cr3","image/tiff","image/bmp","image/vnd.ms-photo","image/vnd.adobe.photoshop","application/x-indesign","application/epub+zip","application/x-xpinstall","application/vnd.oasis.opendocument.text","application/vnd.oasis.opendocument.spreadsheet","application/vnd.oasis.opendocument.presentation","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/zip","application/x-tar","application/x-rar-compressed","application/gzip","application/x-bzip2","application/x-7z-compressed","application/x-apple-diskimage","application/x-apache-arrow","video/mp4","audio/midi","video/x-matroska","video/webm","video/quicktime","video/vnd.avi","audio/vnd.wave","audio/qcelp","audio/x-ms-asf","video/x-ms-asf","application/vnd.ms-asf","video/mpeg","video/3gpp","audio/mpeg","audio/mp4","audio/opus","video/ogg","audio/ogg","application/ogg","audio/x-flac","audio/ape","audio/wavpack","audio/amr","application/pdf","application/x-msdownload","application/x-shockwave-flash","application/rtf","application/wasm","font/woff","font/woff2","application/vnd.ms-fontobject","font/ttf","font/otf","image/x-icon","video/x-flv","application/postscript","application/eps","application/x-xz","application/x-sqlite3","application/x-nintendo-nes-rom","application/x-google-chrome-extension","application/vnd.ms-cab-compressed","application/x-deb","application/x-unix-archive","application/x-rpm","application/x-compress","application/x-lzip","application/x-cfb","application/x-mie","application/mxf","video/mp2t","application/x-blender","image/bpg","image/jp2","image/jpx","image/jpm","image/mj2","audio/aiff","application/xml","application/x-mobipocket-ebook","image/heif","image/heif-sequence","image/heic","image/heic-sequence","image/icns","image/ktx","application/dicom","audio/x-musepack","text/calendar","text/vcard","model/gltf-binary","application/vnd.tcpdump.pcap","audio/x-dsf","application/x.ms.shortcut","application/x.apple.alias","audio/x-voc","audio/vnd.dolby.dd-raw","audio/x-m4a","image/apng","image/x-olympus-orf","image/x-sony-arw","image/x-adobe-dng","image/x-nikon-nef","image/x-panasonic-rw2","image/x-fujifilm-raf","video/x-m4v","video/3gpp2","application/x-esri-shape","audio/aac","audio/x-it","audio/x-s3m","audio/x-xm","video/MP1S","video/MP2P","application/vnd.sketchup.skp","image/avif","application/x-lzh-compressed","application/pgp-encrypted","application/x-asar","model/stl","application/vnd.ms-htmlhelp","model/3mf","image/jxl","application/zstd"]};const Token$s=lib$1,strtok3$5=core$1,{stringToBytes,tarHeaderChecksumMatches,uint32SyncSafeToken}=util$c,supported=supported$1,minimumBytes=4100;async function fromStream(a){const s=await strtok3$5.fromStream(a);try{return await fromTokenizer(s)}finally{await s.close()}}async function fromBuffer(a){if(!(a instanceof Uint8Array||a instanceof ArrayBuffer||Buffer.isBuffer(a)))throw new TypeError(`Expected the \`input\` argument to be of type \`Uint8Array\` or \`Buffer\` or \`ArrayBuffer\`, got \`${typeof a}\``);const s=a instanceof Buffer?a:Buffer.from(a);if(!(s&&s.length>1))return;const o=strtok3$5.fromBuffer(s);return fromTokenizer(o)}function _check(a,s,o){o={offset:0,...o};for(const[c,d]of s.entries())if(o.mask){if(d!==(o.mask[c]&a[c+o.offset]))return!1}else if(d!==a[c+o.offset])return!1;return!0}async function fromTokenizer(a){try{return _fromTokenizer(a)}catch(s){if(!(s instanceof strtok3$5.EndOfStreamError))throw s}}async function _fromTokenizer(a){let s=Buffer.alloc(minimumBytes);const o=12,c=(h,g)=>_check(s,h,g),d=(h,g)=>c(stringToBytes(h),g);if(a.fileInfo.size||(a.fileInfo.size=Number.MAX_SAFE_INTEGER),await a.peekBuffer(s,{length:o,mayBeLess:!0}),c([66,77]))return{ext:"bmp",mime:"image/bmp"};if(c([11,119]))return{ext:"ac3",mime:"audio/vnd.dolby.dd-raw"};if(c([120,1]))return{ext:"dmg",mime:"application/x-apple-diskimage"};if(c([77,90]))return{ext:"exe",mime:"application/x-msdownload"};if(c([37,33]))return await a.peekBuffer(s,{length:24,mayBeLess:!0}),d("PS-Adobe-",{offset:2})&&d(" EPSF-",{offset:14})?{ext:"eps",mime:"application/eps"}:{ext:"ps",mime:"application/postscript"};if(c([31,160])||c([31,157]))return{ext:"Z",mime:"application/x-compress"};if(c([255,216,255]))return{ext:"jpg",mime:"image/jpeg"};if(c([73,73,188]))return{ext:"jxr",mime:"image/vnd.ms-photo"};if(c([31,139,8]))return{ext:"gz",mime:"application/gzip"};if(c([66,90,104]))return{ext:"bz2",mime:"application/x-bzip2"};if(d("ID3")){await a.ignore(6);const h=await a.readToken(uint32SyncSafeToken);return a.position+h>a.fileInfo.size?{ext:"mp3",mime:"audio/mpeg"}:(await a.ignore(h),fromTokenizer(a))}if(d("MP+"))return{ext:"mpc",mime:"audio/x-musepack"};if((s[0]===67||s[0]===70)&&c([87,83],{offset:1}))return{ext:"swf",mime:"application/x-shockwave-flash"};if(c([71,73,70]))return{ext:"gif",mime:"image/gif"};if(d("FLIF"))return{ext:"flif",mime:"image/flif"};if(d("8BPS"))return{ext:"psd",mime:"image/vnd.adobe.photoshop"};if(d("WEBP",{offset:8}))return{ext:"webp",mime:"image/webp"};if(d("MPCK"))return{ext:"mpc",mime:"audio/x-musepack"};if(d("FORM"))return{ext:"aif",mime:"audio/aiff"};if(d("icns",{offset:0}))return{ext:"icns",mime:"image/icns"};if(c([80,75,3,4])){try{for(;a.position+30<a.fileInfo.size;){await a.readBuffer(s,{length:30});const h={compressedSize:s.readUInt32LE(18),uncompressedSize:s.readUInt32LE(22),filenameLength:s.readUInt16LE(26),extraFieldLength:s.readUInt16LE(28)};if(h.filename=await a.readToken(new Token$s.StringType(h.filenameLength,"utf-8")),await a.ignore(h.extraFieldLength),h.filename==="META-INF/mozilla.rsa")return{ext:"xpi",mime:"application/x-xpinstall"};if(h.filename.endsWith(".rels")||h.filename.endsWith(".xml"))switch(h.filename.split("/")[0]){case"_rels":break;case"word":return{ext:"docx",mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"};case"ppt":return{ext:"pptx",mime:"application/vnd.openxmlformats-officedocument.presentationml.presentation"};case"xl":return{ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"};default:break}if(h.filename.startsWith("xl/"))return{ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"};if(h.filename.startsWith("3D/")&&h.filename.endsWith(".model"))return{ext:"3mf",mime:"model/3mf"};if(h.filename==="mimetype"&&h.compressedSize===h.uncompressedSize)switch(await a.readToken(new Token$s.StringType(h.compressedSize,"utf-8"))){case"application/epub+zip":return{ext:"epub",mime:"application/epub+zip"};case"application/vnd.oasis.opendocument.text":return{ext:"odt",mime:"application/vnd.oasis.opendocument.text"};case"application/vnd.oasis.opendocument.spreadsheet":return{ext:"ods",mime:"application/vnd.oasis.opendocument.spreadsheet"};case"application/vnd.oasis.opendocument.presentation":return{ext:"odp",mime:"application/vnd.oasis.opendocument.presentation"};default:}if(h.compressedSize===0){let g=-1;for(;g<0&&a.position<a.fileInfo.size;)await a.peekBuffer(s,{mayBeLess:!0}),g=s.indexOf("504B0304",0,"hex"),await a.ignore(g>=0?g:s.length)}else await a.ignore(h.compressedSize)}}catch(h){if(!(h instanceof strtok3$5.EndOfStreamError))throw h}return{ext:"zip",mime:"application/zip"}}if(d("OggS")){await a.ignore(28);const h=Buffer.alloc(8);return await a.readBuffer(h),_check(h,[79,112,117,115,72,101,97,100])?{ext:"opus",mime:"audio/opus"}:_check(h,[128,116,104,101,111,114,97])?{ext:"ogv",mime:"video/ogg"}:_check(h,[1,118,105,100,101,111,0])?{ext:"ogm",mime:"video/ogg"}:_check(h,[127,70,76,65,67])?{ext:"oga",mime:"audio/ogg"}:_check(h,[83,112,101,101,120,32,32])?{ext:"spx",mime:"audio/ogg"}:_check(h,[1,118,111,114,98,105,115])?{ext:"ogg",mime:"audio/ogg"}:{ext:"ogx",mime:"application/ogg"}}if(c([80,75])&&(s[2]===3||s[2]===5||s[2]===7)&&(s[3]===4||s[3]===6||s[3]===8))return{ext:"zip",mime:"application/zip"};if(d("ftyp",{offset:4})&&s[8]&96){const h=s.toString("binary",8,12).replace("\0"," ").trim();switch(h){case"avif":return{ext:"avif",mime:"image/avif"};case"mif1":return{ext:"heic",mime:"image/heif"};case"msf1":return{ext:"heic",mime:"image/heif-sequence"};case"heic":case"heix":return{ext:"heic",mime:"image/heic"};case"hevc":case"hevx":return{ext:"heic",mime:"image/heic-sequence"};case"qt":return{ext:"mov",mime:"video/quicktime"};case"M4V":case"M4VH":case"M4VP":return{ext:"m4v",mime:"video/x-m4v"};case"M4P":return{ext:"m4p",mime:"video/mp4"};case"M4B":return{ext:"m4b",mime:"audio/mp4"};case"M4A":return{ext:"m4a",mime:"audio/x-m4a"};case"F4V":return{ext:"f4v",mime:"video/mp4"};case"F4P":return{ext:"f4p",mime:"video/mp4"};case"F4A":return{ext:"f4a",mime:"audio/mp4"};case"F4B":return{ext:"f4b",mime:"audio/mp4"};case"crx":return{ext:"cr3",mime:"image/x-canon-cr3"};default:return h.startsWith("3g")?h.startsWith("3g2")?{ext:"3g2",mime:"video/3gpp2"}:{ext:"3gp",mime:"video/3gpp"}:{ext:"mp4",mime:"video/mp4"}}}if(d("MThd"))return{ext:"mid",mime:"audio/midi"};if(d("wOFF")&&(c([0,1,0,0],{offset:4})||d("OTTO",{offset:4})))return{ext:"woff",mime:"font/woff"};if(d("wOF2")&&(c([0,1,0,0],{offset:4})||d("OTTO",{offset:4})))return{ext:"woff2",mime:"font/woff2"};if(c([212,195,178,161])||c([161,178,195,212]))return{ext:"pcap",mime:"application/vnd.tcpdump.pcap"};if(d("DSD "))return{ext:"dsf",mime:"audio/x-dsf"};if(d("LZIP"))return{ext:"lz",mime:"application/x-lzip"};if(d("fLaC"))return{ext:"flac",mime:"audio/x-flac"};if(c([66,80,71,251]))return{ext:"bpg",mime:"image/bpg"};if(d("wvpk"))return{ext:"wv",mime:"audio/wavpack"};if(d("%PDF")){await a.ignore(1350);const h=10*1024*1024,g=Buffer.alloc(Math.min(h,a.fileInfo.size));return await a.readBuffer(g,{mayBeLess:!0}),g.includes(Buffer.from("AIPrivateData"))?{ext:"ai",mime:"application/postscript"}:{ext:"pdf",mime:"application/pdf"}}if(c([0,97,115,109]))return{ext:"wasm",mime:"application/wasm"};if(c([73,73,42,0]))return d("CR",{offset:8})?{ext:"cr2",mime:"image/x-canon-cr2"}:c([28,0,254,0],{offset:8})||c([31,0,11,0],{offset:8})?{ext:"nef",mime:"image/x-nikon-nef"}:c([8,0,0,0],{offset:4})&&(c([45,0,254,0],{offset:8})||c([39,0,254,0],{offset:8}))?{ext:"dng",mime:"image/x-adobe-dng"}:(s=Buffer.alloc(24),await a.peekBuffer(s),(c([16,251,134,1],{offset:4})||c([8,0,0,0],{offset:4}))&&c([0,254,0,4,0,1,0,0,0,1,0,0,0,3,1],{offset:9})?{ext:"arw",mime:"image/x-sony-arw"}:{ext:"tif",mime:"image/tiff"});if(c([77,77,0,42]))return{ext:"tif",mime:"image/tiff"};if(d("MAC "))return{ext:"ape",mime:"audio/ape"};if(c([26,69,223,163])){async function h(){const _e=await a.peekNumber(Token$s.UINT8);let tt=128,et=0;for(;!(_e&tt)&&tt!==0;)++et,tt>>=1;const nt=Buffer.alloc(et+1);return await a.readBuffer(nt),nt}async function g(){const _e=await h(),tt=await h();tt[0]^=128>>tt.length-1;const et=Math.min(6,tt.length);return{id:_e.readUIntBE(0,_e.length),len:tt.readUIntBE(tt.length-et,et)}}async function b(_e,tt){for(;tt>0;){const et=await g();if(et.id===17026)return a.readToken(new Token$s.StringType(et.len,"utf-8"));await a.ignore(et.len),--tt}}const _=await g();switch(await b(1,_.len)){case"webm":return{ext:"webm",mime:"video/webm"};case"matroska":return{ext:"mkv",mime:"video/x-matroska"};default:return}}if(c([82,73,70,70])){if(c([65,86,73],{offset:8}))return{ext:"avi",mime:"video/vnd.avi"};if(c([87,65,86,69],{offset:8}))return{ext:"wav",mime:"audio/vnd.wave"};if(c([81,76,67,77],{offset:8}))return{ext:"qcp",mime:"audio/qcelp"}}if(d("SQLi"))return{ext:"sqlite",mime:"application/x-sqlite3"};if(c([78,69,83,26]))return{ext:"nes",mime:"application/x-nintendo-nes-rom"};if(d("Cr24"))return{ext:"crx",mime:"application/x-google-chrome-extension"};if(d("MSCF")||d("ISc("))return{ext:"cab",mime:"application/vnd.ms-cab-compressed"};if(c([237,171,238,219]))return{ext:"rpm",mime:"application/x-rpm"};if(c([197,208,211,198]))return{ext:"eps",mime:"application/eps"};if(c([40,181,47,253]))return{ext:"zst",mime:"application/zstd"};if(c([79,84,84,79,0]))return{ext:"otf",mime:"font/otf"};if(d("#!AMR"))return{ext:"amr",mime:"audio/amr"};if(d("{\\rtf"))return{ext:"rtf",mime:"application/rtf"};if(c([70,76,86,1]))return{ext:"flv",mime:"video/x-flv"};if(d("IMPM"))return{ext:"it",mime:"audio/x-it"};if(d("-lh0-",{offset:2})||d("-lh1-",{offset:2})||d("-lh2-",{offset:2})||d("-lh3-",{offset:2})||d("-lh4-",{offset:2})||d("-lh5-",{offset:2})||d("-lh6-",{offset:2})||d("-lh7-",{offset:2})||d("-lzs-",{offset:2})||d("-lz4-",{offset:2})||d("-lz5-",{offset:2})||d("-lhd-",{offset:2}))return{ext:"lzh",mime:"application/x-lzh-compressed"};if(c([0,0,1,186])){if(c([33],{offset:4,mask:[241]}))return{ext:"mpg",mime:"video/MP1S"};if(c([68],{offset:4,mask:[196]}))return{ext:"mpg",mime:"video/MP2P"}}if(d("ITSF"))return{ext:"chm",mime:"application/vnd.ms-htmlhelp"};if(c([253,55,122,88,90,0]))return{ext:"xz",mime:"application/x-xz"};if(d("<?xml "))return{ext:"xml",mime:"application/xml"};if(c([55,122,188,175,39,28]))return{ext:"7z",mime:"application/x-7z-compressed"};if(c([82,97,114,33,26,7])&&(s[6]===0||s[6]===1))return{ext:"rar",mime:"application/x-rar-compressed"};if(d("solid "))return{ext:"stl",mime:"model/stl"};if(d("BLENDER"))return{ext:"blend",mime:"application/x-blender"};if(d("!<arch>"))return await a.ignore(8),await a.readToken(new Token$s.StringType(13,"ascii"))==="debian-binary"?{ext:"deb",mime:"application/x-deb"}:{ext:"ar",mime:"application/x-unix-archive"};if(c([137,80,78,71,13,10,26,10])){await a.ignore(8);async function h(){return{length:await a.readToken(Token$s.INT32_BE),type:await a.readToken(new Token$s.StringType(4,"binary"))}}do{const g=await h();if(g.length<0)return;switch(g.type){case"IDAT":return{ext:"png",mime:"image/png"};case"acTL":return{ext:"apng",mime:"image/apng"};default:await a.ignore(g.length+4)}}while(a.position+8<a.fileInfo.size);return{ext:"png",mime:"image/png"}}if(c([65,82,82,79,87,49,0,0]))return{ext:"arrow",mime:"application/x-apache-arrow"};if(c([103,108,84,70,2,0,0,0]))return{ext:"glb",mime:"model/gltf-binary"};if(c([102,114,101,101],{offset:4})||c([109,100,97,116],{offset:4})||c([109,111,111,118],{offset:4})||c([119,105,100,101],{offset:4}))return{ext:"mov",mime:"video/quicktime"};if(c([73,73,82,79,8,0,0,0,24]))return{ext:"orf",mime:"image/x-olympus-orf"};if(d("gimp xcf "))return{ext:"xcf",mime:"image/x-xcf"};if(c([73,73,85,0,24,0,0,0,136,231,116,216]))return{ext:"rw2",mime:"image/x-panasonic-rw2"};if(c([48,38,178,117,142,102,207,17,166,217])){async function h(){const g=Buffer.alloc(16);return await a.readBuffer(g),{id:g,size:Number(await a.readToken(Token$s.UINT64_LE))}}for(await a.ignore(30);a.position+24<a.fileInfo.size;){const g=await h();let b=g.size-24;if(_check(g.id,[145,7,220,183,183,169,207,17,142,230,0,192,12,32,83,101])){const _=Buffer.alloc(16);if(b-=await a.readBuffer(_),_check(_,[64,158,105,248,77,91,207,17,168,253,0,128,95,92,68,43]))return{ext:"asf",mime:"audio/x-ms-asf"};if(_check(_,[192,239,25,188,77,91,207,17,168,253,0,128,95,92,68,43]))return{ext:"asf",mime:"video/x-ms-asf"};break}await a.ignore(b)}return{ext:"asf",mime:"application/vnd.ms-asf"}}if(c([171,75,84,88,32,49,49,187,13,10,26,10]))return{ext:"ktx",mime:"image/ktx"};if((c([126,16,4])||c([126,24,4]))&&c([48,77,73,69],{offset:4}))return{ext:"mie",mime:"application/x-mie"};if(c([39,10,0,0,0,0,0,0,0,0,0,0],{offset:2}))return{ext:"shp",mime:"application/x-esri-shape"};if(c([0,0,0,12,106,80,32,32,13,10,135,10]))switch(await a.ignore(20),await a.readToken(new Token$s.StringType(4,"ascii"))){case"jp2 ":return{ext:"jp2",mime:"image/jp2"};case"jpx ":return{ext:"jpx",mime:"image/jpx"};case"jpm ":return{ext:"jpm",mime:"image/jpm"};case"mjp2":return{ext:"mj2",mime:"image/mj2"};default:return}if(c([255,10])||c([0,0,0,12,74,88,76,32,13,10,135,10]))return{ext:"jxl",mime:"image/jxl"};if(c([0,0,1,186])||c([0,0,1,179]))return{ext:"mpg",mime:"video/mpeg"};if(c([0,1,0,0,0]))return{ext:"ttf",mime:"font/ttf"};if(c([0,0,1,0]))return{ext:"ico",mime:"image/x-icon"};if(c([0,0,2,0]))return{ext:"cur",mime:"image/x-icon"};if(c([208,207,17,224,161,177,26,225]))return{ext:"cfb",mime:"application/x-cfb"};if(await a.peekBuffer(s,{length:Math.min(256,a.fileInfo.size),mayBeLess:!0}),d("BEGIN:")){if(d("VCARD",{offset:6}))return{ext:"vcf",mime:"text/vcard"};if(d("VCALENDAR",{offset:6}))return{ext:"ics",mime:"text/calendar"}}if(d("FUJIFILMCCD-RAW"))return{ext:"raf",mime:"image/x-fujifilm-raf"};if(d("Extended Module:"))return{ext:"xm",mime:"audio/x-xm"};if(d("Creative Voice File"))return{ext:"voc",mime:"audio/x-voc"};if(c([4,0,0,0])&&s.length>=16){const h=s.readUInt32LE(12);if(h>12&&s.length>=h+16)try{const g=s.slice(16,h+16).toString();if(JSON.parse(g).files)return{ext:"asar",mime:"application/x-asar"}}catch{}}if(c([6,14,43,52,2,5,1,1,13,1,2,1,1,2]))return{ext:"mxf",mime:"application/mxf"};if(d("SCRM",{offset:44}))return{ext:"s3m",mime:"audio/x-s3m"};if(c([71],{offset:4})&&(c([71],{offset:192})||c([71],{offset:196})))return{ext:"mts",mime:"video/mp2t"};if(c([66,79,79,75,77,79,66,73],{offset:60}))return{ext:"mobi",mime:"application/x-mobipocket-ebook"};if(c([68,73,67,77],{offset:128}))return{ext:"dcm",mime:"application/dicom"};if(c([76,0,0,0,1,20,2,0,0,0,0,0,192,0,0,0,0,0,0,70]))return{ext:"lnk",mime:"application/x.ms.shortcut"};if(c([98,111,111,107,0,0,0,0,109,97,114,107,0,0,0,0]))return{ext:"alias",mime:"application/x.apple.alias"};if(c([76,80],{offset:34})&&(c([0,0,1],{offset:8})||c([1,0,2],{offset:8})||c([2,0,2],{offset:8})))return{ext:"eot",mime:"application/vnd.ms-fontobject"};if(c([6,6,237,245,216,29,70,229,189,49,239,231,254,116,183,29]))return{ext:"indd",mime:"application/x-indesign"};if(await a.peekBuffer(s,{length:Math.min(512,a.fileInfo.size),mayBeLess:!0}),tarHeaderChecksumMatches(s))return{ext:"tar",mime:"application/x-tar"};if(c([255,254,255,14,83,0,107,0,101,0,116,0,99,0,104,0,85,0,112,0,32,0,77,0,111,0,100,0,101,0,108,0]))return{ext:"skp",mime:"application/vnd.sketchup.skp"};if(d("-----BEGIN PGP MESSAGE-----"))return{ext:"pgp",mime:"application/pgp-encrypted"};if(s.length>=2&&c([255,224],{offset:0,mask:[255,224]})){if(c([16],{offset:1,mask:[22]}))return c([8],{offset:1,mask:[8]})?{ext:"aac",mime:"audio/aac"}:{ext:"aac",mime:"audio/aac"};if(c([2],{offset:1,mask:[6]}))return{ext:"mp3",mime:"audio/mpeg"};if(c([4],{offset:1,mask:[6]}))return{ext:"mp2",mime:"audio/mpeg"};if(c([6],{offset:1,mask:[6]}))return{ext:"mp1",mime:"audio/mpeg"}}}const stream$1=readableStream=>new Promise((resolve,reject)=>{const stream=eval("require")("stream");readableStream.on("error",reject),readableStream.once("readable",async()=>{const a=new stream.PassThrough;let s;stream.pipeline?s=stream.pipeline(readableStream,a,()=>{}):s=readableStream.pipe(a);const o=readableStream.read(minimumBytes)||readableStream.read()||Buffer.alloc(0);try{const c=await fromBuffer(o);a.fileType=c}catch(c){reject(c)}resolve(s)})}),fileType={fromStream,fromTokenizer,fromBuffer,stream:stream$1};Object.defineProperty(fileType,"extensions",{get(){return new Set(supported.extensions)}});Object.defineProperty(fileType,"mimeTypes",{get(){return new Set(supported.mimeTypes)}});var core=fileType,contentType={};/*!
 * content-type
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */var PARAM_REGEXP=/; *([!#$%&'*+.^_`|~0-9A-Za-z-]+) *= *("(?:[\u000b\u0020\u0021\u0023-\u005b\u005d-\u007e\u0080-\u00ff]|\\[\u000b\u0020-\u00ff])*"|[!#$%&'*+.^_`|~0-9A-Za-z-]+) */g,TEXT_REGEXP=/^[\u000b\u0020-\u007e\u0080-\u00ff]+$/,TOKEN_REGEXP=/^[!#$%&'*+.^_`|~0-9A-Za-z-]+$/,QESC_REGEXP=/\\([\u000b\u0020-\u00ff])/g,QUOTE_REGEXP=/([\\"])/g,TYPE_REGEXP$1=/^[!#$%&'*+.^_`|~0-9A-Za-z-]+\/[!#$%&'*+.^_`|~0-9A-Za-z-]+$/;contentType.format=format$2;contentType.parse=parse$2;function format$2(a){if(!a||typeof a!="object")throw new TypeError("argument obj is required");var s=a.parameters,o=a.type;if(!o||!TYPE_REGEXP$1.test(o))throw new TypeError("invalid type");var c=o;if(s&&typeof s=="object")for(var d,h=Object.keys(s).sort(),g=0;g<h.length;g++){if(d=h[g],!TOKEN_REGEXP.test(d))throw new TypeError("invalid parameter name");c+="; "+d+"="+qstring(s[d])}return c}function parse$2(a){if(!a)throw new TypeError("argument string is required");var s=typeof a=="object"?getcontenttype(a):a;if(typeof s!="string")throw new TypeError("argument string is required to be a string");var o=s.indexOf(";"),c=o!==-1?s.slice(0,o).trim():s.trim();if(!TYPE_REGEXP$1.test(c))throw new TypeError("invalid media type");var d=new ContentType$1(c.toLowerCase());if(o!==-1){var h,g,b;for(PARAM_REGEXP.lastIndex=o;g=PARAM_REGEXP.exec(s);){if(g.index!==o)throw new TypeError("invalid parameter format");o+=g[0].length,h=g[1].toLowerCase(),b=g[2],b.charCodeAt(0)===34&&(b=b.slice(1,-1),b.indexOf("\\")!==-1&&(b=b.replace(QESC_REGEXP,"$1"))),d.parameters[h]=b}if(o!==s.length)throw new TypeError("invalid parameter format")}return d}function getcontenttype(a){var s;if(typeof a.getHeader=="function"?s=a.getHeader("content-type"):typeof a.headers=="object"&&(s=a.headers&&a.headers["content-type"]),typeof s!="string")throw new TypeError("content-type header is missing from object");return s}function qstring(a){var s=String(a);if(TOKEN_REGEXP.test(s))return s;if(s.length>0&&!TEXT_REGEXP.test(s))throw new TypeError("invalid parameter value");return'"'+s.replace(QUOTE_REGEXP,"\\$1")+'"'}function ContentType$1(a){this.parameters=Object.create(null),this.type=a}var mediaTyper={};/*!
 * media-typer
 * Copyright(c) 2014-2017 Douglas Christopher Wilson
 * MIT Licensed
 */var SUBTYPE_NAME_REGEXP=/^[A-Za-z0-9][A-Za-z0-9!#$&^_.-]{0,126}$/,TYPE_NAME_REGEXP=/^[A-Za-z0-9][A-Za-z0-9!#$&^_-]{0,126}$/,TYPE_REGEXP=/^ *([A-Za-z0-9][A-Za-z0-9!#$&^_-]{0,126})\/([A-Za-z0-9][A-Za-z0-9!#$&^_.+-]{0,126}) *$/;mediaTyper.format=format$1;mediaTyper.parse=parse$1;mediaTyper.test=test;function format$1(a){if(!a||typeof a!="object")throw new TypeError("argument obj is required");var s=a.subtype,o=a.suffix,c=a.type;if(!c||!TYPE_NAME_REGEXP.test(c))throw new TypeError("invalid type");if(!s||!SUBTYPE_NAME_REGEXP.test(s))throw new TypeError("invalid subtype");var d=c+"/"+s;if(o){if(!TYPE_NAME_REGEXP.test(o))throw new TypeError("invalid suffix");d+="+"+o}return d}function test(a){if(!a)throw new TypeError("argument string is required");if(typeof a!="string")throw new TypeError("argument string is required to be a string");return TYPE_REGEXP.test(a.toLowerCase())}function parse$1(a){if(!a)throw new TypeError("argument string is required");if(typeof a!="string")throw new TypeError("argument string is required to be a string");var s=TYPE_REGEXP.exec(a.toLowerCase());if(!s)throw new TypeError("invalid media type");var o=s[1],c=s[2],d,h=c.lastIndexOf("+");return h!==-1&&(d=c.substr(h+1),c=c.substr(0,h)),new MediaType(o,c,d)}function MediaType(a,s,o){this.type=a,this.subtype=s,this.suffix=o}var MetadataCollector$1={},type={},types={};(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.TrackType=a.TargetType=a.DataType=void 0,function(s){s[s.string=0]="string",s[s.uint=1]="uint",s[s.uid=2]="uid",s[s.bool=3]="bool",s[s.binary=4]="binary",s[s.float=5]="float"}(a.DataType||(a.DataType={})),function(s){s[s.shot=10]="shot",s[s.scene=20]="scene",s[s.track=30]="track",s[s.part=40]="part",s[s.album=50]="album",s[s.edition=60]="edition",s[s.collection=70]="collection"}(a.TargetType||(a.TargetType={})),function(s){s[s.video=1]="video",s[s.audio=2]="audio",s[s.complex=3]="complex",s[s.logo=4]="logo",s[s.subtitle=17]="subtitle",s[s.button=18]="button",s[s.control=32]="control"}(a.TrackType||(a.TrackType={}))})(types);(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.TrackType=void 0;var s=types;Object.defineProperty(a,"TrackType",{enumerable:!0,get:function(){return s.TrackType}})})(type);var GenericTagTypes={};(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.isUnique=a.isSingleton=a.commonTags=void 0,a.commonTags={year:{multiple:!1},track:{multiple:!1},disk:{multiple:!1},title:{multiple:!1},artist:{multiple:!1},artists:{multiple:!0,unique:!0},albumartist:{multiple:!1},album:{multiple:!1},date:{multiple:!1},originaldate:{multiple:!1},originalyear:{multiple:!1},comment:{multiple:!0,unique:!1},genre:{multiple:!0,unique:!0},picture:{multiple:!0,unique:!0},composer:{multiple:!0,unique:!0},lyrics:{multiple:!0,unique:!1},albumsort:{multiple:!1,unique:!0},titlesort:{multiple:!1,unique:!0},work:{multiple:!1,unique:!0},artistsort:{multiple:!1,unique:!0},albumartistsort:{multiple:!1,unique:!0},composersort:{multiple:!1,unique:!0},lyricist:{multiple:!0,unique:!0},writer:{multiple:!0,unique:!0},conductor:{multiple:!0,unique:!0},remixer:{multiple:!0,unique:!0},arranger:{multiple:!0,unique:!0},engineer:{multiple:!0,unique:!0},producer:{multiple:!0,unique:!0},technician:{multiple:!0,unique:!0},djmixer:{multiple:!0,unique:!0},mixer:{multiple:!0,unique:!0},label:{multiple:!0,unique:!0},grouping:{multiple:!1},subtitle:{multiple:!0},discsubtitle:{multiple:!1},totaltracks:{multiple:!1},totaldiscs:{multiple:!1},compilation:{multiple:!1},rating:{multiple:!0},bpm:{multiple:!1},mood:{multiple:!1},media:{multiple:!1},catalognumber:{multiple:!0,unique:!0},tvShow:{multiple:!1},tvShowSort:{multiple:!1},tvSeason:{multiple:!1},tvEpisode:{multiple:!1},tvEpisodeId:{multiple:!1},tvNetwork:{multiple:!1},podcast:{multiple:!1},podcasturl:{multiple:!1},releasestatus:{multiple:!1},releasetype:{multiple:!0},releasecountry:{multiple:!1},script:{multiple:!1},language:{multiple:!1},copyright:{multiple:!1},license:{multiple:!1},encodedby:{multiple:!1},encodersettings:{multiple:!1},gapless:{multiple:!1},barcode:{multiple:!1},isrc:{multiple:!0},asin:{multiple:!1},musicbrainz_recordingid:{multiple:!1},musicbrainz_trackid:{multiple:!1},musicbrainz_albumid:{multiple:!1},musicbrainz_artistid:{multiple:!0},musicbrainz_albumartistid:{multiple:!0},musicbrainz_releasegroupid:{multiple:!1},musicbrainz_workid:{multiple:!1},musicbrainz_trmid:{multiple:!1},musicbrainz_discid:{multiple:!1},acoustid_id:{multiple:!1},acoustid_fingerprint:{multiple:!1},musicip_puid:{multiple:!1},musicip_fingerprint:{multiple:!1},website:{multiple:!1},"performer:instrument":{multiple:!0,unique:!0},averageLevel:{multiple:!1},peakLevel:{multiple:!1},notes:{multiple:!0,unique:!1},key:{multiple:!1},originalalbum:{multiple:!1},originalartist:{multiple:!1},discogs_artist_id:{multiple:!0,unique:!0},discogs_release_id:{multiple:!1},discogs_label_id:{multiple:!1},discogs_master_release_id:{multiple:!1},discogs_votes:{multiple:!1},discogs_rating:{multiple:!1},replaygain_track_peak:{multiple:!1},replaygain_track_gain:{multiple:!1},replaygain_album_peak:{multiple:!1},replaygain_album_gain:{multiple:!1},replaygain_track_minmax:{multiple:!1},replaygain_album_minmax:{multiple:!1},replaygain_undo:{multiple:!1},description:{multiple:!0},longDescription:{multiple:!1},category:{multiple:!0},hdVideo:{multiple:!1},keywords:{multiple:!0},movement:{multiple:!1},movementIndex:{multiple:!1},movementTotal:{multiple:!1},podcastId:{multiple:!1},showMovement:{multiple:!1},stik:{multiple:!1}};function s(c){return a.commonTags.hasOwnProperty(c)&&!a.commonTags[c].multiple}a.isSingleton=s;function o(c){return!a.commonTags[c].multiple||a.commonTags[c].unique}a.isUnique=o})(GenericTagTypes);var CombinedTagMapper$1={},ID3v1TagMap={},GenericTagMapper={};Object.defineProperty(GenericTagMapper,"__esModule",{value:!0});GenericTagMapper.CommonTagMapper=void 0;class CommonTagMapper{static toIntOrNull(s){const o=parseInt(s,10);return isNaN(o)?null:o}static normalizeTrack(s){const o=s.toString().split("/");return{no:parseInt(o[0],10)||null,of:parseInt(o[1],10)||null}}constructor(s,o){this.tagTypes=s,this.tagMap=o}mapGenericTag(s,o){s={id:s.id,value:s.value},this.postMap(s,o);const c=this.getCommonName(s.id);return c?{id:c,value:s.value}:null}getCommonName(s){return this.tagMap[s]}postMap(s,o){}}CommonTagMapper.maxRatingScore=1;GenericTagMapper.CommonTagMapper=CommonTagMapper;Object.defineProperty(ID3v1TagMap,"__esModule",{value:!0});ID3v1TagMap.ID3v1TagMapper=void 0;const GenericTagMapper_1$6=GenericTagMapper,id3v1TagMap={title:"title",artist:"artist",album:"album",year:"year",comment:"comment",track:"track",genre:"genre"};class ID3v1TagMapper extends GenericTagMapper_1$6.CommonTagMapper{constructor(){super(["ID3v1"],id3v1TagMap)}}ID3v1TagMap.ID3v1TagMapper=ID3v1TagMapper;var ID3v24TagMapper$1={},CaseInsensitiveTagMap$1={};Object.defineProperty(CaseInsensitiveTagMap$1,"__esModule",{value:!0});CaseInsensitiveTagMap$1.CaseInsensitiveTagMap=void 0;const GenericTagMapper_1$5=GenericTagMapper;class CaseInsensitiveTagMap extends GenericTagMapper_1$5.CommonTagMapper{constructor(s,o){const c={};for(const d of Object.keys(o))c[d.toUpperCase()]=o[d];super(s,c)}getCommonName(s){return this.tagMap[s.toUpperCase()]}}CaseInsensitiveTagMap$1.CaseInsensitiveTagMap=CaseInsensitiveTagMap;var Util={};Object.defineProperty(Util,"__esModule",{value:!0});Util.toRatio=Util.dbToRatio=Util.ratioToDb=Util.a2hex=Util.isBitSet=Util.getBitAllignedNumber=Util.stripNulls=Util.decodeString=Util.trimRightNull=Util.findZero=Util.getBit=void 0;function getBit(a,s,o){return(a[s]&1<<o)!==0}Util.getBit=getBit;function findZero(a,s,o,c){let d=s;if(c==="utf16le"){for(;a[d]!==0||a[d+1]!==0;){if(d>=o)return o;d+=2}return d}else{for(;a[d]!==0;){if(d>=o)return o;d++}return d}}Util.findZero=findZero;function trimRightNull(a){const s=a.indexOf("\0");return s===-1?a:a.substr(0,s)}Util.trimRightNull=trimRightNull;function swapBytes(a){const s=a.length;if(s&1)throw new Error("Buffer length must be even");for(let o=0;o<s;o+=2){const c=a[o];a[o]=a[o+1],a[o+1]=c}return a}function decodeString(a,s){if(a[0]===255&&a[1]===254)return decodeString(a.subarray(2),s);if(s==="utf16le"&&a[0]===254&&a[1]===255){if(a.length&1)throw new Error("Expected even number of octets for 16-bit unicode string");return decodeString(swapBytes(a),s)}return Buffer.from(a).toString(s)}Util.decodeString=decodeString;function stripNulls(a){return a=a.replace(/^\x00+/g,""),a=a.replace(/\x00+$/g,""),a}Util.stripNulls=stripNulls;function getBitAllignedNumber(a,s,o,c){const d=s+~~(o/8),h=o%8;let g=a[d];g&=255>>h;const b=8-h,_=c-b;return _<0?g>>=8-h-c:_>0&&(g<<=_,g|=getBitAllignedNumber(a,s,o+b,_)),g}Util.getBitAllignedNumber=getBitAllignedNumber;function isBitSet(a,s,o){return getBitAllignedNumber(a,s,o,1)===1}Util.isBitSet=isBitSet;function a2hex(a){const s=[];for(let o=0,c=a.length;o<c;o++){const d=Number(a.charCodeAt(o)).toString(16);s.push(d.length===1?"0"+d:d)}return s.join(" ")}Util.a2hex=a2hex;function ratioToDb(a){return 10*Math.log10(a)}Util.ratioToDb=ratioToDb;function dbToRatio(a){return Math.pow(10,a/10)}Util.dbToRatio=dbToRatio;function toRatio(a){const s=a.split(" ").map(o=>o.trim().toLowerCase());if(s.length>=1){const o=parseFloat(s[0]);return s.length===2&&s[1]==="db"?{dB:o,ratio:dbToRatio(o)}:{dB:ratioToDb(o),ratio:o}}}Util.toRatio=toRatio;Object.defineProperty(ID3v24TagMapper$1,"__esModule",{value:!0});ID3v24TagMapper$1.ID3v24TagMapper=void 0;const GenericTagMapper_1$4=GenericTagMapper,CaseInsensitiveTagMap_1$2=CaseInsensitiveTagMap$1,util$b=Util,id3v24TagMap={TIT2:"title",TPE1:"artist","TXXX:Artists":"artists",TPE2:"albumartist",TALB:"album",TDRV:"date",TORY:"originalyear",TPOS:"disk",TCON:"genre",APIC:"picture",TCOM:"composer","USLT:description":"lyrics",TSOA:"albumsort",TSOT:"titlesort",TOAL:"originalalbum",TSOP:"artistsort",TSO2:"albumartistsort",TSOC:"composersort",TEXT:"lyricist","TXXX:Writer":"writer",TPE3:"conductor",TPE4:"remixer","IPLS:arranger":"arranger","IPLS:engineer":"engineer","IPLS:producer":"producer","IPLS:DJ-mix":"djmixer","IPLS:mix":"mixer",TPUB:"label",TIT1:"grouping",TIT3:"subtitle",TRCK:"track",TCMP:"compilation",POPM:"rating",TBPM:"bpm",TMED:"media","TXXX:CATALOGNUMBER":"catalognumber","TXXX:MusicBrainz Album Status":"releasestatus","TXXX:MusicBrainz Album Type":"releasetype","TXXX:MusicBrainz Album Release Country":"releasecountry","TXXX:RELEASECOUNTRY":"releasecountry","TXXX:SCRIPT":"script",TLAN:"language",TCOP:"copyright",WCOP:"license",TENC:"encodedby",TSSE:"encodersettings","TXXX:BARCODE":"barcode","TXXX:ISRC":"isrc",TSRC:"isrc","TXXX:ASIN":"asin","TXXX:originalyear":"originalyear","UFID:http://musicbrainz.org":"musicbrainz_recordingid","TXXX:MusicBrainz Release Track Id":"musicbrainz_trackid","TXXX:MusicBrainz Album Id":"musicbrainz_albumid","TXXX:MusicBrainz Artist Id":"musicbrainz_artistid","TXXX:MusicBrainz Album Artist Id":"musicbrainz_albumartistid","TXXX:MusicBrainz Release Group Id":"musicbrainz_releasegroupid","TXXX:MusicBrainz Work Id":"musicbrainz_workid","TXXX:MusicBrainz TRM Id":"musicbrainz_trmid","TXXX:MusicBrainz Disc Id":"musicbrainz_discid","TXXX:ACOUSTID_ID":"acoustid_id","TXXX:Acoustid Id":"acoustid_id","TXXX:Acoustid Fingerprint":"acoustid_fingerprint","TXXX:MusicIP PUID":"musicip_puid","TXXX:MusicMagic Fingerprint":"musicip_fingerprint",WOAR:"website",TDRC:"date",TYER:"year",TDOR:"originaldate","TIPL:arranger":"arranger","TIPL:engineer":"engineer","TIPL:producer":"producer","TIPL:DJ-mix":"djmixer","TIPL:mix":"mixer",TMOO:"mood",SYLT:"lyrics",TSST:"discsubtitle",TKEY:"key",COMM:"comment",TOPE:"originalartist","PRIV:AverageLevel":"averageLevel","PRIV:PeakLevel":"peakLevel","TXXX:DISCOGS_ARTIST_ID":"discogs_artist_id","TXXX:DISCOGS_ARTISTS":"artists","TXXX:DISCOGS_ARTIST_NAME":"artists","TXXX:DISCOGS_ALBUM_ARTISTS":"albumartist","TXXX:DISCOGS_CATALOG":"catalognumber","TXXX:DISCOGS_COUNTRY":"releasecountry","TXXX:DISCOGS_DATE":"originaldate","TXXX:DISCOGS_LABEL":"label","TXXX:DISCOGS_LABEL_ID":"discogs_label_id","TXXX:DISCOGS_MASTER_RELEASE_ID":"discogs_master_release_id","TXXX:DISCOGS_RATING":"discogs_rating","TXXX:DISCOGS_RELEASED":"date","TXXX:DISCOGS_RELEASE_ID":"discogs_release_id","TXXX:DISCOGS_VOTES":"discogs_votes","TXXX:CATALOGID":"catalognumber","TXXX:STYLE":"genre","TXXX:REPLAYGAIN_TRACK_PEAK":"replaygain_track_peak","TXXX:REPLAYGAIN_TRACK_GAIN":"replaygain_track_gain","TXXX:REPLAYGAIN_ALBUM_PEAK":"replaygain_album_peak","TXXX:REPLAYGAIN_ALBUM_GAIN":"replaygain_album_gain","TXXX:MP3GAIN_MINMAX":"replaygain_track_minmax","TXXX:MP3GAIN_ALBUM_MINMAX":"replaygain_album_minmax","TXXX:MP3GAIN_UNDO":"replaygain_undo",MVNM:"movement",MVIN:"movementIndex",PCST:"podcast",TCAT:"category",TDES:"description",TDRL:"date",TGID:"podcastId",TKWD:"keywords",WFED:"podcasturl"};class ID3v24TagMapper extends CaseInsensitiveTagMap_1$2.CaseInsensitiveTagMap{static toRating(s){return{source:s.email,rating:s.rating>0?(s.rating-1)/254*GenericTagMapper_1$4.CommonTagMapper.maxRatingScore:void 0}}constructor(){super(["ID3v2.3","ID3v2.4"],id3v24TagMap)}postMap(s,o){switch(s.id){case"UFID":s.value.owner_identifier==="http://musicbrainz.org"&&(s.id+=":"+s.value.owner_identifier,s.value=util$b.decodeString(s.value.identifier,"latin1"));break;case"PRIV":switch(s.value.owner_identifier){case"AverageLevel":case"PeakValue":s.id+=":"+s.value.owner_identifier,s.value=s.value.data.length===4?s.value.data.readUInt32LE(0):null,s.value===null&&o.addWarning("Failed to parse PRIV:PeakValue");break;default:o.addWarning(`Unknown PRIV owner-identifier: ${s.value.owner_identifier}`)}break;case"COMM":s.value=s.value?s.value.text:null;break;case"POPM":s.value=ID3v24TagMapper.toRating(s.value);break}}}ID3v24TagMapper$1.ID3v24TagMapper=ID3v24TagMapper;var AsfTagMapper$1={};Object.defineProperty(AsfTagMapper$1,"__esModule",{value:!0});AsfTagMapper$1.AsfTagMapper=void 0;const GenericTagMapper_1$3=GenericTagMapper,asfTagMap={Title:"title",Author:"artist","WM/AlbumArtist":"albumartist","WM/AlbumTitle":"album","WM/Year":"date","WM/OriginalReleaseTime":"originaldate","WM/OriginalReleaseYear":"originalyear",Description:"comment","WM/TrackNumber":"track","WM/PartOfSet":"disk","WM/Genre":"genre","WM/Composer":"composer","WM/Lyrics":"lyrics","WM/AlbumSortOrder":"albumsort","WM/TitleSortOrder":"titlesort","WM/ArtistSortOrder":"artistsort","WM/AlbumArtistSortOrder":"albumartistsort","WM/ComposerSortOrder":"composersort","WM/Writer":"lyricist","WM/Conductor":"conductor","WM/ModifiedBy":"remixer","WM/Engineer":"engineer","WM/Producer":"producer","WM/DJMixer":"djmixer","WM/Mixer":"mixer","WM/Publisher":"label","WM/ContentGroupDescription":"grouping","WM/SubTitle":"subtitle","WM/SetSubTitle":"discsubtitle","WM/IsCompilation":"compilation","WM/SharedUserRating":"rating","WM/BeatsPerMinute":"bpm","WM/Mood":"mood","WM/Media":"media","WM/CatalogNo":"catalognumber","MusicBrainz/Album Status":"releasestatus","MusicBrainz/Album Type":"releasetype","MusicBrainz/Album Release Country":"releasecountry","WM/Script":"script","WM/Language":"language",Copyright:"copyright",LICENSE:"license","WM/EncodedBy":"encodedby","WM/EncodingSettings":"encodersettings","WM/Barcode":"barcode","WM/ISRC":"isrc","MusicBrainz/Track Id":"musicbrainz_recordingid","MusicBrainz/Release Track Id":"musicbrainz_trackid","MusicBrainz/Album Id":"musicbrainz_albumid","MusicBrainz/Artist Id":"musicbrainz_artistid","MusicBrainz/Album Artist Id":"musicbrainz_albumartistid","MusicBrainz/Release Group Id":"musicbrainz_releasegroupid","MusicBrainz/Work Id":"musicbrainz_workid","MusicBrainz/TRM Id":"musicbrainz_trmid","MusicBrainz/Disc Id":"musicbrainz_discid","Acoustid/Id":"acoustid_id","Acoustid/Fingerprint":"acoustid_fingerprint","MusicIP/PUID":"musicip_puid","WM/ARTISTS":"artists","WM/InitialKey":"key",ASIN:"asin","WM/Work":"work","WM/AuthorURL":"website","WM/Picture":"picture"};class AsfTagMapper extends GenericTagMapper_1$3.CommonTagMapper{static toRating(s){return{rating:parseFloat(s+1)/5}}constructor(){super(["asf"],asfTagMap)}postMap(s){switch(s.id){case"WM/SharedUserRating":const o=s.id.split(":");s.value=AsfTagMapper.toRating(s.value),s.id=o[0];break}}}AsfTagMapper$1.AsfTagMapper=AsfTagMapper;var ID3v22TagMapper={};(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.ID3v22TagMapper=a.id3v22TagMap=void 0;const s=CaseInsensitiveTagMap$1;a.id3v22TagMap={TT2:"title",TP1:"artist",TP2:"albumartist",TAL:"album",TYE:"year",COM:"comment",TRK:"track",TPA:"disk",TCO:"genre",PIC:"picture",TCM:"composer",TOR:"originaldate",TOT:"originalalbum",TXT:"lyricist",TP3:"conductor",TPB:"label",TT1:"grouping",TT3:"subtitle",TLA:"language",TCR:"copyright",WCP:"license",TEN:"encodedby",TSS:"encodersettings",WAR:"website","COM:iTunPGAP":"gapless",PCS:"podcast",TCP:"compilation",TDR:"date",TS2:"albumartistsort",TSA:"albumsort",TSC:"composersort",TSP:"artistsort",TST:"titlesort",WFD:"podcasturl",TBP:"bpm"};class o extends s.CaseInsensitiveTagMap{constructor(){super(["ID3v2.2"],a.id3v22TagMap)}}a.ID3v22TagMapper=o})(ID3v22TagMapper);var APEv2TagMapper$1={};Object.defineProperty(APEv2TagMapper$1,"__esModule",{value:!0});APEv2TagMapper$1.APEv2TagMapper=void 0;const CaseInsensitiveTagMap_1$1=CaseInsensitiveTagMap$1,apev2TagMap={Title:"title",Artist:"artist",Artists:"artists","Album Artist":"albumartist",Album:"album",Year:"date",Originalyear:"originalyear",Originaldate:"originaldate",Comment:"comment",Track:"track",Disc:"disk",DISCNUMBER:"disk",Genre:"genre","Cover Art (Front)":"picture","Cover Art (Back)":"picture",Composer:"composer",Lyrics:"lyrics",ALBUMSORT:"albumsort",TITLESORT:"titlesort",WORK:"work",ARTISTSORT:"artistsort",ALBUMARTISTSORT:"albumartistsort",COMPOSERSORT:"composersort",Lyricist:"lyricist",Writer:"writer",Conductor:"conductor",MixArtist:"remixer",Arranger:"arranger",Engineer:"engineer",Producer:"producer",DJMixer:"djmixer",Mixer:"mixer",Label:"label",Grouping:"grouping",Subtitle:"subtitle",DiscSubtitle:"discsubtitle",Compilation:"compilation",BPM:"bpm",Mood:"mood",Media:"media",CatalogNumber:"catalognumber",MUSICBRAINZ_ALBUMSTATUS:"releasestatus",MUSICBRAINZ_ALBUMTYPE:"releasetype",RELEASECOUNTRY:"releasecountry",Script:"script",Language:"language",Copyright:"copyright",LICENSE:"license",EncodedBy:"encodedby",EncoderSettings:"encodersettings",Barcode:"barcode",ISRC:"isrc",ASIN:"asin",musicbrainz_trackid:"musicbrainz_recordingid",musicbrainz_releasetrackid:"musicbrainz_trackid",MUSICBRAINZ_ALBUMID:"musicbrainz_albumid",MUSICBRAINZ_ARTISTID:"musicbrainz_artistid",MUSICBRAINZ_ALBUMARTISTID:"musicbrainz_albumartistid",MUSICBRAINZ_RELEASEGROUPID:"musicbrainz_releasegroupid",MUSICBRAINZ_WORKID:"musicbrainz_workid",MUSICBRAINZ_TRMID:"musicbrainz_trmid",MUSICBRAINZ_DISCID:"musicbrainz_discid",Acoustid_Id:"acoustid_id",ACOUSTID_FINGERPRINT:"acoustid_fingerprint",MUSICIP_PUID:"musicip_puid",Weblink:"website",REPLAYGAIN_TRACK_GAIN:"replaygain_track_gain",REPLAYGAIN_TRACK_PEAK:"replaygain_track_peak",MP3GAIN_MINMAX:"replaygain_track_minmax",MP3GAIN_UNDO:"replaygain_undo"};class APEv2TagMapper extends CaseInsensitiveTagMap_1$1.CaseInsensitiveTagMap{constructor(){super(["APEv2"],apev2TagMap)}}APEv2TagMapper$1.APEv2TagMapper=APEv2TagMapper;var MP4TagMapper={};(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.MP4TagMapper=a.tagType=void 0;const s=CaseInsensitiveTagMap$1,o={"nam":"title","ART":"artist",aART:"albumartist","----:com.apple.iTunes:Band":"albumartist","alb":"album","day":"date","cmt":"comment","com":"comment",trkn:"track",disk:"disk","gen":"genre",covr:"picture","wrt":"composer","lyr":"lyrics",soal:"albumsort",sonm:"titlesort",soar:"artistsort",soaa:"albumartistsort",soco:"composersort","----:com.apple.iTunes:LYRICIST":"lyricist","----:com.apple.iTunes:CONDUCTOR":"conductor","----:com.apple.iTunes:REMIXER":"remixer","----:com.apple.iTunes:ENGINEER":"engineer","----:com.apple.iTunes:PRODUCER":"producer","----:com.apple.iTunes:DJMIXER":"djmixer","----:com.apple.iTunes:MIXER":"mixer","----:com.apple.iTunes:LABEL":"label","grp":"grouping","----:com.apple.iTunes:SUBTITLE":"subtitle","----:com.apple.iTunes:DISCSUBTITLE":"discsubtitle",cpil:"compilation",tmpo:"bpm","----:com.apple.iTunes:MOOD":"mood","----:com.apple.iTunes:MEDIA":"media","----:com.apple.iTunes:CATALOGNUMBER":"catalognumber",tvsh:"tvShow",tvsn:"tvSeason",tves:"tvEpisode",sosn:"tvShowSort",tven:"tvEpisodeId",tvnn:"tvNetwork",pcst:"podcast",purl:"podcasturl","----:com.apple.iTunes:MusicBrainz Album Status":"releasestatus","----:com.apple.iTunes:MusicBrainz Album Type":"releasetype","----:com.apple.iTunes:MusicBrainz Album Release Country":"releasecountry","----:com.apple.iTunes:SCRIPT":"script","----:com.apple.iTunes:LANGUAGE":"language",cprt:"copyright","cpy":"copyright","----:com.apple.iTunes:LICENSE":"license","too":"encodedby",pgap:"gapless","----:com.apple.iTunes:BARCODE":"barcode","----:com.apple.iTunes:ISRC":"isrc","----:com.apple.iTunes:ASIN":"asin","----:com.apple.iTunes:NOTES":"comment","----:com.apple.iTunes:MusicBrainz Track Id":"musicbrainz_recordingid","----:com.apple.iTunes:MusicBrainz Release Track Id":"musicbrainz_trackid","----:com.apple.iTunes:MusicBrainz Album Id":"musicbrainz_albumid","----:com.apple.iTunes:MusicBrainz Artist Id":"musicbrainz_artistid","----:com.apple.iTunes:MusicBrainz Album Artist Id":"musicbrainz_albumartistid","----:com.apple.iTunes:MusicBrainz Release Group Id":"musicbrainz_releasegroupid","----:com.apple.iTunes:MusicBrainz Work Id":"musicbrainz_workid","----:com.apple.iTunes:MusicBrainz TRM Id":"musicbrainz_trmid","----:com.apple.iTunes:MusicBrainz Disc Id":"musicbrainz_discid","----:com.apple.iTunes:Acoustid Id":"acoustid_id","----:com.apple.iTunes:Acoustid Fingerprint":"acoustid_fingerprint","----:com.apple.iTunes:MusicIP PUID":"musicip_puid","----:com.apple.iTunes:fingerprint":"musicip_fingerprint","----:com.apple.iTunes:replaygain_track_gain":"replaygain_track_gain","----:com.apple.iTunes:replaygain_track_peak":"replaygain_track_peak","----:com.apple.iTunes:replaygain_album_gain":"replaygain_album_gain","----:com.apple.iTunes:replaygain_album_peak":"replaygain_album_peak","----:com.apple.iTunes:replaygain_track_minmax":"replaygain_track_minmax","----:com.apple.iTunes:replaygain_album_minmax":"replaygain_album_minmax","----:com.apple.iTunes:replaygain_undo":"replaygain_undo",gnre:"genre","----:com.apple.iTunes:ALBUMARTISTSORT":"albumartistsort","----:com.apple.iTunes:ARTISTS":"artists","----:com.apple.iTunes:ORIGINALDATE":"originaldate","----:com.apple.iTunes:ORIGINALYEAR":"originalyear",desc:"description",ldes:"longDescription","mvn":"movement","mvi":"movementIndex","mvc":"movementTotal","wrk":"work",catg:"category",egid:"podcastId",hdvd:"hdVideo",keyw:"keywords",shwm:"showMovement",stik:"stik",rate:"rating"};a.tagType="iTunes";class c extends s.CaseInsensitiveTagMap{constructor(){super([a.tagType],o)}postMap(h,g){switch(h.id){case"rate":h.value={source:void 0,rating:parseFloat(h.value)/100};break}}}a.MP4TagMapper=c})(MP4TagMapper);var VorbisTagMapper$1={};Object.defineProperty(VorbisTagMapper$1,"__esModule",{value:!0});VorbisTagMapper$1.VorbisTagMapper=void 0;const GenericTagMapper_1$2=GenericTagMapper,vorbisTagMap={TITLE:"title",ARTIST:"artist",ARTISTS:"artists",ALBUMARTIST:"albumartist","ALBUM ARTIST":"albumartist",ALBUM:"album",DATE:"date",ORIGINALDATE:"originaldate",ORIGINALYEAR:"originalyear",COMMENT:"comment",TRACKNUMBER:"track",DISCNUMBER:"disk",GENRE:"genre",METADATA_BLOCK_PICTURE:"picture",COMPOSER:"composer",LYRICS:"lyrics",ALBUMSORT:"albumsort",TITLESORT:"titlesort",WORK:"work",ARTISTSORT:"artistsort",ALBUMARTISTSORT:"albumartistsort",COMPOSERSORT:"composersort",LYRICIST:"lyricist",WRITER:"writer",CONDUCTOR:"conductor",REMIXER:"remixer",ARRANGER:"arranger",ENGINEER:"engineer",PRODUCER:"producer",DJMIXER:"djmixer",MIXER:"mixer",LABEL:"label",GROUPING:"grouping",SUBTITLE:"subtitle",DISCSUBTITLE:"discsubtitle",TRACKTOTAL:"totaltracks",DISCTOTAL:"totaldiscs",COMPILATION:"compilation",RATING:"rating",BPM:"bpm",KEY:"key",MOOD:"mood",MEDIA:"media",CATALOGNUMBER:"catalognumber",RELEASESTATUS:"releasestatus",RELEASETYPE:"releasetype",RELEASECOUNTRY:"releasecountry",SCRIPT:"script",LANGUAGE:"language",COPYRIGHT:"copyright",LICENSE:"license",ENCODEDBY:"encodedby",ENCODERSETTINGS:"encodersettings",BARCODE:"barcode",ISRC:"isrc",ASIN:"asin",MUSICBRAINZ_TRACKID:"musicbrainz_recordingid",MUSICBRAINZ_RELEASETRACKID:"musicbrainz_trackid",MUSICBRAINZ_ALBUMID:"musicbrainz_albumid",MUSICBRAINZ_ARTISTID:"musicbrainz_artistid",MUSICBRAINZ_ALBUMARTISTID:"musicbrainz_albumartistid",MUSICBRAINZ_RELEASEGROUPID:"musicbrainz_releasegroupid",MUSICBRAINZ_WORKID:"musicbrainz_workid",MUSICBRAINZ_TRMID:"musicbrainz_trmid",MUSICBRAINZ_DISCID:"musicbrainz_discid",ACOUSTID_ID:"acoustid_id",ACOUSTID_ID_FINGERPRINT:"acoustid_fingerprint",MUSICIP_PUID:"musicip_puid",WEBSITE:"website",NOTES:"notes",TOTALTRACKS:"totaltracks",TOTALDISCS:"totaldiscs",DISCOGS_ARTIST_ID:"discogs_artist_id",DISCOGS_ARTISTS:"artists",DISCOGS_ARTIST_NAME:"artists",DISCOGS_ALBUM_ARTISTS:"albumartist",DISCOGS_CATALOG:"catalognumber",DISCOGS_COUNTRY:"releasecountry",DISCOGS_DATE:"originaldate",DISCOGS_LABEL:"label",DISCOGS_LABEL_ID:"discogs_label_id",DISCOGS_MASTER_RELEASE_ID:"discogs_master_release_id",DISCOGS_RATING:"discogs_rating",DISCOGS_RELEASED:"date",DISCOGS_RELEASE_ID:"discogs_release_id",DISCOGS_VOTES:"discogs_votes",CATALOGID:"catalognumber",STYLE:"genre",REPLAYGAIN_TRACK_GAIN:"replaygain_track_gain",REPLAYGAIN_TRACK_PEAK:"replaygain_track_peak",REPLAYGAIN_ALBUM_GAIN:"replaygain_album_gain",REPLAYGAIN_ALBUM_PEAK:"replaygain_album_peak",REPLAYGAIN_MINMAX:"replaygain_track_minmax",REPLAYGAIN_ALBUM_MINMAX:"replaygain_album_minmax",REPLAYGAIN_UNDO:"replaygain_undo"};class VorbisTagMapper extends GenericTagMapper_1$2.CommonTagMapper{static toRating(s,o,c){return{source:s&&s.toLowerCase(),rating:parseFloat(o)/c*GenericTagMapper_1$2.CommonTagMapper.maxRatingScore}}constructor(){super(["vorbis"],vorbisTagMap)}postMap(s){if(s.id==="RATING")s.value=VorbisTagMapper.toRating(void 0,s.value,100);else if(s.id.indexOf("RATING:")===0){const o=s.id.split(":");s.value=VorbisTagMapper.toRating(o[1],s.value,1),s.id=o[0]}}}VorbisTagMapper$1.VorbisTagMapper=VorbisTagMapper;var RiffInfoTagMap={};(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.RiffInfoTagMapper=a.riffInfoTagMap=void 0;const s=GenericTagMapper;a.riffInfoTagMap={IART:"artist",ICRD:"date",INAM:"title",TITL:"title",IPRD:"album",ITRK:"track",IPRT:"track",COMM:"comment",ICMT:"comment",ICNT:"releasecountry",GNRE:"genre",IWRI:"writer",RATE:"rating",YEAR:"year",ISFT:"encodedby",CODE:"encodedby",TURL:"website",IGNR:"genre",IENG:"engineer",ITCH:"technician",IMED:"media",IRPD:"album"};class o extends s.CommonTagMapper{constructor(){super(["exif"],a.riffInfoTagMap)}}a.RiffInfoTagMapper=o})(RiffInfoTagMap);var MatroskaTagMapper$1={};Object.defineProperty(MatroskaTagMapper$1,"__esModule",{value:!0});MatroskaTagMapper$1.MatroskaTagMapper=void 0;const CaseInsensitiveTagMap_1=CaseInsensitiveTagMap$1,ebmlTagMap={"segment:title":"title","album:ARTIST":"albumartist","album:ARTISTSORT":"albumartistsort","album:TITLE":"album","album:DATE_RECORDED":"originaldate","album:PART_NUMBER":"disk","album:TOTAL_PARTS":"totaltracks","track:ARTIST":"artist","track:ARTISTSORT":"artistsort","track:TITLE":"title","track:PART_NUMBER":"track","track:MUSICBRAINZ_TRACKID":"musicbrainz_recordingid","track:MUSICBRAINZ_ALBUMID":"musicbrainz_albumid","track:MUSICBRAINZ_ARTISTID":"musicbrainz_artistid","track:PUBLISHER":"label","track:GENRE":"genre","track:ENCODER":"encodedby","track:ENCODER_OPTIONS":"encodersettings","edition:TOTAL_PARTS":"totaldiscs",picture:"picture"};class MatroskaTagMapper extends CaseInsensitiveTagMap_1.CaseInsensitiveTagMap{constructor(){super(["matroska"],ebmlTagMap)}}MatroskaTagMapper$1.MatroskaTagMapper=MatroskaTagMapper;var AiffTagMap={};Object.defineProperty(AiffTagMap,"__esModule",{value:!0});AiffTagMap.AiffTagMapper=void 0;const GenericTagMapper_1$1=GenericTagMapper,tagMap={NAME:"title",AUTH:"artist","(c) ":"copyright",ANNO:"comment"};class AiffTagMapper extends GenericTagMapper_1$1.CommonTagMapper{constructor(){super(["AIFF"],tagMap)}}AiffTagMap.AiffTagMapper=AiffTagMapper;Object.defineProperty(CombinedTagMapper$1,"__esModule",{value:!0});CombinedTagMapper$1.CombinedTagMapper=void 0;const ID3v1TagMap_1=ID3v1TagMap,ID3v24TagMapper_1=ID3v24TagMapper$1,AsfTagMapper_1=AsfTagMapper$1,ID3v22TagMapper_1=ID3v22TagMapper,APEv2TagMapper_1=APEv2TagMapper$1,MP4TagMapper_1=MP4TagMapper,VorbisTagMapper_1=VorbisTagMapper$1,RiffInfoTagMap_1=RiffInfoTagMap,MatroskaTagMapper_1=MatroskaTagMapper$1,AiffTagMap_1=AiffTagMap;class CombinedTagMapper{constructor(){this.tagMappers={},[new ID3v1TagMap_1.ID3v1TagMapper,new ID3v22TagMapper_1.ID3v22TagMapper,new ID3v24TagMapper_1.ID3v24TagMapper,new MP4TagMapper_1.MP4TagMapper,new MP4TagMapper_1.MP4TagMapper,new VorbisTagMapper_1.VorbisTagMapper,new APEv2TagMapper_1.APEv2TagMapper,new AsfTagMapper_1.AsfTagMapper,new RiffInfoTagMap_1.RiffInfoTagMapper,new MatroskaTagMapper_1.MatroskaTagMapper,new AiffTagMap_1.AiffTagMapper].forEach(s=>{this.registerTagMapper(s)})}mapTag(s,o,c){if(this.tagMappers[s])return this.tagMappers[s].mapGenericTag(o,c);throw new Error("No generic tag mapper defined for tag-format: "+s)}registerTagMapper(s){for(const o of s.tagTypes)this.tagMappers[o]=s}}CombinedTagMapper$1.CombinedTagMapper=CombinedTagMapper;Object.defineProperty(MetadataCollector$1,"__esModule",{value:!0});MetadataCollector$1.joinArtists=MetadataCollector$1.MetadataCollector=void 0;const type_1$2=type,debug_1$n=browserExports$2,GenericTagTypes_1=GenericTagTypes,CombinedTagMapper_1=CombinedTagMapper$1,GenericTagMapper_1=GenericTagMapper,Util_1$1=Util,FileType$1=core,debug$n=(0,debug_1$n.default)("music-metadata:collector"),TagPriority=["matroska","APEv2","vorbis","ID3v2.4","ID3v2.3","ID3v2.2","exif","asf","iTunes","AIFF","ID3v1"];class MetadataCollector{constructor(s){this.opts=s,this.format={tagTypes:[],trackInfo:[]},this.native={},this.common={track:{no:null,of:null},disk:{no:null,of:null},movementIndex:{}},this.quality={warnings:[]},this.commonOrigin={},this.originPriority={},this.tagMapper=new CombinedTagMapper_1.CombinedTagMapper;let o=1;for(const c of TagPriority)this.originPriority[c]=o++;this.originPriority.artificial=500,this.originPriority.id3v1=600}hasAny(){return Object.keys(this.native).length>0}addStreamInfo(s){debug$n(`streamInfo: type=${type_1$2.TrackType[s.type]}, codec=${s.codecName}`),this.format.trackInfo.push(s)}setFormat(s,o){debug$n(`format: ${s} = ${o}`),this.format[s]=o,this.opts.observer&&this.opts.observer({metadata:this,tag:{type:"format",id:s,value:o}})}addTag(s,o,c){debug$n(`tag ${s}.${o} = ${c}`),this.native[s]||(this.format.tagTypes.push(s),this.native[s]=[]),this.native[s].push({id:o,value:c}),this.toCommon(s,o,c)}addWarning(s){this.quality.warnings.push({message:s})}postMap(s,o){switch(o.id){case"artist":if(this.commonOrigin.artist===this.originPriority[s])return this.postMap("artificial",{id:"artists",value:o.value});this.common.artists||this.setGenericTag("artificial",{id:"artists",value:o.value});break;case"artists":if((!this.common.artist||this.commonOrigin.artist===this.originPriority.artificial)&&(!this.common.artists||this.common.artists.indexOf(o.value)===-1)){const g=(this.common.artists||[]).concat([o.value]),_={id:"artist",value:joinArtists(g)};this.setGenericTag("artificial",_)}break;case"picture":this.postFixPicture(o.value).then(g=>{g!==null&&(o.value=g,this.setGenericTag(s,o))});return;case"totaltracks":this.common.track.of=GenericTagMapper_1.CommonTagMapper.toIntOrNull(o.value);return;case"totaldiscs":this.common.disk.of=GenericTagMapper_1.CommonTagMapper.toIntOrNull(o.value);return;case"movementTotal":this.common.movementIndex.of=GenericTagMapper_1.CommonTagMapper.toIntOrNull(o.value);return;case"track":case"disk":case"movementIndex":const c=this.common[o.id].of;this.common[o.id]=GenericTagMapper_1.CommonTagMapper.normalizeTrack(o.value),this.common[o.id].of=c??this.common[o.id].of;return;case"bpm":case"year":case"originalyear":o.value=parseInt(o.value,10);break;case"date":const d=parseInt(o.value.substr(0,4),10);isNaN(d)||(this.common.year=d);break;case"discogs_label_id":case"discogs_release_id":case"discogs_master_release_id":case"discogs_artist_id":case"discogs_votes":o.value=typeof o.value=="string"?parseInt(o.value,10):o.value;break;case"replaygain_track_gain":case"replaygain_track_peak":case"replaygain_album_gain":case"replaygain_album_peak":o.value=(0,Util_1$1.toRatio)(o.value);break;case"replaygain_track_minmax":o.value=o.value.split(",").map(g=>parseInt(g,10));break;case"replaygain_undo":const h=o.value.split(",").map(g=>parseInt(g,10));o.value={leftChannel:h[0],rightChannel:h[1]};break;case"gapless":case"compilation":case"podcast":case"showMovement":o.value=o.value==="1"||o.value===1;break;case"isrc":if(this.common[o.id]&&this.common[o.id].indexOf(o.value)!==-1)return;break}o.value!==null&&this.setGenericTag(s,o)}toCommonMetadata(){return{format:this.format,native:this.native,quality:this.quality,common:this.common}}async postFixPicture(s){if(s.data&&s.data.length>0){if(!s.format){const o=await FileType$1.fromBuffer(s.data);if(o)s.format=o.mime;else return null}switch(s.format=s.format.toLocaleLowerCase(),s.format){case"image/jpg":s.format="image/jpeg"}return s}return this.addWarning("Empty picture tag found"),null}toCommon(s,o,c){const d={id:o,value:c},h=this.tagMapper.mapTag(s,d,this);h&&this.postMap(s,h)}setGenericTag(s,o){debug$n(`common.${o.id} = ${o.value}`);const c=this.commonOrigin[o.id]||1e3,d=this.originPriority[s];if((0,GenericTagTypes_1.isSingleton)(o.id))if(d<=c)this.common[o.id]=o.value,this.commonOrigin[o.id]=d;else return debug$n(`Ignore native tag (singleton): ${s}.${o.id} = ${o.value}`);else if(d===c)!(0,GenericTagTypes_1.isUnique)(o.id)||this.common[o.id].indexOf(o.value)===-1?this.common[o.id].push(o.value):debug$n(`Ignore duplicate value: ${s}.${o.id} = ${o.value}`);else if(d<c)this.common[o.id]=[o.value],this.commonOrigin[o.id]=d;else return debug$n(`Ignore native tag (list): ${s}.${o.id} = ${o.value}`);this.opts.observer&&this.opts.observer({metadata:this,tag:{type:"common",id:o.id,value:o.value}})}}MetadataCollector$1.MetadataCollector=MetadataCollector;function joinArtists(a){return a.length>2?a.slice(0,a.length-1).join(", ")+" & "+a[a.length-1]:a.join(" & ")}MetadataCollector$1.joinArtists=joinArtists;var AiffParser={},ID3v2Parser$1={},FrameParser$1={},ID3v2Token={};(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.TextEncodingToken=a.ExtendedHeader=a.ID3v2Header=a.UINT32SYNCSAFE=a.AttachedPictureType=void 0;const s=lib$1,o=Util;(function(c){c[c.Other=0]="Other",c[c["32x32 pixels 'file icon' (PNG only)"]=1]="32x32 pixels 'file icon' (PNG only)",c[c["Other file icon"]=2]="Other file icon",c[c["Cover (front)"]=3]="Cover (front)",c[c["Cover (back)"]=4]="Cover (back)",c[c["Leaflet page"]=5]="Leaflet page",c[c["Media (e.g. label side of CD)"]=6]="Media (e.g. label side of CD)",c[c["Lead artist/lead performer/soloist"]=7]="Lead artist/lead performer/soloist",c[c["Artist/performer"]=8]="Artist/performer",c[c.Conductor=9]="Conductor",c[c["Band/Orchestra"]=10]="Band/Orchestra",c[c.Composer=11]="Composer",c[c["Lyricist/text writer"]=12]="Lyricist/text writer",c[c["Recording Location"]=13]="Recording Location",c[c["During recording"]=14]="During recording",c[c["During performance"]=15]="During performance",c[c["Movie/video screen capture"]=16]="Movie/video screen capture",c[c["A bright coloured fish"]=17]="A bright coloured fish",c[c.Illustration=18]="Illustration",c[c["Band/artist logotype"]=19]="Band/artist logotype",c[c["Publisher/Studio logotype"]=20]="Publisher/Studio logotype"})(a.AttachedPictureType||(a.AttachedPictureType={})),a.UINT32SYNCSAFE={get:(c,d)=>c[d+3]&127|c[d+2]<<7|c[d+1]<<14|c[d]<<21,len:4},a.ID3v2Header={len:10,get:(c,d)=>({fileIdentifier:new s.StringType(3,"ascii").get(c,d),version:{major:s.INT8.get(c,d+3),revision:s.INT8.get(c,d+4)},flags:{unsynchronisation:o.getBit(c,d+5,7),isExtendedHeader:o.getBit(c,d+5,6),expIndicator:o.getBit(c,d+5,5),footer:o.getBit(c,d+5,4)},size:a.UINT32SYNCSAFE.get(c,d+6)})},a.ExtendedHeader={len:10,get:(c,d)=>({size:s.UINT32_BE.get(c,d),extendedFlags:s.UINT16_BE.get(c,d+4),sizeOfPadding:s.UINT32_BE.get(c,d+6),crcDataPresent:o.getBit(c,d+4,31)})},a.TextEncodingToken={len:1,get:(c,d)=>{switch(c[d]){case 0:return{encoding:"latin1"};case 1:return{encoding:"utf16le",bom:!0};case 2:return{encoding:"utf16le",bom:!1};case 3:return{encoding:"utf8",bom:!1};default:return{encoding:"utf8",bom:!1}}}}})(ID3v2Token);var ID3v1Parser={},BasicParser$1={};Object.defineProperty(BasicParser$1,"__esModule",{value:!0});BasicParser$1.BasicParser=void 0;class BasicParser{init(s,o,c){return this.metadata=s,this.tokenizer=o,this.options=c,this}}BasicParser$1.BasicParser=BasicParser;var APEv2Parser$1={},APEv2Token={},FourCC={};(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.FourCcToken=void 0;const s=Util,o=/^[\x21-\x7e][\x20-\x7e\x00()]{3}/;a.FourCcToken={len:4,get:(c,d)=>{const h=c.toString("binary",d,d+a.FourCcToken.len);if(!h.match(o))throw new Error(`FourCC contains invalid characters: ${s.a2hex(h)} "${h}"`);return h},put:(c,d,h)=>{const g=Buffer.from(h,"binary");if(g.length!==4)throw new Error("Invalid length");return g.copy(c,d)}}})(FourCC);(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.isBitSet=a.parseTagFlags=a.TagField=a.TagItemHeader=a.TagFooter=a.Header=a.DescriptorParser=a.DataType=void 0;const s=lib$1,o=FourCC;(function(g){g[g.text_utf8=0]="text_utf8",g[g.binary=1]="binary",g[g.external_info=2]="external_info",g[g.reserved=3]="reserved"})(a.DataType||(a.DataType={})),a.DescriptorParser={len:52,get:(g,b)=>({ID:o.FourCcToken.get(g,b),version:s.UINT32_LE.get(g,b+4)/1e3,descriptorBytes:s.UINT32_LE.get(g,b+8),headerBytes:s.UINT32_LE.get(g,b+12),seekTableBytes:s.UINT32_LE.get(g,b+16),headerDataBytes:s.UINT32_LE.get(g,b+20),apeFrameDataBytes:s.UINT32_LE.get(g,b+24),apeFrameDataBytesHigh:s.UINT32_LE.get(g,b+28),terminatingDataBytes:s.UINT32_LE.get(g,b+32),fileMD5:new s.Uint8ArrayType(16).get(g,b+36)})},a.Header={len:24,get:(g,b)=>({compressionLevel:s.UINT16_LE.get(g,b),formatFlags:s.UINT16_LE.get(g,b+2),blocksPerFrame:s.UINT32_LE.get(g,b+4),finalFrameBlocks:s.UINT32_LE.get(g,b+8),totalFrames:s.UINT32_LE.get(g,b+12),bitsPerSample:s.UINT16_LE.get(g,b+16),channel:s.UINT16_LE.get(g,b+18),sampleRate:s.UINT32_LE.get(g,b+20)})},a.TagFooter={len:32,get:(g,b)=>({ID:new s.StringType(8,"ascii").get(g,b),version:s.UINT32_LE.get(g,b+8),size:s.UINT32_LE.get(g,b+12),fields:s.UINT32_LE.get(g,b+16),flags:d(s.UINT32_LE.get(g,b+20))})},a.TagItemHeader={len:8,get:(g,b)=>({size:s.UINT32_LE.get(g,b),flags:d(s.UINT32_LE.get(g,b+4))})};const c=g=>new s.Uint8ArrayType(g.size-a.TagFooter.len);a.TagField=c;function d(g){return{containsHeader:h(g,31),containsFooter:h(g,30),isHeader:h(g,31),readOnly:h(g,0),dataType:(g&6)>>1}}a.parseTagFlags=d;function h(g,b){return(g&1<<b)!==0}a.isBitSet=h})(APEv2Token);Object.defineProperty(APEv2Parser$1,"__esModule",{value:!0});APEv2Parser$1.APEv2Parser=void 0;const debug_1$m=browserExports$2,strtok3$4=core$1,token_types_1$2=lib$1,util$a=Util,BasicParser_1$b=BasicParser$1,APEv2Token_1=APEv2Token,debug$m=(0,debug_1$m.default)("music-metadata:parser:APEv2"),tagFormat$1="APEv2",preamble="APETAGEX";class APEv2Parser extends BasicParser_1$b.BasicParser{constructor(){super(...arguments),this.ape={}}static tryParseApeHeader(s,o,c){const d=new APEv2Parser;return d.init(s,o,c),d.tryParseApeHeader()}static calculateDuration(s){let o=s.totalFrames>1?s.blocksPerFrame*(s.totalFrames-1):0;return o+=s.finalFrameBlocks,o/s.sampleRate}static async findApeFooterOffset(s,o){const c=Buffer.alloc(APEv2Token_1.TagFooter.len);await s.randomRead(c,0,APEv2Token_1.TagFooter.len,o-APEv2Token_1.TagFooter.len);const d=APEv2Token_1.TagFooter.get(c,0);if(d.ID==="APETAGEX")return debug$m(`APE footer header at offset=${o}`),{footer:d,offset:o-d.size}}static parseTagFooter(s,o,c){const d=APEv2Token_1.TagFooter.get(o,o.length-APEv2Token_1.TagFooter.len);if(d.ID!==preamble)throw new Error("Unexpected APEv2 Footer ID preamble value.");strtok3$4.fromBuffer(o);const h=new APEv2Parser;return h.init(s,strtok3$4.fromBuffer(o),c),h.parseTags(d)}async tryParseApeHeader(){if(this.tokenizer.fileInfo.size&&this.tokenizer.fileInfo.size-this.tokenizer.position<APEv2Token_1.TagFooter.len){debug$m("No APEv2 header found, end-of-file reached");return}const s=await this.tokenizer.peekToken(APEv2Token_1.TagFooter);if(s.ID===preamble)return await this.tokenizer.ignore(APEv2Token_1.TagFooter.len),this.parseTags(s);if(debug$m(`APEv2 header not found at offset=${this.tokenizer.position}`),this.tokenizer.fileInfo.size){const o=this.tokenizer.fileInfo.size-this.tokenizer.position,c=Buffer.alloc(o);return await this.tokenizer.readBuffer(c),APEv2Parser.parseTagFooter(this.metadata,c,this.options)}}async parse(){const s=await this.tokenizer.readToken(APEv2Token_1.DescriptorParser);if(s.ID!=="MAC ")throw new Error("Unexpected descriptor ID");this.ape.descriptor=s;const o=s.descriptorBytes-APEv2Token_1.DescriptorParser.len,c=await(o>0?this.parseDescriptorExpansion(o):this.parseHeader());return await this.tokenizer.ignore(c.forwardBytes),this.tryParseApeHeader()}async parseTags(s){const o=Buffer.alloc(256);let c=s.size-APEv2Token_1.TagFooter.len;debug$m(`Parse APE tags at offset=${this.tokenizer.position}, size=${c}`);for(let d=0;d<s.fields;d++){if(c<APEv2Token_1.TagItemHeader.len){this.metadata.addWarning(`APEv2 Tag-header: ${s.fields-d} items remaining, but no more tag data to read.`);break}const h=await this.tokenizer.readToken(APEv2Token_1.TagItemHeader);c-=APEv2Token_1.TagItemHeader.len+h.size,await this.tokenizer.peekBuffer(o,{length:Math.min(o.length,c)});let g=util$a.findZero(o,0,o.length);const b=await this.tokenizer.readToken(new token_types_1$2.StringType(g,"ascii"));switch(await this.tokenizer.ignore(1),c-=b.length+1,h.flags.dataType){case APEv2Token_1.DataType.text_utf8:{const $=(await this.tokenizer.readToken(new token_types_1$2.StringType(h.size,"utf8"))).split(/\x00/g);for(const _e of $)this.metadata.addTag(tagFormat$1,b,_e);break}case APEv2Token_1.DataType.binary:if(this.options.skipCovers)await this.tokenizer.ignore(h.size);else{const _=Buffer.alloc(h.size);await this.tokenizer.readBuffer(_),g=util$a.findZero(_,0,_.length);const $=_.toString("utf8",0,g),_e=Buffer.from(_.slice(g+1));this.metadata.addTag(tagFormat$1,b,{description:$,data:_e})}break;case APEv2Token_1.DataType.external_info:debug$m(`Ignore external info ${b}`),await this.tokenizer.ignore(h.size);break;case APEv2Token_1.DataType.reserved:debug$m(`Ignore external info ${b}`),this.metadata.addWarning(`APEv2 header declares a reserved datatype for "${b}"`),await this.tokenizer.ignore(h.size);break}}}async parseDescriptorExpansion(s){return await this.tokenizer.ignore(s),this.parseHeader()}async parseHeader(){const s=await this.tokenizer.readToken(APEv2Token_1.Header);return this.metadata.setFormat("lossless",!0),this.metadata.setFormat("container","Monkey's Audio"),this.metadata.setFormat("bitsPerSample",s.bitsPerSample),this.metadata.setFormat("sampleRate",s.sampleRate),this.metadata.setFormat("numberOfChannels",s.channel),this.metadata.setFormat("duration",APEv2Parser.calculateDuration(s)),{forwardBytes:this.ape.descriptor.seekTableBytes+this.ape.descriptor.headerDataBytes+this.ape.descriptor.apeFrameDataBytes+this.ape.descriptor.terminatingDataBytes}}}APEv2Parser$1.APEv2Parser=APEv2Parser;(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.hasID3v1Header=a.ID3v1Parser=a.Genres=void 0;const s=browserExports$2,o=lib$1,c=Util,d=BasicParser$1,h=APEv2Parser$1,g=(0,s.default)("music-metadata:parser:ID3v1");a.Genres=["Blues","Classic Rock","Country","Dance","Disco","Funk","Grunge","Hip-Hop","Jazz","Metal","New Age","Oldies","Other","Pop","R&B","Rap","Reggae","Rock","Techno","Industrial","Alternative","Ska","Death Metal","Pranks","Soundtrack","Euro-Techno","Ambient","Trip-Hop","Vocal","Jazz+Funk","Fusion","Trance","Classical","Instrumental","Acid","House","Game","Sound Clip","Gospel","Noise","Alt. Rock","Bass","Soul","Punk","Space","Meditative","Instrumental Pop","Instrumental Rock","Ethnic","Gothic","Darkwave","Techno-Industrial","Electronic","Pop-Folk","Eurodance","Dream","Southern Rock","Comedy","Cult","Gangsta Rap","Top 40","Christian Rap","Pop/Funk","Jungle","Native American","Cabaret","New Wave","Psychedelic","Rave","Showtunes","Trailer","Lo-Fi","Tribal","Acid Punk","Acid Jazz","Polka","Retro","Musical","Rock & Roll","Hard Rock","Folk","Folk/Rock","National Folk","Swing","Fast-Fusion","Bebob","Latin","Revival","Celtic","Bluegrass","Avantgarde","Gothic Rock","Progressive Rock","Psychedelic Rock","Symphonic Rock","Slow Rock","Big Band","Chorus","Easy Listening","Acoustic","Humour","Speech","Chanson","Opera","Chamber Music","Sonata","Symphony","Booty Bass","Primus","Porn Groove","Satire","Slow Jam","Club","Tango","Samba","Folklore","Ballad","Power Ballad","Rhythmic Soul","Freestyle","Duet","Punk Rock","Drum Solo","A Cappella","Euro-House","Dance Hall","Goa","Drum & Bass","Club-House","Hardcore","Terror","Indie","BritPop","Negerpunk","Polsk Punk","Beat","Christian Gangsta Rap","Heavy Metal","Black Metal","Crossover","Contemporary Christian","Christian Rock","Merengue","Salsa","Thrash Metal","Anime","JPop","Synthpop","Abstract","Art Rock","Baroque","Bhangra","Big Beat","Breakbeat","Chillout","Downtempo","Dub","EBM","Eclectic","Electro","Electroclash","Emo","Experimental","Garage","Global","IDM","Illbient","Industro-Goth","Jam Band","Krautrock","Leftfield","Lounge","Math Rock","New Romantic","Nu-Breakz","Post-Punk","Post-Rock","Psytrance","Shoegaze","Space Rock","Trop Rock","World Music","Neoclassical","Audiobook","Audio Theatre","Neue Deutsche Welle","Podcast","Indie Rock","G-Funk","Dubstep","Garage Rock","Psybient"];const b={len:128,get:(tt,et)=>{const nt=new _(3).get(tt,et);return nt==="TAG"?{header:nt,title:new _(30).get(tt,et+3),artist:new _(30).get(tt,et+33),album:new _(30).get(tt,et+63),year:new _(4).get(tt,et+93),comment:new _(28).get(tt,et+97),zeroByte:o.UINT8.get(tt,et+127),track:o.UINT8.get(tt,et+126),genre:o.UINT8.get(tt,et+127)}:null}};class _ extends o.StringType{constructor(et){super(et,"binary")}get(et,nt){let ot=super.get(et,nt);return ot=c.trimRightNull(ot),ot=ot.trim(),ot.length>0?ot:void 0}}class $ extends d.BasicParser{static getGenre(et){if(et<a.Genres.length)return a.Genres[et]}async parse(){if(!this.tokenizer.fileInfo.size){g("Skip checking for ID3v1 because the file-size is unknown");return}if(this.options.apeHeader){this.tokenizer.ignore(this.options.apeHeader.offset-this.tokenizer.position);const ot=new h.APEv2Parser;ot.init(this.metadata,this.tokenizer,this.options),await ot.parseTags(this.options.apeHeader.footer)}const et=this.tokenizer.fileInfo.size-b.len;if(this.tokenizer.position>et){g("Already consumed the last 128 bytes");return}const nt=await this.tokenizer.readToken(b,et);if(nt){g("ID3v1 header found at: pos=%s",this.tokenizer.fileInfo.size-b.len);for(const st of["title","artist","album","comment","track","year"])nt[st]&&nt[st]!==""&&this.addTag(st,nt[st]);const ot=$.getGenre(nt.genre);ot&&this.addTag("genre",ot)}else g("ID3v1 header not found at: pos=%s",this.tokenizer.fileInfo.size-b.len)}addTag(et,nt){this.metadata.addTag("ID3v1",et,nt)}}a.ID3v1Parser=$;async function _e(tt){if(tt.fileSize>=128){const et=Buffer.alloc(3);return await tt.randomRead(et,0,et.length,tt.fileSize-128),et.toString("binary")==="TAG"}return!1}a.hasID3v1Header=_e})(ID3v1Parser);Object.defineProperty(FrameParser$1,"__esModule",{value:!0});FrameParser$1.FrameParser=FrameParser$1.parseGenre=void 0;const debug_1$l=browserExports$2,Token$r=lib$1,util$9=Util,ID3v2Token_1$3=ID3v2Token,ID3v1Parser_1$3=ID3v1Parser,debug$l=(0,debug_1$l.default)("music-metadata:id3v2:frame-parser"),defaultEnc="latin1";function parseGenre(a){const s=[];let o,c="";for(const d of a)if(typeof o=="string")if(d==="("&&o==="")c+="(",o=void 0;else if(d===")"){c!==""&&(s.push(c),c="");const h=parseGenreCode(o);h&&s.push(h),o=void 0}else o+=d;else d==="("?o="":c+=d;return c&&(s.length===0&&c.match(/^\d*$/)&&(c=ID3v1Parser_1$3.Genres[c]),s.push(c)),s}FrameParser$1.parseGenre=parseGenre;function parseGenreCode(a){if(a==="RX")return"Remix";if(a==="CR")return"Cover";if(a.match(/^\d*$/))return ID3v1Parser_1$3.Genres[a]}class FrameParser{constructor(s,o){this.major=s,this.warningCollector=o}readData(s,o,c){if(s.length===0){this.warningCollector.addWarning(`id3v2.${this.major} header has empty tag type=${o}`);return}const{encoding:d,bom:h}=ID3v2Token_1$3.TextEncodingToken.get(s,0),g=s.length;let b=0,_=[];const $=FrameParser.getNullTerminatorLength(d);let _e;const tt={};switch(debug$l(`Parsing tag type=${o}, encoding=${d}, bom=${h}`),o!=="TXXX"&&o[0]==="T"?"T*":o){case"T*":case"IPLS":case"MVIN":case"MVNM":case"PCS":case"PCST":let et;try{et=util$9.decodeString(s.slice(1),d).replace(/\x00+$/,"")}catch(st){this.warningCollector.addWarning(`id3v2.${this.major} type=${o} header has invalid string value: ${st.message}`)}switch(o){case"TMCL":case"TIPL":case"IPLS":_=this.splitValue(o,et),_=FrameParser.functionList(_);break;case"TRK":case"TRCK":case"TPOS":_=et;break;case"TCOM":case"TEXT":case"TOLY":case"TOPE":case"TPE1":case"TSRC":_=this.splitValue(o,et);break;case"TCO":case"TCON":_=this.splitValue(o,et).map(st=>parseGenre(st)).reduce((st,pt)=>st.concat(pt),[]);break;case"PCS":case"PCST":_=this.major>=4?this.splitValue(o,et):[et],_=Array.isArray(_)&&_[0]===""?1:0;break;default:_=this.major>=4?this.splitValue(o,et):[et]}break;case"TXXX":_=FrameParser.readIdentifierAndData(s,b+1,g,d),_={description:_.id,text:this.splitValue(o,util$9.decodeString(_.data,d).replace(/\x00+$/,""))};break;case"PIC":case"APIC":if(c){const st={};switch(b+=1,this.major){case 2:st.format=util$9.decodeString(s.slice(b,b+3),"latin1"),b+=3;break;case 3:case 4:_e=util$9.findZero(s,b,g,defaultEnc),st.format=util$9.decodeString(s.slice(b,_e),defaultEnc),b=_e+1;break;default:throw new Error("Warning: unexpected major versionIndex: "+this.major)}st.format=FrameParser.fixPictureMimeType(st.format),st.type=ID3v2Token_1$3.AttachedPictureType[s[b]],b+=1,_e=util$9.findZero(s,b,g,d),st.description=util$9.decodeString(s.slice(b,_e),d),b=_e+$,st.data=Buffer.from(s.slice(b,g)),_=st}break;case"CNT":case"PCNT":_=Token$r.UINT32_BE.get(s,0);break;case"SYLT":for(b+=7,_=[];b<g;){const st=s.slice(b,b=util$9.findZero(s,b,g,d));b+=5,_.push(util$9.decodeString(st,d))}break;case"ULT":case"USLT":case"COM":case"COMM":b+=1,tt.language=util$9.decodeString(s.slice(b,b+3),defaultEnc),b+=3,_e=util$9.findZero(s,b,g,d),tt.description=util$9.decodeString(s.slice(b,_e),d),b=_e+$,tt.text=util$9.decodeString(s.slice(b,g),d).replace(/\x00+$/,""),_=[tt];break;case"UFID":_=FrameParser.readIdentifierAndData(s,b,g,defaultEnc),_={owner_identifier:_.id,identifier:_.data};break;case"PRIV":_=FrameParser.readIdentifierAndData(s,b,g,defaultEnc),_={owner_identifier:_.id,data:_.data};break;case"POPM":_e=util$9.findZero(s,b,g,defaultEnc);const nt=util$9.decodeString(s.slice(b,_e),defaultEnc);b=_e+1;const ot=g-b;_={email:nt,rating:Token$r.UINT8.get(s,b),counter:ot>=5?Token$r.UINT32_BE.get(s,b+1):void 0};break;case"GEOB":{_e=util$9.findZero(s,b+1,g,d);const st=util$9.decodeString(s.slice(b+1,_e),defaultEnc);b=_e+1,_e=util$9.findZero(s,b,g-b,d);const pt=util$9.decodeString(s.slice(b,_e),defaultEnc);b=_e+1,_e=util$9.findZero(s,b,g-b,d);const at=util$9.decodeString(s.slice(b,_e),defaultEnc);_={type:st,filename:pt,description:at,data:s.slice(b+1,g)};break}case"WCOM":case"WCOP":case"WOAF":case"WOAR":case"WOAS":case"WORS":case"WPAY":case"WPUB":_=util$9.decodeString(s.slice(b,_e),defaultEnc);break;case"WXXX":{_e=util$9.findZero(s,b+1,g,d);const st=util$9.decodeString(s.slice(b+1,_e),d);b=_e+(d==="utf16le"?2:1),_={description:st,url:util$9.decodeString(s.slice(b,g),defaultEnc)};break}case"WFD":case"WFED":_=util$9.decodeString(s.slice(b+1,util$9.findZero(s,b+1,g,d)),d);break;case"MCDI":{_=s.slice(0,g);break}default:debug$l("Warning: unsupported id3v2-tag-type: "+o);break}return _}static fixPictureMimeType(s){switch(s=s.toLocaleLowerCase(),s){case"jpg":return"image/jpeg";case"png":return"image/png"}return s}static functionList(s){const o={};for(let c=0;c+1<s.length;c+=2){const d=s[c+1].split(",");o[s[c]]=o.hasOwnProperty(s[c])?o[s[c]].concat(d):d}return o}splitValue(s,o){let c;return this.major<4?(c=o.split(/\x00/g),c.length>1?this.warningCollector.addWarning(`ID3v2.${this.major} ${s} uses non standard null-separator.`):c=o.split(/\//g)):c=o.split(/\x00/g),FrameParser.trimArray(c)}static trimArray(s){return s.map(o=>o.replace(/\x00+$/,"").trim())}static readIdentifierAndData(s,o,c,d){const h=util$9.findZero(s,o,c,d),g=util$9.decodeString(s.slice(o,h),d);return o=h+FrameParser.getNullTerminatorLength(d),{id:g,data:s.slice(o,c)}}static getNullTerminatorLength(s){return s==="utf16le"?2:1}}FrameParser$1.FrameParser=FrameParser;Object.defineProperty(ID3v2Parser$1,"__esModule",{value:!0});ID3v2Parser$1.ID3v2Parser=void 0;const Token$q=lib$1,util$8=Util,FrameParser_1=FrameParser$1,ID3v2Token_1$2=ID3v2Token;class ID3v2Parser{static removeUnsyncBytes(s){let o=0,c=0;for(;o<s.length-1;)o!==c&&(s[c]=s[o]),o+=s[o]===255&&s[o+1]===0?2:1,c++;return o<s.length&&(s[c++]=s[o]),s.slice(0,c)}static getFrameHeaderLength(s){switch(s){case 2:return 6;case 3:case 4:return 10;default:throw new Error("header versionIndex is incorrect")}}static readFrameFlags(s){return{status:{tag_alter_preservation:util$8.getBit(s,0,6),file_alter_preservation:util$8.getBit(s,0,5),read_only:util$8.getBit(s,0,4)},format:{grouping_identity:util$8.getBit(s,1,7),compression:util$8.getBit(s,1,3),encryption:util$8.getBit(s,1,2),unsynchronisation:util$8.getBit(s,1,1),data_length_indicator:util$8.getBit(s,1,0)}}}static readFrameData(s,o,c,d,h){const g=new FrameParser_1.FrameParser(c,h);switch(c){case 2:return g.readData(s,o.id,d);case 3:case 4:return o.flags.format.unsynchronisation&&(s=ID3v2Parser.removeUnsyncBytes(s)),o.flags.format.data_length_indicator&&(s=s.slice(4,s.length)),g.readData(s,o.id,d);default:throw new Error("Unexpected majorVer: "+c)}}static makeDescriptionTagName(s,o){return s+(o?":"+o:"")}async parse(s,o,c){this.tokenizer=o,this.metadata=s,this.options=c;const d=await this.tokenizer.readToken(ID3v2Token_1$2.ID3v2Header);if(d.fileIdentifier!=="ID3")throw new Error("expected ID3-header file-identifier 'ID3' was not found");return this.id3Header=d,this.headerType="ID3v2."+d.version.major,d.flags.isExtendedHeader?this.parseExtendedHeader():this.parseId3Data(d.size)}async parseExtendedHeader(){const s=await this.tokenizer.readToken(ID3v2Token_1$2.ExtendedHeader),o=s.size-ID3v2Token_1$2.ExtendedHeader.len;return o>0?this.parseExtendedHeaderData(o,s.size):this.parseId3Data(this.id3Header.size-s.size)}async parseExtendedHeaderData(s,o){return await this.tokenizer.ignore(s),this.parseId3Data(this.id3Header.size-o)}async parseId3Data(s){const o=await this.tokenizer.readToken(new Token$q.Uint8ArrayType(s));for(const c of this.parseMetadata(o))if(c.id==="TXXX"){if(c.value)for(const d of c.value.text)this.addTag(ID3v2Parser.makeDescriptionTagName(c.id,c.value.description),d)}else if(c.id==="COM")for(const d of c.value)this.addTag(ID3v2Parser.makeDescriptionTagName(c.id,d.description),d.text);else if(c.id==="COMM")for(const d of c.value)this.addTag(ID3v2Parser.makeDescriptionTagName(c.id,d.description),d);else if(Array.isArray(c.value))for(const d of c.value)this.addTag(c.id,d);else this.addTag(c.id,c.value)}addTag(s,o){this.metadata.addTag(this.headerType,s,o)}parseMetadata(s){let o=0;const c=[];for(;o!==s.length;){const d=ID3v2Parser.getFrameHeaderLength(this.id3Header.version.major);if(o+d>s.length){this.metadata.addWarning("Illegal ID3v2 tag length");break}const h=s.slice(o,o+=d),g=this.readFrameHeader(h,this.id3Header.version.major),b=s.slice(o,o+=g.length),_=ID3v2Parser.readFrameData(b,g,this.id3Header.version.major,!this.options.skipCovers,this.metadata);_&&c.push({id:g.id,value:_})}return c}readFrameHeader(s,o){let c;switch(o){case 2:c={id:Buffer.from(s.slice(0,3)).toString("ascii"),length:Token$q.UINT24_BE.get(s,3)},c.id.match(/[A-Z0-9]{3}/g)||this.metadata.addWarning(`Invalid ID3v2.${this.id3Header.version.major} frame-header-ID: ${c.id}`);break;case 3:case 4:c={id:Buffer.from(s.slice(0,4)).toString("ascii"),length:(o===4?ID3v2Token_1$2.UINT32SYNCSAFE:Token$q.UINT32_BE).get(s,4),flags:ID3v2Parser.readFrameFlags(s.slice(8,10))},c.id.match(/[A-Z0-9]{4}/g)||this.metadata.addWarning(`Invalid ID3v2.${this.id3Header.version.major} frame-header-ID: ${c.id}`);break;default:throw new Error("Unexpected majorVer: "+o)}return c}}ID3v2Parser$1.ID3v2Parser=ID3v2Parser;var AiffToken$1={};Object.defineProperty(AiffToken$1,"__esModule",{value:!0});AiffToken$1.Common=void 0;const Token$p=lib$1,FourCC_1$a=FourCC;class Common{constructor(s,o){this.isAifc=o;const c=o?22:18;if(s.chunkSize<c)throw new Error(`COMMON CHUNK size should always be at least ${c}`);this.len=s.chunkSize}get(s,o){const c=s.readUInt16BE(o+8)-16398,d=s.readUInt16BE(o+8+2),h={numChannels:s.readUInt16BE(o),numSampleFrames:s.readUInt32BE(o+2),sampleSize:s.readUInt16BE(o+6),sampleRate:c<0?d>>Math.abs(c):d<<c};if(this.isAifc){if(h.compressionType=FourCC_1$a.FourCcToken.get(s,o+18),this.len>22){const g=s.readInt8(o+22);if(g>0){const b=(g+1)%2;if(23+g+b===this.len)h.compressionName=new Token$p.StringType(g,"binary").get(s,o+23);else throw new Error("Illegal pstring length")}else h.compressionName=void 0}}else h.compressionName="PCM";return h}}AiffToken$1.Common=Common;var iff$1={};Object.defineProperty(iff$1,"__esModule",{value:!0});iff$1.Header=void 0;const Token$o=lib$1,FourCC_1$9=FourCC;iff$1.Header={len:8,get:(a,s)=>({chunkID:FourCC_1$9.FourCcToken.get(a,s),chunkSize:Number(BigInt(Token$o.UINT32_BE.get(a,s+4)))})};Object.defineProperty(AiffParser,"__esModule",{value:!0});AiffParser.AIFFParser=void 0;const Token$n=lib$1,debug_1$k=browserExports$2,strtok3$3=core$1,ID3v2Parser_1$4=ID3v2Parser$1,FourCC_1$8=FourCC,BasicParser_1$a=BasicParser$1,AiffToken=AiffToken$1,iff=iff$1,debug$k=(0,debug_1$k.default)("music-metadata:parser:aiff"),compressionTypes={NONE:"not compressed	PCM	Apple Computer",sowt:"PCM (byte swapped)",fl32:"32-bit floating point IEEE 32-bit float",fl64:"64-bit floating point IEEE 64-bit float	Apple Computer",alaw:"ALaw 2:1	8-bit ITU-T G.711 A-law",ulaw:"Law 2:1	8-bit ITU-T G.711 -law	Apple Computer",ULAW:"CCITT G.711 u-law 8-bit ITU-T G.711 -law",ALAW:"CCITT G.711 A-law 8-bit ITU-T G.711 A-law",FL32:"Float 32	IEEE 32-bit float "};class AIFFParser extends BasicParser_1$a.BasicParser{async parse(){if((await this.tokenizer.readToken(iff.Header)).chunkID!=="FORM")throw new Error("Invalid Chunk-ID, expected 'FORM'");const o=await this.tokenizer.readToken(FourCC_1$8.FourCcToken);switch(o){case"AIFF":this.metadata.setFormat("container",o),this.isCompressed=!1;break;case"AIFC":this.metadata.setFormat("container","AIFF-C"),this.isCompressed=!0;break;default:throw Error("Unsupported AIFF type: "+o)}this.metadata.setFormat("lossless",!this.isCompressed);try{for(;!this.tokenizer.fileInfo.size||this.tokenizer.fileInfo.size-this.tokenizer.position>=iff.Header.len;){debug$k("Reading AIFF chunk at offset="+this.tokenizer.position);const c=await this.tokenizer.readToken(iff.Header),d=2*Math.round(c.chunkSize/2),h=await this.readData(c);await this.tokenizer.ignore(d-h)}}catch(c){if(c instanceof strtok3$3.EndOfStreamError)debug$k("End-of-stream");else throw c}}async readData(s){var o;switch(s.chunkID){case"COMM":const c=await this.tokenizer.readToken(new AiffToken.Common(s,this.isCompressed));return this.metadata.setFormat("bitsPerSample",c.sampleSize),this.metadata.setFormat("sampleRate",c.sampleRate),this.metadata.setFormat("numberOfChannels",c.numChannels),this.metadata.setFormat("numberOfSamples",c.numSampleFrames),this.metadata.setFormat("duration",c.numSampleFrames/c.sampleRate),this.metadata.setFormat("codec",(o=c.compressionName)!==null&&o!==void 0?o:compressionTypes[c.compressionType]),s.chunkSize;case"ID3 ":const d=await this.tokenizer.readToken(new Token$n.Uint8ArrayType(s.chunkSize)),h=strtok3$3.fromBuffer(d);return await new ID3v2Parser_1$4.ID3v2Parser().parse(this.metadata,h,this.options),s.chunkSize;case"SSND":return this.metadata.format.duration&&this.metadata.setFormat("bitrate",8*s.chunkSize/this.metadata.format.duration),0;case"NAME":case"AUTH":case"(c) ":case"ANNO":return this.readTextChunk(s);default:return debug$k(`Ignore chunk id=${s.chunkID}, size=${s.chunkSize}`),0}}async readTextChunk(s){return(await this.tokenizer.readToken(new Token$n.StringType(s.chunkSize,"ascii"))).split("\0").map(c=>c.trim()).filter(c=>c&&c.length>0).forEach(c=>{this.metadata.addTag("AIFF",s.chunkID,c.trim())}),s.chunkSize}}AiffParser.AIFFParser=AIFFParser;var AsfParser$1={},GUID$1={};Object.defineProperty(GUID$1,"__esModule",{value:!0});class GUID{static fromBin(s,o=0){return new GUID(this.decode(s,o))}static decode(s,o=0){return(s.readUInt32LE(o).toString(16)+"-"+s.readUInt16LE(o+4).toString(16)+"-"+s.readUInt16LE(o+6).toString(16)+"-"+s.readUInt16BE(o+8).toString(16)+"-"+s.slice(o+10,o+16).toString("hex")).toUpperCase()}static decodeMediaType(s){switch(s.str){case GUID.AudioMedia.str:return"audio";case GUID.VideoMedia.str:return"video";case GUID.CommandMedia.str:return"command";case GUID.Degradable_JPEG_Media.str:return"degradable-jpeg";case GUID.FileTransferMedia.str:return"file-transfer";case GUID.BinaryMedia.str:return"binary"}}static encode(s){const o=Buffer.alloc(16);return o.writeUInt32LE(parseInt(s.slice(0,8),16),0),o.writeUInt16LE(parseInt(s.slice(9,13),16),4),o.writeUInt16LE(parseInt(s.slice(14,18),16),6),Buffer.from(s.slice(19,23),"hex").copy(o,8),Buffer.from(s.slice(24),"hex").copy(o,10),o}constructor(s){this.str=s}equals(s){return this.str===s.str}toBin(){return GUID.encode(this.str)}}GUID.HeaderObject=new GUID("75B22630-668E-11CF-A6D9-00AA0062CE6C");GUID.DataObject=new GUID("75B22636-668E-11CF-A6D9-00AA0062CE6C");GUID.SimpleIndexObject=new GUID("33000890-E5B1-11CF-89F4-00A0C90349CB");GUID.IndexObject=new GUID("D6E229D3-35DA-11D1-9034-00A0C90349BE");GUID.MediaObjectIndexObject=new GUID("FEB103F8-12AD-4C64-840F-2A1D2F7AD48C");GUID.TimecodeIndexObject=new GUID("3CB73FD0-0C4A-4803-953D-EDF7B6228F0C");GUID.FilePropertiesObject=new GUID("8CABDCA1-A947-11CF-8EE4-00C00C205365");GUID.StreamPropertiesObject=new GUID("B7DC0791-A9B7-11CF-8EE6-00C00C205365");GUID.HeaderExtensionObject=new GUID("5FBF03B5-A92E-11CF-8EE3-00C00C205365");GUID.CodecListObject=new GUID("86D15240-311D-11D0-A3A4-00A0C90348F6");GUID.ScriptCommandObject=new GUID("1EFB1A30-0B62-11D0-A39B-00A0C90348F6");GUID.MarkerObject=new GUID("F487CD01-A951-11CF-8EE6-00C00C205365");GUID.BitrateMutualExclusionObject=new GUID("D6E229DC-35DA-11D1-9034-00A0C90349BE");GUID.ErrorCorrectionObject=new GUID("75B22635-668E-11CF-A6D9-00AA0062CE6C");GUID.ContentDescriptionObject=new GUID("75B22633-668E-11CF-A6D9-00AA0062CE6C");GUID.ExtendedContentDescriptionObject=new GUID("D2D0A440-E307-11D2-97F0-00A0C95EA850");GUID.ContentBrandingObject=new GUID("2211B3FA-BD23-11D2-B4B7-00A0C955FC6E");GUID.StreamBitratePropertiesObject=new GUID("7BF875CE-468D-11D1-8D82-006097C9A2B2");GUID.ContentEncryptionObject=new GUID("2211B3FB-BD23-11D2-B4B7-00A0C955FC6E");GUID.ExtendedContentEncryptionObject=new GUID("298AE614-2622-4C17-B935-DAE07EE9289C");GUID.DigitalSignatureObject=new GUID("2211B3FC-BD23-11D2-B4B7-00A0C955FC6E");GUID.PaddingObject=new GUID("1806D474-CADF-4509-A4BA-9AABCB96AAE8");GUID.ExtendedStreamPropertiesObject=new GUID("14E6A5CB-C672-4332-8399-A96952065B5A");GUID.AdvancedMutualExclusionObject=new GUID("A08649CF-4775-4670-8A16-6E35357566CD");GUID.GroupMutualExclusionObject=new GUID("D1465A40-5A79-4338-B71B-E36B8FD6C249");GUID.StreamPrioritizationObject=new GUID("D4FED15B-88D3-454F-81F0-ED5C45999E24");GUID.BandwidthSharingObject=new GUID("A69609E6-517B-11D2-B6AF-00C04FD908E9");GUID.LanguageListObject=new GUID("7C4346A9-EFE0-4BFC-B229-393EDE415C85");GUID.MetadataObject=new GUID("C5F8CBEA-5BAF-4877-8467-AA8C44FA4CCA");GUID.MetadataLibraryObject=new GUID("44231C94-9498-49D1-A141-1D134E457054");GUID.IndexParametersObject=new GUID("D6E229DF-35DA-11D1-9034-00A0C90349BE");GUID.MediaObjectIndexParametersObject=new GUID("6B203BAD-3F11-48E4-ACA8-D7613DE2CFA7");GUID.TimecodeIndexParametersObject=new GUID("F55E496D-9797-4B5D-8C8B-604DFE9BFB24");GUID.CompatibilityObject=new GUID("26F18B5D-4584-47EC-9F5F-0E651F0452C9");GUID.AdvancedContentEncryptionObject=new GUID("43058533-6981-49E6-9B74-AD12CB86D58C");GUID.AudioMedia=new GUID("F8699E40-5B4D-11CF-A8FD-00805F5C442B");GUID.VideoMedia=new GUID("BC19EFC0-5B4D-11CF-A8FD-00805F5C442B");GUID.CommandMedia=new GUID("59DACFC0-59E6-11D0-A3AC-00A0C90348F6");GUID.JFIF_Media=new GUID("B61BE100-5B4E-11CF-A8FD-00805F5C442B");GUID.Degradable_JPEG_Media=new GUID("35907DE0-E415-11CF-A917-00805F5C442B");GUID.FileTransferMedia=new GUID("91BD222C-F21C-497A-8B6D-5AA86BFC0185");GUID.BinaryMedia=new GUID("3AFB65E2-47EF-40F2-AC2C-70A90D71D343");GUID.ASF_Index_Placeholder_Object=new GUID("D9AADE20-7C17-4F9C-BC28-8555DD98E2A2");GUID$1.default=GUID;var AsfObject$1={},AsfUtil$1={};Object.defineProperty(AsfUtil$1,"__esModule",{value:!0});AsfUtil$1.AsfUtil=void 0;const Token$m=lib$1,util$7=Util;class AsfUtil{static getParserForAttr(s){return AsfUtil.attributeParsers[s]}static parseUnicodeAttr(s){return util$7.stripNulls(util$7.decodeString(s,"utf16le"))}static parseByteArrayAttr(s){return Buffer.from(s)}static parseBoolAttr(s,o=0){return AsfUtil.parseWordAttr(s,o)===1}static parseDWordAttr(s,o=0){return s.readUInt32LE(o)}static parseQWordAttr(s,o=0){return Token$m.UINT64_LE.get(s,o)}static parseWordAttr(s,o=0){return s.readUInt16LE(o)}}AsfUtil.attributeParsers=[AsfUtil.parseUnicodeAttr,AsfUtil.parseByteArrayAttr,AsfUtil.parseBoolAttr,AsfUtil.parseDWordAttr,AsfUtil.parseQWordAttr,AsfUtil.parseWordAttr,AsfUtil.parseByteArrayAttr];AsfUtil$1.AsfUtil=AsfUtil;(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.WmPictureToken=a.MetadataLibraryObjectState=a.MetadataObjectState=a.ExtendedStreamPropertiesObjectState=a.ExtendedContentDescriptionObjectState=a.ContentDescriptionObjectState=a.readCodecEntries=a.HeaderExtensionObject=a.StreamPropertiesObject=a.FilePropertiesObject=a.IgnoreObjectState=a.State=a.HeaderObjectToken=a.TopLevelHeaderObjectToken=a.DataType=void 0;const s=Util,o=lib$1,c=GUID$1,d=AsfUtil$1,h=ID3v2Token;(function(gt){gt[gt.UnicodeString=0]="UnicodeString",gt[gt.ByteArray=1]="ByteArray",gt[gt.Bool=2]="Bool",gt[gt.DWord=3]="DWord",gt[gt.QWord=4]="QWord",gt[gt.Word=5]="Word"})(a.DataType||(a.DataType={})),a.TopLevelHeaderObjectToken={len:30,get:(gt,dt)=>({objectId:c.default.fromBin(new o.BufferType(16).get(gt,dt)),objectSize:Number(o.UINT64_LE.get(gt,dt+16)),numberOfHeaderObjects:o.UINT32_LE.get(gt,dt+24)})},a.HeaderObjectToken={len:24,get:(gt,dt)=>({objectId:c.default.fromBin(new o.BufferType(16).get(gt,dt)),objectSize:Number(o.UINT64_LE.get(gt,dt+16))})};class g{constructor(dt){this.len=Number(dt.objectSize)-a.HeaderObjectToken.len}postProcessTag(dt,vt,kt,jt){if(vt==="WM/Picture")dt.push({id:vt,value:bt.fromBuffer(jt)});else{const Lt=d.AsfUtil.getParserForAttr(kt);if(!Lt)throw new Error("unexpected value headerType: "+kt);dt.push({id:vt,value:Lt(jt)})}}}a.State=g;class b extends g{constructor(dt){super(dt)}get(dt,vt){return null}}a.IgnoreObjectState=b;class _ extends g{constructor(dt){super(dt)}get(dt,vt){return{fileId:c.default.fromBin(dt,vt),fileSize:o.UINT64_LE.get(dt,vt+16),creationDate:o.UINT64_LE.get(dt,vt+24),dataPacketsCount:o.UINT64_LE.get(dt,vt+32),playDuration:o.UINT64_LE.get(dt,vt+40),sendDuration:o.UINT64_LE.get(dt,vt+48),preroll:o.UINT64_LE.get(dt,vt+56),flags:{broadcast:s.getBit(dt,vt+64,24),seekable:s.getBit(dt,vt+64,25)},minimumDataPacketSize:o.UINT32_LE.get(dt,vt+68),maximumDataPacketSize:o.UINT32_LE.get(dt,vt+72),maximumBitrate:o.UINT32_LE.get(dt,vt+76)}}}_.guid=c.default.FilePropertiesObject,a.FilePropertiesObject=_;class $ extends g{constructor(dt){super(dt)}get(dt,vt){return{streamType:c.default.decodeMediaType(c.default.fromBin(dt,vt)),errorCorrectionType:c.default.fromBin(dt,vt+8)}}}$.guid=c.default.StreamPropertiesObject,a.StreamPropertiesObject=$;class _e{constructor(){this.len=22}get(dt,vt){return{reserved1:c.default.fromBin(dt,vt),reserved2:dt.readUInt16LE(vt+16),extensionDataSize:dt.readUInt32LE(vt+18)}}}_e.guid=c.default.HeaderExtensionObject,a.HeaderExtensionObject=_e;const tt={len:20,get:(gt,dt)=>({entryCount:gt.readUInt16LE(dt+16)})};async function et(gt){const dt=await gt.readNumber(o.UINT16_LE);return(await gt.readToken(new o.StringType(dt*2,"utf16le"))).replace("\0","")}async function nt(gt){const dt=await gt.readToken(tt),vt=[];for(let kt=0;kt<dt.entryCount;++kt)vt.push(await st(gt));return vt}a.readCodecEntries=nt;async function ot(gt){const dt=await gt.readNumber(o.UINT16_LE),vt=Buffer.alloc(dt);return await gt.readBuffer(vt),vt}async function st(gt){const dt=await gt.readNumber(o.UINT16_LE);return{type:{videoCodec:(dt&1)===1,audioCodec:(dt&2)===2},codecName:await et(gt),description:await et(gt),information:await ot(gt)}}class pt extends g{constructor(dt){super(dt)}get(dt,vt){const kt=[];let jt=vt+10;for(let Lt=0;Lt<pt.contentDescTags.length;++Lt){const Mt=dt.readUInt16LE(vt+Lt*2);if(Mt>0){const Pt=pt.contentDescTags[Lt],Yt=jt+Mt;kt.push({id:Pt,value:d.AsfUtil.parseUnicodeAttr(dt.slice(jt,Yt))}),jt=Yt}}return kt}}pt.guid=c.default.ContentDescriptionObject,pt.contentDescTags=["Title","Author","Copyright","Description","Rating"],a.ContentDescriptionObjectState=pt;class at extends g{constructor(dt){super(dt)}get(dt,vt){const kt=[],jt=dt.readUInt16LE(vt);let Lt=vt+2;for(let Mt=0;Mt<jt;Mt+=1){const Pt=dt.readUInt16LE(Lt);Lt+=2;const Yt=d.AsfUtil.parseUnicodeAttr(dt.slice(Lt,Lt+Pt));Lt+=Pt;const ir=dt.readUInt16LE(Lt);Lt+=2;const rr=dt.readUInt16LE(Lt);Lt+=2;const dr=dt.slice(Lt,Lt+rr);Lt+=rr,this.postProcessTag(kt,Yt,ir,dr)}return kt}}at.guid=c.default.ExtendedContentDescriptionObject,a.ExtendedContentDescriptionObjectState=at;class ht extends g{constructor(dt){super(dt)}get(dt,vt){return{startTime:o.UINT64_LE.get(dt,vt),endTime:o.UINT64_LE.get(dt,vt+8),dataBitrate:dt.readInt32LE(vt+12),bufferSize:dt.readInt32LE(vt+16),initialBufferFullness:dt.readInt32LE(vt+20),alternateDataBitrate:dt.readInt32LE(vt+24),alternateBufferSize:dt.readInt32LE(vt+28),alternateInitialBufferFullness:dt.readInt32LE(vt+32),maximumObjectSize:dt.readInt32LE(vt+36),flags:{reliableFlag:s.getBit(dt,vt+40,0),seekableFlag:s.getBit(dt,vt+40,1),resendLiveCleanpointsFlag:s.getBit(dt,vt+40,2)},streamNumber:dt.readInt16LE(vt+42),streamLanguageId:dt.readInt16LE(vt+44),averageTimePerFrame:dt.readInt32LE(vt+52),streamNameCount:dt.readInt32LE(vt+54),payloadExtensionSystems:dt.readInt32LE(vt+56),streamNames:[],streamPropertiesObject:null}}}ht.guid=c.default.ExtendedStreamPropertiesObject,a.ExtendedStreamPropertiesObjectState=ht;class lt extends g{constructor(dt){super(dt)}get(dt,vt){const kt=[],jt=Buffer.from(dt),Lt=jt.readUInt16LE(vt);let Mt=vt+2;for(let Pt=0;Pt<Lt;Pt+=1){Mt+=4;const Yt=jt.readUInt16LE(Mt);Mt+=2;const ir=jt.readUInt16LE(Mt);Mt+=2;const rr=jt.readUInt32LE(Mt);Mt+=4;const dr=d.AsfUtil.parseUnicodeAttr(jt.slice(Mt,Mt+Yt));Mt+=Yt;const Rt=jt.slice(Mt,Mt+rr);Mt+=rr,this.postProcessTag(kt,dr,ir,Rt)}return kt}}lt.guid=c.default.MetadataObject,a.MetadataObjectState=lt;class yt extends lt{constructor(dt){super(dt)}}yt.guid=c.default.MetadataLibraryObject,a.MetadataLibraryObjectState=yt;class bt{static fromBase64(dt){return this.fromBuffer(Buffer.from(dt,"base64"))}static fromBuffer(dt){return new bt(dt.length).get(dt,0)}constructor(dt){this.len=dt}get(dt,vt){const kt=dt.readUInt8(vt++),jt=dt.readInt32LE(vt);let Lt=5;for(;dt.readUInt16BE(Lt)!==0;)Lt+=2;const Mt=dt.slice(5,Lt).toString("utf16le");for(;dt.readUInt16BE(Lt)!==0;)Lt+=2;const Pt=dt.slice(5,Lt).toString("utf16le");return{type:h.AttachedPictureType[kt],format:Mt,description:Pt,size:jt,data:dt.slice(Lt+4)}}}a.WmPictureToken=bt})(AsfObject$1);Object.defineProperty(AsfParser$1,"__esModule",{value:!0});AsfParser$1.AsfParser=void 0;const debug_1$j=browserExports$2,type_1$1=type,GUID_1=GUID$1,AsfObject=AsfObject$1,BasicParser_1$9=BasicParser$1,debug$j=(0,debug_1$j.default)("music-metadata:parser:ASF"),headerType="asf";class AsfParser extends BasicParser_1$9.BasicParser{async parse(){const s=await this.tokenizer.readToken(AsfObject.TopLevelHeaderObjectToken);if(!s.objectId.equals(GUID_1.default.HeaderObject))throw new Error("expected asf header; but was not found; got: "+s.objectId.str);try{await this.parseObjectHeader(s.numberOfHeaderObjects)}catch(o){debug$j("Error while parsing ASF: %s",o)}}async parseObjectHeader(s){let o;do{const c=await this.tokenizer.readToken(AsfObject.HeaderObjectToken);switch(debug$j("header GUID=%s",c.objectId.str),c.objectId.str){case AsfObject.FilePropertiesObject.guid.str:const d=await this.tokenizer.readToken(new AsfObject.FilePropertiesObject(c));this.metadata.setFormat("duration",Number(d.playDuration/BigInt(1e3))/1e4-Number(d.preroll)/1e3),this.metadata.setFormat("bitrate",d.maximumBitrate);break;case AsfObject.StreamPropertiesObject.guid.str:const h=await this.tokenizer.readToken(new AsfObject.StreamPropertiesObject(c));this.metadata.setFormat("container","ASF/"+h.streamType);break;case AsfObject.HeaderExtensionObject.guid.str:const g=await this.tokenizer.readToken(new AsfObject.HeaderExtensionObject);await this.parseExtensionObject(g.extensionDataSize);break;case AsfObject.ContentDescriptionObjectState.guid.str:o=await this.tokenizer.readToken(new AsfObject.ContentDescriptionObjectState(c)),this.addTags(o);break;case AsfObject.ExtendedContentDescriptionObjectState.guid.str:o=await this.tokenizer.readToken(new AsfObject.ExtendedContentDescriptionObjectState(c)),this.addTags(o);break;case GUID_1.default.CodecListObject.str:const b=await AsfObject.readCodecEntries(this.tokenizer);b.forEach($=>{this.metadata.addStreamInfo({type:$.type.videoCodec?type_1$1.TrackType.video:type_1$1.TrackType.audio,codecName:$.codecName})});const _=b.filter($=>$.type.audioCodec).map($=>$.codecName).join("/");this.metadata.setFormat("codec",_);break;case GUID_1.default.StreamBitratePropertiesObject.str:await this.tokenizer.ignore(c.objectSize-AsfObject.HeaderObjectToken.len);break;case GUID_1.default.PaddingObject.str:debug$j("Padding: %s bytes",c.objectSize-AsfObject.HeaderObjectToken.len),await this.tokenizer.ignore(c.objectSize-AsfObject.HeaderObjectToken.len);break;default:this.metadata.addWarning("Ignore ASF-Object-GUID: "+c.objectId.str),debug$j("Ignore ASF-Object-GUID: %s",c.objectId.str),await this.tokenizer.readToken(new AsfObject.IgnoreObjectState(c))}}while(--s)}addTags(s){s.forEach(o=>{this.metadata.addTag(headerType,o.id,o.value)})}async parseExtensionObject(s){do{const o=await this.tokenizer.readToken(AsfObject.HeaderObjectToken),c=o.objectSize-AsfObject.HeaderObjectToken.len;switch(o.objectId.str){case AsfObject.ExtendedStreamPropertiesObjectState.guid.str:await this.tokenizer.readToken(new AsfObject.ExtendedStreamPropertiesObjectState(o));break;case AsfObject.MetadataObjectState.guid.str:const d=await this.tokenizer.readToken(new AsfObject.MetadataObjectState(o));this.addTags(d);break;case AsfObject.MetadataLibraryObjectState.guid.str:const h=await this.tokenizer.readToken(new AsfObject.MetadataLibraryObjectState(o));this.addTags(h);break;case GUID_1.default.PaddingObject.str:await this.tokenizer.ignore(c);break;case GUID_1.default.CompatibilityObject.str:this.tokenizer.ignore(c);break;case GUID_1.default.ASF_Index_Placeholder_Object.str:await this.tokenizer.ignore(c);break;default:this.metadata.addWarning("Ignore ASF-Object-GUID: "+o.objectId.str),await this.tokenizer.readToken(new AsfObject.IgnoreObjectState(o));break}s-=o.objectSize}while(s>0)}}AsfParser$1.AsfParser=AsfParser;var FlacParser$1={},Vorbis={};Object.defineProperty(Vorbis,"__esModule",{value:!0});Vorbis.IdentificationHeader=Vorbis.CommonHeader=Vorbis.VorbisPictureToken=void 0;const Token$l=lib$1,ID3v2Token_1$1=ID3v2Token;class VorbisPictureToken{static fromBase64(s){return this.fromBuffer(Buffer.from(s,"base64"))}static fromBuffer(s){return new VorbisPictureToken(s.length).get(s,0)}constructor(s){this.len=s}get(s,o){const c=ID3v2Token_1$1.AttachedPictureType[Token$l.UINT32_BE.get(s,o)],d=Token$l.UINT32_BE.get(s,o+=4),h=s.toString("utf-8",o+=4,o+d),g=Token$l.UINT32_BE.get(s,o+=d),b=s.toString("utf-8",o+=4,o+g),_=Token$l.UINT32_BE.get(s,o+=g),$=Token$l.UINT32_BE.get(s,o+=4),_e=Token$l.UINT32_BE.get(s,o+=4),tt=Token$l.UINT32_BE.get(s,o+=4),et=Token$l.UINT32_BE.get(s,o+=4),nt=Buffer.from(s.slice(o+=4,o+et));return{type:c,format:h,description:b,width:_,height:$,colour_depth:_e,indexed_color:tt,data:nt}}}Vorbis.VorbisPictureToken=VorbisPictureToken;Vorbis.CommonHeader={len:7,get:(a,s)=>({packetType:a.readUInt8(s),vorbis:new Token$l.StringType(6,"ascii").get(a,s+1)})};Vorbis.IdentificationHeader={len:23,get:(a,s)=>{const o=new DataView(a.buffer,a.byteOffset);return{version:o.getUint32(s+0,!0),channelMode:o.getUint8(s+4),sampleRate:o.getUint32(s+5,!0),bitrateMax:o.getUint32(s+9,!0),bitrateNominal:o.getUint32(s+13,!0),bitrateMin:o.getUint32(s+17,!0)}}};var AbstractID3Parser$1={};Object.defineProperty(AbstractID3Parser$1,"__esModule",{value:!0});AbstractID3Parser$1.AbstractID3Parser=void 0;const core_1$2=core$1,debug_1$i=browserExports$2,ID3v2Token_1=ID3v2Token,ID3v2Parser_1$3=ID3v2Parser$1,ID3v1Parser_1$2=ID3v1Parser,BasicParser_1$8=BasicParser$1,debug$i=(0,debug_1$i.default)("music-metadata:parser:ID3");class AbstractID3Parser extends BasicParser_1$8.BasicParser{constructor(){super(...arguments),this.id3parser=new ID3v2Parser_1$3.ID3v2Parser}static async startsWithID3v2Header(s){return(await s.peekToken(ID3v2Token_1.ID3v2Header)).fileIdentifier==="ID3"}async parse(){try{await this.parseID3v2()}catch(s){if(s instanceof core_1$2.EndOfStreamError)debug$i("End-of-stream");else throw s}}finalize(){}async parseID3v2(){await this.tryReadId3v2Headers(),debug$i("End of ID3v2 header, go to MPEG-parser: pos=%s",this.tokenizer.position),await this.postId3v2Parse(),this.options.skipPostHeaders&&this.metadata.hasAny()?this.finalize():(await new ID3v1Parser_1$2.ID3v1Parser().init(this.metadata,this.tokenizer,this.options).parse(),this.finalize())}async tryReadId3v2Headers(){if((await this.tokenizer.peekToken(ID3v2Token_1.ID3v2Header)).fileIdentifier==="ID3")return debug$i("Found ID3v2 header, pos=%s",this.tokenizer.position),await this.id3parser.parse(this.metadata,this.tokenizer,this.options),this.tryReadId3v2Headers()}}AbstractID3Parser$1.AbstractID3Parser=AbstractID3Parser;var VorbisParser$1={},VorbisDecoder$1={};Object.defineProperty(VorbisDecoder$1,"__esModule",{value:!0});VorbisDecoder$1.VorbisDecoder=void 0;const Token$k=lib$1;class VorbisDecoder{constructor(s,o){this.data=s,this.offset=o}readInt32(){const s=Token$k.UINT32_LE.get(this.data,this.offset);return this.offset+=4,s}readStringUtf8(){const s=this.readInt32(),o=Buffer.from(this.data).toString("utf-8",this.offset,this.offset+s);return this.offset+=s,o}parseUserComment(){const s=this.offset,o=this.readStringUtf8(),c=o.indexOf("=");return{key:o.slice(0,c).toUpperCase(),value:o.slice(c+1),len:this.offset-s}}}VorbisDecoder$1.VorbisDecoder=VorbisDecoder;Object.defineProperty(VorbisParser$1,"__esModule",{value:!0});VorbisParser$1.VorbisParser=void 0;const Token$j=lib$1,debug_1$h=browserExports$2,VorbisDecoder_1$1=VorbisDecoder$1,Vorbis_1$1=Vorbis,debug$h=(0,debug_1$h.default)("music-metadata:parser:ogg:vorbis1");class VorbisParser{constructor(s,o){this.metadata=s,this.options=o,this.pageSegments=[]}parsePage(s,o){if(s.headerType.firstPage)this.parseFirstPage(s,o);else{if(s.headerType.continued){if(this.pageSegments.length===0)throw new Error("Cannot continue on previous page");this.pageSegments.push(o)}if(s.headerType.lastPage||!s.headerType.continued){if(this.pageSegments.length>0){const c=Buffer.concat(this.pageSegments);this.parseFullPage(c)}this.pageSegments=s.headerType.lastPage?[]:[o]}}s.headerType.lastPage&&this.calculateDuration(s)}flush(){this.parseFullPage(Buffer.concat(this.pageSegments))}parseUserComment(s,o){const d=new VorbisDecoder_1$1.VorbisDecoder(s,o).parseUserComment();return this.addTag(d.key,d.value),d.len}addTag(s,o){if(s==="METADATA_BLOCK_PICTURE"&&typeof o=="string"){if(this.options.skipCovers){debug$h("Ignore picture");return}o=Vorbis_1$1.VorbisPictureToken.fromBase64(o),debug$h(`Push picture: id=${s}, format=${o.format}`)}else debug$h(`Push tag: id=${s}, value=${o}`);this.metadata.addTag("vorbis",s,o)}calculateDuration(s){this.metadata.format.sampleRate&&s.absoluteGranulePosition>=0&&(this.metadata.setFormat("numberOfSamples",s.absoluteGranulePosition),this.metadata.setFormat("duration",this.metadata.format.numberOfSamples/this.metadata.format.sampleRate))}parseFirstPage(s,o){this.metadata.setFormat("codec","Vorbis I"),debug$h("Parse first page");const c=Vorbis_1$1.CommonHeader.get(o,0);if(c.vorbis!=="vorbis")throw new Error("Metadata does not look like Vorbis");if(c.packetType===1){const d=Vorbis_1$1.IdentificationHeader.get(o,Vorbis_1$1.CommonHeader.len);this.metadata.setFormat("sampleRate",d.sampleRate),this.metadata.setFormat("bitrate",d.bitrateNominal),this.metadata.setFormat("numberOfChannels",d.channelMode),debug$h("sample-rate=%s[hz], bitrate=%s[b/s], channel-mode=%s",d.sampleRate,d.bitrateNominal,d.channelMode)}else throw new Error("First Ogg page should be type 1: the identification header")}parseFullPage(s){const o=Vorbis_1$1.CommonHeader.get(s,0);switch(debug$h("Parse full page: type=%s, byteLength=%s",o.packetType,s.byteLength),o.packetType){case 3:return this.parseUserCommentList(s,Vorbis_1$1.CommonHeader.len)}}parseUserCommentList(s,o){const c=Token$j.UINT32_LE.get(s,o);o+=4,o+=c;let d=Token$j.UINT32_LE.get(s,o);for(o+=4;d-- >0;)o+=this.parseUserComment(s,o)}}VorbisParser$1.VorbisParser=VorbisParser;Object.defineProperty(FlacParser$1,"__esModule",{value:!0});FlacParser$1.FlacParser=void 0;const token_types_1$1=lib$1,debug_1$g=browserExports$2,util$6=Util,Vorbis_1=Vorbis,AbstractID3Parser_1$3=AbstractID3Parser$1,FourCC_1$7=FourCC,VorbisParser_1$3=VorbisParser$1,VorbisDecoder_1=VorbisDecoder$1,debug$g=(0,debug_1$g.default)("music-metadata:parser:FLAC");var BlockType;(function(a){a[a.STREAMINFO=0]="STREAMINFO",a[a.PADDING=1]="PADDING",a[a.APPLICATION=2]="APPLICATION",a[a.SEEKTABLE=3]="SEEKTABLE",a[a.VORBIS_COMMENT=4]="VORBIS_COMMENT",a[a.CUESHEET=5]="CUESHEET",a[a.PICTURE=6]="PICTURE"})(BlockType||(BlockType={}));class FlacParser extends AbstractID3Parser_1$3.AbstractID3Parser{constructor(){super(...arguments),this.padding=0}init(s,o,c){return super.init(s,o,c),this.vorbisParser=new VorbisParser_1$3.VorbisParser(s,c),this}async postId3v2Parse(){if((await this.tokenizer.readToken(FourCC_1$7.FourCcToken)).toString()!=="fLaC")throw new Error("Invalid FLAC preamble");let o;do o=await this.tokenizer.readToken(Metadata.BlockHeader),await this.parseDataBlock(o);while(!o.lastBlock);if(this.tokenizer.fileInfo.size&&this.metadata.format.duration){const c=this.tokenizer.fileInfo.size-this.tokenizer.position;this.metadata.setFormat("bitrate",8*c/this.metadata.format.duration)}}parseDataBlock(s){switch(debug$g(`blockHeader type=${s.type}, length=${s.length}`),s.type){case BlockType.STREAMINFO:return this.parseBlockStreamInfo(s.length);case BlockType.PADDING:this.padding+=s.length;break;case BlockType.APPLICATION:break;case BlockType.SEEKTABLE:break;case BlockType.VORBIS_COMMENT:return this.parseComment(s.length);case BlockType.CUESHEET:break;case BlockType.PICTURE:return this.parsePicture(s.length).then();default:this.metadata.addWarning("Unknown block type: "+s.type)}return this.tokenizer.ignore(s.length).then()}async parseBlockStreamInfo(s){if(s!==Metadata.BlockStreamInfo.len)throw new Error("Unexpected block-stream-info length");const o=await this.tokenizer.readToken(Metadata.BlockStreamInfo);this.metadata.setFormat("container","FLAC"),this.metadata.setFormat("codec","FLAC"),this.metadata.setFormat("lossless",!0),this.metadata.setFormat("numberOfChannels",o.channels),this.metadata.setFormat("bitsPerSample",o.bitsPerSample),this.metadata.setFormat("sampleRate",o.sampleRate),o.totalSamples>0&&this.metadata.setFormat("duration",o.totalSamples/o.sampleRate)}async parseComment(s){const o=await this.tokenizer.readToken(new token_types_1$1.Uint8ArrayType(s)),c=new VorbisDecoder_1.VorbisDecoder(o,0);c.readStringUtf8();const d=c.readInt32();for(let h=0;h<d;h++){const g=c.parseUserComment();this.vorbisParser.addTag(g.key,g.value)}}async parsePicture(s){if(this.options.skipCovers)return this.tokenizer.ignore(s);{const o=await this.tokenizer.readToken(new Vorbis_1.VorbisPictureToken(s));this.vorbisParser.addTag("METADATA_BLOCK_PICTURE",o)}}}FlacParser$1.FlacParser=FlacParser;class Metadata{}Metadata.BlockHeader={len:4,get:(a,s)=>({lastBlock:util$6.getBit(a,s,7),type:util$6.getBitAllignedNumber(a,s,1,7),length:token_types_1$1.UINT24_BE.get(a,s+1)})};Metadata.BlockStreamInfo={len:34,get:(a,s)=>({minimumBlockSize:token_types_1$1.UINT16_BE.get(a,s),maximumBlockSize:token_types_1$1.UINT16_BE.get(a,s+2)/1e3,minimumFrameSize:token_types_1$1.UINT24_BE.get(a,s+4),maximumFrameSize:token_types_1$1.UINT24_BE.get(a,s+7),sampleRate:token_types_1$1.UINT24_BE.get(a,s+10)>>4,channels:util$6.getBitAllignedNumber(a,s+12,4,3)+1,bitsPerSample:util$6.getBitAllignedNumber(a,s+12,7,5)+1,totalSamples:util$6.getBitAllignedNumber(a,s+13,4,36),fileMD5:new token_types_1$1.Uint8ArrayType(16).get(a,s+18)})};var MP4Parser$1={},Atom$1={},AtomToken$2={};(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.ChapterText=a.StcoAtom=a.StszAtom=a.StscAtom=a.SampleToChunkToken=a.SttsAtom=a.TimeToSampleToken=a.SoundSampleDescriptionV0=a.SoundSampleDescriptionVersion=a.StsdAtom=a.TrackHeaderAtom=a.NameAtom=a.DataAtom=a.MvhdAtom=a.MdhdAtom=a.FixedLengthAtom=a.mhdr=a.tkhd=a.ftyp=a.ExtendedSize=a.Header=void 0;const s=lib$1,o=browserExports$2,c=FourCC,d=(0,o.default)("music-metadata:parser:MP4:atom");a.Header={len:8,get:(gt,dt)=>{const vt=s.UINT32_BE.get(gt,dt);if(vt<0)throw new Error("Invalid atom header length");return{length:BigInt(vt),name:new s.StringType(4,"binary").get(gt,dt+4)}},put:(gt,dt,vt)=>(s.UINT32_BE.put(gt,dt,Number(vt.length)),c.FourCcToken.put(gt,dt+4,vt.name))},a.ExtendedSize=s.UINT64_BE,a.ftyp={len:4,get:(gt,dt)=>({type:new s.StringType(4,"ascii").get(gt,dt)})},a.tkhd={len:4,get:(gt,dt)=>({type:new s.StringType(4,"ascii").get(gt,dt)})},a.mhdr={len:8,get:(gt,dt)=>({version:s.UINT8.get(gt,dt),flags:s.UINT24_BE.get(gt,dt+1),nextItemID:s.UINT32_BE.get(gt,dt+4)})};class h{constructor(dt,vt,kt){if(this.len=dt,dt<vt)throw new Error(`Atom ${kt} expected to be ${vt}, but specifies ${dt} bytes long.`);dt>vt&&d(`Warning: atom ${kt} expected to be ${vt}, but was actually ${dt} bytes long.`)}}a.FixedLengthAtom=h;const g={len:4,get:(gt,dt)=>{const vt=s.UINT32_BE.get(gt,dt)-2082844800;return new Date(vt*1e3)}};class b extends h{constructor(dt){super(dt,24,"mdhd"),this.len=dt}get(dt,vt){return{version:s.UINT8.get(dt,vt+0),flags:s.UINT24_BE.get(dt,vt+1),creationTime:g.get(dt,vt+4),modificationTime:g.get(dt,vt+8),timeScale:s.UINT32_BE.get(dt,vt+12),duration:s.UINT32_BE.get(dt,vt+16),language:s.UINT16_BE.get(dt,vt+20),quality:s.UINT16_BE.get(dt,vt+22)}}}a.MdhdAtom=b;class _ extends h{constructor(dt){super(dt,100,"mvhd"),this.len=dt}get(dt,vt){return{version:s.UINT8.get(dt,vt),flags:s.UINT24_BE.get(dt,vt+1),creationTime:g.get(dt,vt+4),modificationTime:g.get(dt,vt+8),timeScale:s.UINT32_BE.get(dt,vt+12),duration:s.UINT32_BE.get(dt,vt+16),preferredRate:s.UINT32_BE.get(dt,vt+20),preferredVolume:s.UINT16_BE.get(dt,vt+24),previewTime:s.UINT32_BE.get(dt,vt+72),previewDuration:s.UINT32_BE.get(dt,vt+76),posterTime:s.UINT32_BE.get(dt,vt+80),selectionTime:s.UINT32_BE.get(dt,vt+84),selectionDuration:s.UINT32_BE.get(dt,vt+88),currentTime:s.UINT32_BE.get(dt,vt+92),nextTrackID:s.UINT32_BE.get(dt,vt+96)}}}a.MvhdAtom=_;class ${constructor(dt){this.len=dt}get(dt,vt){return{type:{set:s.UINT8.get(dt,vt+0),type:s.UINT24_BE.get(dt,vt+1)},locale:s.UINT24_BE.get(dt,vt+4),value:Buffer.from(new s.Uint8ArrayType(this.len-8).get(dt,vt+8))}}}a.DataAtom=$;class _e{constructor(dt){this.len=dt}get(dt,vt){return{version:s.UINT8.get(dt,vt),flags:s.UINT24_BE.get(dt,vt+1),name:new s.StringType(this.len-4,"utf-8").get(dt,vt+4)}}}a.NameAtom=_e;class tt{constructor(dt){this.len=dt}get(dt,vt){return{version:s.UINT8.get(dt,vt),flags:s.UINT24_BE.get(dt,vt+1),creationTime:g.get(dt,vt+4),modificationTime:g.get(dt,vt+8),trackId:s.UINT32_BE.get(dt,vt+12),duration:s.UINT32_BE.get(dt,vt+20),layer:s.UINT16_BE.get(dt,vt+24),alternateGroup:s.UINT16_BE.get(dt,vt+26),volume:s.UINT16_BE.get(dt,vt+28)}}}a.TrackHeaderAtom=tt;const et={len:8,get:(gt,dt)=>({version:s.UINT8.get(gt,dt),flags:s.UINT24_BE.get(gt,dt+1),numberOfEntries:s.UINT32_BE.get(gt,dt+4)})};class nt{constructor(dt){this.len=dt}get(dt,vt){return{dataFormat:c.FourCcToken.get(dt,vt),dataReferenceIndex:s.UINT16_BE.get(dt,vt+10),description:new s.Uint8ArrayType(this.len-12).get(dt,vt+12)}}}class ot{constructor(dt){this.len=dt}get(dt,vt){const kt=et.get(dt,vt);vt+=et.len;const jt=[];for(let Lt=0;Lt<kt.numberOfEntries;++Lt){const Mt=s.UINT32_BE.get(dt,vt);vt+=s.UINT32_BE.len,jt.push(new nt(Mt).get(dt,vt)),vt+=Mt}return{header:kt,table:jt}}}a.StsdAtom=ot,a.SoundSampleDescriptionVersion={len:8,get(gt,dt){return{version:s.INT16_BE.get(gt,dt),revision:s.INT16_BE.get(gt,dt+2),vendor:s.INT32_BE.get(gt,dt+4)}}},a.SoundSampleDescriptionV0={len:12,get(gt,dt){return{numAudioChannels:s.INT16_BE.get(gt,dt+0),sampleSize:s.INT16_BE.get(gt,dt+2),compressionId:s.INT16_BE.get(gt,dt+4),packetSize:s.INT16_BE.get(gt,dt+6),sampleRate:s.UINT16_BE.get(gt,dt+8)+s.UINT16_BE.get(gt,dt+10)/1e4}}};class st{constructor(dt,vt){this.len=dt,this.token=vt}get(dt,vt){const kt=s.INT32_BE.get(dt,vt+4);return{version:s.INT8.get(dt,vt+0),flags:s.INT24_BE.get(dt,vt+1),numberOfEntries:kt,entries:bt(dt,this.token,vt+8,this.len-8,kt)}}}a.TimeToSampleToken={len:8,get(gt,dt){return{count:s.INT32_BE.get(gt,dt+0),duration:s.INT32_BE.get(gt,dt+4)}}};class pt extends st{constructor(dt){super(dt,a.TimeToSampleToken),this.len=dt}}a.SttsAtom=pt,a.SampleToChunkToken={len:12,get(gt,dt){return{firstChunk:s.INT32_BE.get(gt,dt),samplesPerChunk:s.INT32_BE.get(gt,dt+4),sampleDescriptionId:s.INT32_BE.get(gt,dt+8)}}};class at extends st{constructor(dt){super(dt,a.SampleToChunkToken),this.len=dt}}a.StscAtom=at;class ht{constructor(dt){this.len=dt}get(dt,vt){const kt=s.INT32_BE.get(dt,vt+8);return{version:s.INT8.get(dt,vt),flags:s.INT24_BE.get(dt,vt+1),sampleSize:s.INT32_BE.get(dt,vt+4),numberOfEntries:kt,entries:bt(dt,s.INT32_BE,vt+12,this.len-12,kt)}}}a.StszAtom=ht;class lt extends st{constructor(dt){super(dt,s.INT32_BE),this.len=dt}}a.StcoAtom=lt;class yt{constructor(dt){this.len=dt}get(dt,vt){const kt=s.INT16_BE.get(dt,vt+0);return new s.StringType(kt,"utf-8").get(dt,vt+2)}}a.ChapterText=yt;function bt(gt,dt,vt,kt,jt){if(d(`remainingLen=${kt}, numberOfEntries=${jt} * token-len=${dt.len}`),kt===0)return[];if(kt!==jt*dt.len)throw new Error("mismatch number-of-entries with remaining atom-length");const Lt=[];for(let Mt=0;Mt<jt;++Mt)Lt.push(dt.get(gt,vt)),vt+=dt.len;return Lt}})(AtomToken$2);Object.defineProperty(Atom$1,"__esModule",{value:!0});Atom$1.Atom=void 0;const debug_1$f=browserExports$2,AtomToken$1=AtomToken$2,debug$f=(0,debug_1$f.default)("music-metadata:parser:MP4:Atom");class Atom{static async readAtom(s,o,c,d){const h=s.position,g=await s.readToken(AtomToken$1.Header);g.length===BigInt(1)&&(g.length=await s.readToken(AtomToken$1.ExtendedSize));const _=new Atom(g,g.length===BigInt(1),c),$=_.getPayloadLength(d);return debug$f(`parse atom name=${_.atomPath}, extended=${_.extended}, offset=${h}, len=${_.header.length}`),await _.readData(s,o,$),_}constructor(s,o,c){this.header=s,this.extended=o,this.parent=c,this.children=[],this.atomPath=(this.parent?this.parent.atomPath+".":"")+this.header.name}getHeaderLength(){return this.extended?16:8}getPayloadLength(s){return(this.header.length===BigInt(0)?s:Number(this.header.length))-this.getHeaderLength()}async readAtoms(s,o,c){for(;c>0;){const d=await Atom.readAtom(s,o,this,c);this.children.push(d),c-=d.header.length===BigInt(0)?c:Number(d.header.length)}}async readData(s,o,c){switch(this.header.name){case"moov":case"udta":case"trak":case"mdia":case"minf":case"stbl":case"<id>":case"ilst":case"tref":return this.readAtoms(s,o,this.getPayloadLength(c));case"meta":const h=(await s.peekToken(AtomToken$1.Header)).name==="hdlr"?0:4;return await s.ignore(h),this.readAtoms(s,o,this.getPayloadLength(c)-h);case"mdhd":case"mvhd":case"tkhd":case"stsz":case"mdat":default:return o(this,c)}}}Atom$1.Atom=Atom;Object.defineProperty(MP4Parser$1,"__esModule",{value:!0});MP4Parser$1.MP4Parser=void 0;const debug_1$e=browserExports$2,Token$i=lib$1,BasicParser_1$7=BasicParser$1,ID3v1Parser_1$1=ID3v1Parser,type_1=type,Atom_1=Atom$1,AtomToken=AtomToken$2,debug$e=(0,debug_1$e.default)("music-metadata:parser:MP4"),tagFormat="iTunes",encoderDict={raw:{lossy:!1,format:"raw"},MAC3:{lossy:!0,format:"MACE 3:1"},MAC6:{lossy:!0,format:"MACE 6:1"},ima4:{lossy:!0,format:"IMA 4:1"},ulaw:{lossy:!0,format:"uLaw 2:1"},alaw:{lossy:!0,format:"uLaw 2:1"},Qclp:{lossy:!0,format:"QUALCOMM PureVoice"},".mp3":{lossy:!0,format:"MPEG-1 layer 3"},alac:{lossy:!1,format:"ALAC"},"ac-3":{lossy:!0,format:"AC-3"},mp4a:{lossy:!0,format:"MPEG-4/AAC"},mp4s:{lossy:!0,format:"MP4S"},c608:{lossy:!0,format:"CEA-608"},c708:{lossy:!0,format:"CEA-708"}};function distinct(a,s,o){return o.indexOf(a)===s}class MP4Parser extends BasicParser_1$7.BasicParser{constructor(){super(...arguments),this.atomParsers={mvhd:async s=>{const o=await this.tokenizer.readToken(new AtomToken.MvhdAtom(s));this.metadata.setFormat("creationTime",o.creationTime),this.metadata.setFormat("modificationTime",o.modificationTime)},mdhd:async s=>{const o=await this.tokenizer.readToken(new AtomToken.MdhdAtom(s)),c=this.getTrackDescription();c.creationTime=o.creationTime,c.modificationTime=o.modificationTime,c.timeScale=o.timeScale,c.duration=o.duration},chap:async s=>{const o=this.getTrackDescription(),c=[];for(;s>=Token$i.UINT32_BE.len;)c.push(await this.tokenizer.readNumber(Token$i.UINT32_BE)),s-=Token$i.UINT32_BE.len;o.chapterList=c},tkhd:async s=>{const o=await this.tokenizer.readToken(new AtomToken.TrackHeaderAtom(s));this.tracks.push(o)},mdat:async s=>{if(this.audioLengthInBytes=s,this.calculateBitRate(),this.options.includeChapters){const o=this.tracks.filter(c=>c.chapterList);if(o.length===1){const c=o[0].chapterList,d=this.tracks.filter(h=>c.indexOf(h.trackId)!==-1);if(d.length===1)return this.parseChapterTrack(d[0],o[0],s)}}await this.tokenizer.ignore(s)},ftyp:async s=>{const o=[];for(;s>0;){const d=await this.tokenizer.readToken(AtomToken.ftyp);s-=AtomToken.ftyp.len;const h=d.type.replace(/\W/g,"");h.length>0&&o.push(h)}debug$e(`ftyp: ${o.join("/")}`);const c=o.filter(distinct).join("/");this.metadata.setFormat("container",c)},stsd:async s=>{const o=await this.tokenizer.readToken(new AtomToken.StsdAtom(s)),c=this.getTrackDescription();c.soundSampleDescription=o.table.map(d=>this.parseSoundSampleDescription(d))},stsc:async s=>{const o=await this.tokenizer.readToken(new AtomToken.StscAtom(s));this.getTrackDescription().sampleToChunkTable=o.entries},stts:async s=>{const o=await this.tokenizer.readToken(new AtomToken.SttsAtom(s));this.getTrackDescription().timeToSampleTable=o.entries},stsz:async s=>{const o=await this.tokenizer.readToken(new AtomToken.StszAtom(s)),c=this.getTrackDescription();c.sampleSize=o.sampleSize,c.sampleSizeTable=o.entries},stco:async s=>{const o=await this.tokenizer.readToken(new AtomToken.StcoAtom(s));this.getTrackDescription().chunkOffsetTable=o.entries},date:async s=>{const o=await this.tokenizer.readToken(new Token$i.StringType(s,"utf-8"));this.addTag("date",o)}}}static read_BE_Integer(s,o){const c=(o?"INT":"UINT")+s.length*8+(s.length>1?"_BE":""),d=Token$i[c];if(!d)throw new Error('Token for integer type not found: "'+c+'"');return Number(d.get(s,0))}async parse(){this.tracks=[];let s=this.tokenizer.fileInfo.size;for(;!this.tokenizer.fileInfo.size||s>0;){try{if((await this.tokenizer.peekToken(AtomToken.Header)).name==="\0\0\0\0"){const g=`Error at offset=${this.tokenizer.position}: box.id=0`;debug$e(g),this.addWarning(g);break}}catch(h){const g=`Error at offset=${this.tokenizer.position}: ${h.message}`;debug$e(g),this.addWarning(g);break}const d=await Atom_1.Atom.readAtom(this.tokenizer,(h,g)=>this.handleAtom(h,g),null,s);s-=d.header.length===BigInt(0)?s:Number(d.header.length)}const o=[];this.tracks.forEach(d=>{const h=[];d.soundSampleDescription.forEach(g=>{const b={},_=encoderDict[g.dataFormat];if(_?(h.push(_.format),b.codecName=_.format):b.codecName=`<${g.dataFormat}>`,g.description){const{description:$}=g;$.sampleRate>0&&(b.type=type_1.TrackType.audio,b.audio={samplingFrequency:$.sampleRate,bitDepth:$.sampleSize,channels:$.numAudioChannels})}this.metadata.addStreamInfo(b)}),h.length>=1&&o.push(h.join("/"))}),o.length>0&&this.metadata.setFormat("codec",o.filter(distinct).join("+"));const c=this.tracks.filter(d=>d.soundSampleDescription.length>=1&&d.soundSampleDescription[0].description&&d.soundSampleDescription[0].description.numAudioChannels>0);if(c.length>=1){const d=c[0];if(d.timeScale>0){const b=d.duration/d.timeScale;this.metadata.setFormat("duration",b)}const h=d.soundSampleDescription[0];if(h.description&&(this.metadata.setFormat("sampleRate",h.description.sampleRate),this.metadata.setFormat("bitsPerSample",h.description.sampleSize),this.metadata.setFormat("numberOfChannels",h.description.numAudioChannels),d.timeScale===0&&d.timeToSampleTable.length>0)){const _=d.timeToSampleTable.map($=>$.count*$.duration).reduce(($,_e)=>$+_e)/h.description.sampleRate;this.metadata.setFormat("duration",_)}const g=encoderDict[h.dataFormat];g&&this.metadata.setFormat("lossless",!g.lossy),this.calculateBitRate()}}async handleAtom(s,o){if(s.parent)switch(s.parent.header.name){case"ilst":case"<id>":return this.parseMetadataItemData(s)}if(this.atomParsers[s.header.name])return this.atomParsers[s.header.name](o);debug$e(`No parser for atom path=${s.atomPath}, payload-len=${o}, ignoring atom`),await this.tokenizer.ignore(o)}getTrackDescription(){return this.tracks[this.tracks.length-1]}calculateBitRate(){this.audioLengthInBytes&&this.metadata.format.duration&&this.metadata.setFormat("bitrate",8*this.audioLengthInBytes/this.metadata.format.duration)}addTag(s,o){this.metadata.addTag(tagFormat,s,o)}addWarning(s){debug$e("Warning: "+s),this.metadata.addWarning(s)}parseMetadataItemData(s){let o=s.header.name;return s.readAtoms(this.tokenizer,async(c,d)=>{const h=c.getPayloadLength(d);switch(c.header.name){case"data":return this.parseValueAtom(o,c);case"name":case"mean":case"rate":const g=await this.tokenizer.readToken(new AtomToken.NameAtom(h));o+=":"+g.name;break;default:const b=await this.tokenizer.readToken(new Token$i.BufferType(h));this.addWarning("Unsupported meta-item: "+o+"["+c.header.name+"] => value="+b.toString("hex")+" ascii="+b.toString("ascii"))}},s.getPayloadLength(0))}async parseValueAtom(s,o){const c=await this.tokenizer.readToken(new AtomToken.DataAtom(Number(o.header.length)-AtomToken.Header.len));if(c.type.set!==0)throw new Error("Unsupported type-set != 0: "+c.type.set);switch(c.type.type){case 0:switch(s){case"trkn":case"disk":const d=Token$i.UINT8.get(c.value,3),h=Token$i.UINT8.get(c.value,5);this.addTag(s,d+"/"+h);break;case"gnre":const g=Token$i.UINT8.get(c.value,1),b=ID3v1Parser_1$1.Genres[g-1];this.addTag(s,b);break;case"rate":const _=c.value.toString("ascii");this.addTag(s,_);break;default:debug$e("unknown proprietary value type for: "+o.atomPath)}break;case 1:case 18:this.addTag(s,c.value.toString("utf-8"));break;case 13:if(this.options.skipCovers)break;this.addTag(s,{format:"image/jpeg",data:Buffer.from(c.value)});break;case 14:if(this.options.skipCovers)break;this.addTag(s,{format:"image/png",data:Buffer.from(c.value)});break;case 21:this.addTag(s,MP4Parser.read_BE_Integer(c.value,!0));break;case 22:this.addTag(s,MP4Parser.read_BE_Integer(c.value,!1));break;case 65:this.addTag(s,c.value.readInt8(0));break;case 66:this.addTag(s,c.value.readInt16BE(0));break;case 67:this.addTag(s,c.value.readInt32BE(0));break;default:this.addWarning(`atom key=${s}, has unknown well-known-type (data-type): ${c.type.type}`)}}parseSoundSampleDescription(s){const o={dataFormat:s.dataFormat,dataReferenceIndex:s.dataReferenceIndex};let c=0;const d=AtomToken.SoundSampleDescriptionVersion.get(s.description,c);return c+=AtomToken.SoundSampleDescriptionVersion.len,d.version===0||d.version===1?o.description=AtomToken.SoundSampleDescriptionV0.get(s.description,c):debug$e(`Warning: sound-sample-description ${d} not implemented`),o}async parseChapterTrack(s,o,c){if(!s.sampleSize&&s.chunkOffsetTable.length!==s.sampleSizeTable.length)throw new Error("Expected equal chunk-offset-table & sample-size-table length.");const d=[];for(let h=0;h<s.chunkOffsetTable.length&&c>0;++h){const b=s.chunkOffsetTable[h]-this.tokenizer.position,_=s.sampleSize>0?s.sampleSize:s.sampleSizeTable[h];if(c-=b+_,c<0)throw new Error("Chapter chunk exceeding token length");await this.tokenizer.ignore(b);const $=await this.tokenizer.readToken(new AtomToken.ChapterText(_));debug$e(`Chapter ${h+1}: ${$}`);const _e={title:$,sampleOffset:this.findSampleOffset(o,this.tokenizer.position)};debug$e(`Chapter title=${_e.title}, offset=${_e.sampleOffset}/${this.tracks[0].duration}`),d.push(_e)}this.metadata.setFormat("chapters",d),await this.tokenizer.ignore(c)}findSampleOffset(s,o){let c=0;s.timeToSampleTable.forEach(h=>{c+=h.count*h.duration}),debug$e(`Total duration=${c}`);let d=0;for(;d<s.chunkOffsetTable.length&&s.chunkOffsetTable[d]<o;)++d;return this.getChunkDuration(d+1,s)}getChunkDuration(s,o){let c=0,d=o.timeToSampleTable[c].count,h=o.timeToSampleTable[c].duration,g=1,b=this.getSamplesPerChunk(g,o.sampleToChunkTable),_=0;for(;g<s;){const $=Math.min(d,b);_+=$*h,d-=$,b-=$,b===0?(++g,b=this.getSamplesPerChunk(g,o.sampleToChunkTable)):(++c,d=o.timeToSampleTable[c].count,h=o.timeToSampleTable[c].duration)}return _}getSamplesPerChunk(s,o){for(let c=0;c<o.length-1;++c)if(s>=o[c].firstChunk&&s<o[c+1].firstChunk)return o[c].samplesPerChunk;return o[o.length-1].samplesPerChunk}}MP4Parser$1.MP4Parser=MP4Parser;var MpegParser$1={},XingTag={},ExtendedLameHeader={},ReplayGainDataFormat={};Object.defineProperty(ReplayGainDataFormat,"__esModule",{value:!0});ReplayGainDataFormat.ReplayGain=void 0;const common$2=Util;var NameCode;(function(a){a[a.not_set=0]="not_set",a[a.radio=1]="radio",a[a.audiophile=2]="audiophile"})(NameCode||(NameCode={}));var ReplayGainOriginator;(function(a){a[a.unspecified=0]="unspecified",a[a.engineer=1]="engineer",a[a.user=2]="user",a[a.automatic=3]="automatic",a[a.rms_average=4]="rms_average"})(ReplayGainOriginator||(ReplayGainOriginator={}));ReplayGainDataFormat.ReplayGain={len:2,get:(a,s)=>{const o=common$2.getBitAllignedNumber(a,s,0,3),c=common$2.getBitAllignedNumber(a,s,6,1),d=common$2.getBitAllignedNumber(a,s,7,9)/10;if(o>0)return{type:common$2.getBitAllignedNumber(a,s,0,3),origin:common$2.getBitAllignedNumber(a,s,3,3),adjustment:c?-d:d}}};Object.defineProperty(ExtendedLameHeader,"__esModule",{value:!0});ExtendedLameHeader.ExtendedLameHeader=void 0;const Token$h=lib$1,common$1=Util,ReplayGainDataFormat_1=ReplayGainDataFormat;ExtendedLameHeader.ExtendedLameHeader={len:27,get:(a,s)=>{const o=Token$h.UINT32_BE.get(a,s+2);return{revision:common$1.getBitAllignedNumber(a,s,0,4),vbr_method:common$1.getBitAllignedNumber(a,s,4,4),lowpass_filter:100*Token$h.UINT8.get(a,s+1),track_peak:o===0?void 0:o/Math.pow(2,23),track_gain:ReplayGainDataFormat_1.ReplayGain.get(a,6),album_gain:ReplayGainDataFormat_1.ReplayGain.get(a,8),music_length:Token$h.UINT32_BE.get(a,s+20),music_crc:Token$h.UINT8.get(a,s+24),header_crc:Token$h.UINT16_BE.get(a,s+24)}}};(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.readXingHeader=a.XingHeaderFlags=a.LameEncoderVersion=a.InfoTagHeaderTag=void 0;const s=lib$1,o=Util,c=ExtendedLameHeader;a.InfoTagHeaderTag=new s.StringType(4,"ascii"),a.LameEncoderVersion=new s.StringType(6,"ascii"),a.XingHeaderFlags={len:4,get:(h,g)=>({frames:o.isBitSet(h,g,31),bytes:o.isBitSet(h,g,30),toc:o.isBitSet(h,g,29),vbrScale:o.isBitSet(h,g,28)})};async function d(h){const g=await h.readToken(a.XingHeaderFlags),b={};if(g.frames&&(b.numFrames=await h.readToken(s.UINT32_BE)),g.bytes&&(b.streamSize=await h.readToken(s.UINT32_BE)),g.toc&&(b.toc=Buffer.alloc(100),await h.readBuffer(b.toc)),g.vbrScale&&(b.vbrScale=await h.readToken(s.UINT32_BE)),await h.peekToken(new s.StringType(4,"ascii"))==="LAME"&&(await h.ignore(4),b.lame={version:await h.readToken(new s.StringType(5,"ascii"))},b.lame.version.match(/\d+.\d+/g))){const tt=b.lame.version.match(/\d+.\d+/g)[0].split(".").map(et=>parseInt(et,10));tt[0]>=3&&tt[1]>=90&&(b.lame.extended=await h.readToken(c.ExtendedLameHeader))}return b}a.readXingHeader=d})(XingTag);Object.defineProperty(MpegParser$1,"__esModule",{value:!0});MpegParser$1.MpegParser=void 0;const Token$g=lib$1,core_1$1=core$1,debug_1$d=browserExports$2,common=Util,AbstractID3Parser_1$2=AbstractID3Parser$1,XingTag_1=XingTag,debug$d=(0,debug_1$d.default)("music-metadata:parser:mpeg"),maxPeekLen=1024,MPEG4={AudioObjectTypes:["AAC Main","AAC LC","AAC SSR","AAC LTP"],SamplingFrequencies:[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350,void 0,void 0,-1]},MPEG4_ChannelConfigurations=[void 0,["front-center"],["front-left","front-right"],["front-center","front-left","front-right"],["front-center","front-left","front-right","back-center"],["front-center","front-left","front-right","back-left","back-right"],["front-center","front-left","front-right","back-left","back-right","LFE-channel"],["front-center","front-left","front-right","side-left","side-right","back-left","back-right","LFE-channel"]];class MpegFrameHeader{constructor(s,o){this.versionIndex=common.getBitAllignedNumber(s,o+1,3,2),this.layer=MpegFrameHeader.LayerDescription[common.getBitAllignedNumber(s,o+1,5,2)],this.versionIndex>1&&this.layer===0?this.parseAdtsHeader(s,o):this.parseMpegHeader(s,o),this.isProtectedByCRC=!common.isBitSet(s,o+1,7)}calcDuration(s){return s*this.calcSamplesPerFrame()/this.samplingRate}calcSamplesPerFrame(){return MpegFrameHeader.samplesInFrameTable[this.version===1?0:1][this.layer]}calculateSideInfoLength(){if(this.layer!==3)return 2;if(this.channelModeIndex===3){if(this.version===1)return 17;if(this.version===2||this.version===2.5)return 9}else{if(this.version===1)return 32;if(this.version===2||this.version===2.5)return 17}}calcSlotSize(){return[null,4,1,1][this.layer]}parseMpegHeader(s,o){this.container="MPEG",this.bitrateIndex=common.getBitAllignedNumber(s,o+2,0,4),this.sampRateFreqIndex=common.getBitAllignedNumber(s,o+2,4,2),this.padding=common.isBitSet(s,o+2,6),this.privateBit=common.isBitSet(s,o+2,7),this.channelModeIndex=common.getBitAllignedNumber(s,o+3,0,2),this.modeExtension=common.getBitAllignedNumber(s,o+3,2,2),this.isCopyrighted=common.isBitSet(s,o+3,4),this.isOriginalMedia=common.isBitSet(s,o+3,5),this.emphasis=common.getBitAllignedNumber(s,o+3,7,2),this.version=MpegFrameHeader.VersionID[this.versionIndex],this.channelMode=MpegFrameHeader.ChannelMode[this.channelModeIndex],this.codec=`MPEG ${this.version} Layer ${this.layer}`;const c=this.calcBitrate();if(!c)throw new Error("Cannot determine bit-rate");if(this.bitrate=c*1e3,this.samplingRate=this.calcSamplingRate(),this.samplingRate==null)throw new Error("Cannot determine sampling-rate")}parseAdtsHeader(s,o){debug$d("layer=0 => ADTS"),this.version=this.versionIndex===2?4:2,this.container="ADTS/MPEG-"+this.version;const c=common.getBitAllignedNumber(s,o+2,0,2);this.codec="AAC",this.codecProfile=MPEG4.AudioObjectTypes[c],debug$d(`MPEG-4 audio-codec=${this.codec}`);const d=common.getBitAllignedNumber(s,o+2,2,4);this.samplingRate=MPEG4.SamplingFrequencies[d],debug$d(`sampling-rate=${this.samplingRate}`);const h=common.getBitAllignedNumber(s,o+2,7,3);this.mp4ChannelConfig=MPEG4_ChannelConfigurations[h],debug$d(`channel-config=${this.mp4ChannelConfig.join("+")}`),this.frameLength=common.getBitAllignedNumber(s,o+3,6,2)<<11}calcBitrate(){if(this.bitrateIndex===0||this.bitrateIndex===15)return;const s=`${Math.floor(this.version)}${this.layer}`;return MpegFrameHeader.bitrate_index[this.bitrateIndex][s]}calcSamplingRate(){return this.sampRateFreqIndex===3?null:MpegFrameHeader.sampling_rate_freq_index[this.version][this.sampRateFreqIndex]}}MpegFrameHeader.SyncByte1=255;MpegFrameHeader.SyncByte2=224;MpegFrameHeader.VersionID=[2.5,null,2,1];MpegFrameHeader.LayerDescription=[0,3,2,1];MpegFrameHeader.ChannelMode=["stereo","joint_stereo","dual_channel","mono"];MpegFrameHeader.bitrate_index={1:{11:32,12:32,13:32,21:32,22:8,23:8},2:{11:64,12:48,13:40,21:48,22:16,23:16},3:{11:96,12:56,13:48,21:56,22:24,23:24},4:{11:128,12:64,13:56,21:64,22:32,23:32},5:{11:160,12:80,13:64,21:80,22:40,23:40},6:{11:192,12:96,13:80,21:96,22:48,23:48},7:{11:224,12:112,13:96,21:112,22:56,23:56},8:{11:256,12:128,13:112,21:128,22:64,23:64},9:{11:288,12:160,13:128,21:144,22:80,23:80},10:{11:320,12:192,13:160,21:160,22:96,23:96},11:{11:352,12:224,13:192,21:176,22:112,23:112},12:{11:384,12:256,13:224,21:192,22:128,23:128},13:{11:416,12:320,13:256,21:224,22:144,23:144},14:{11:448,12:384,13:320,21:256,22:160,23:160}};MpegFrameHeader.sampling_rate_freq_index={1:{0:44100,1:48e3,2:32e3},2:{0:22050,1:24e3,2:16e3},2.5:{0:11025,1:12e3,2:8e3}};MpegFrameHeader.samplesInFrameTable=[[0,384,1152,1152],[0,384,1152,576]];const FrameHeader={len:4,get:(a,s)=>new MpegFrameHeader(a,s)};function getVbrCodecProfile(a){return"V"+Math.floor((100-a)/10)}class MpegParser extends AbstractID3Parser_1$2.AbstractID3Parser{constructor(){super(...arguments),this.frameCount=0,this.syncFrameCount=-1,this.countSkipFrameData=0,this.totalDataLength=0,this.bitrates=[],this.calculateEofDuration=!1,this.buf_frame_header=Buffer.alloc(4),this.syncPeek={buf:Buffer.alloc(maxPeekLen),len:0}}async postId3v2Parse(){this.metadata.setFormat("lossless",!1);try{let s=!1;for(;!s;)await this.sync(),s=await this.parseCommonMpegHeader()}catch(s){if(s instanceof core_1$1.EndOfStreamError){if(debug$d("End-of-stream"),this.calculateEofDuration){const o=this.frameCount*this.samplesPerFrame;this.metadata.setFormat("numberOfSamples",o);const c=o/this.metadata.format.sampleRate;debug$d(`Calculate duration at EOF: ${c} sec.`,c),this.metadata.setFormat("duration",c)}}else throw s}}finalize(){const s=this.metadata.format,o=this.metadata.native.hasOwnProperty("ID3v1");if(s.duration&&this.tokenizer.fileInfo.size){const c=this.tokenizer.fileInfo.size-this.mpegOffset-(o?128:0);s.codecProfile&&s.codecProfile[0]==="V"&&this.metadata.setFormat("bitrate",c*8/s.duration)}else if(this.tokenizer.fileInfo.size&&s.codecProfile==="CBR"){const c=this.tokenizer.fileInfo.size-this.mpegOffset-(o?128:0),d=Math.round(c/this.frame_size)*this.samplesPerFrame;this.metadata.setFormat("numberOfSamples",d);const h=d/s.sampleRate;debug$d("Calculate CBR duration based on file size: %s",h),this.metadata.setFormat("duration",h)}}async sync(){let s=!1;for(;;){let o=0;if(this.syncPeek.len=await this.tokenizer.peekBuffer(this.syncPeek.buf,{length:maxPeekLen,mayBeLess:!0}),this.syncPeek.len<=163)throw new core_1$1.EndOfStreamError;for(;;)if(s&&(this.syncPeek.buf[o]&224)===224){this.buf_frame_header[0]=MpegFrameHeader.SyncByte1,this.buf_frame_header[1]=this.syncPeek.buf[o],await this.tokenizer.ignore(o),debug$d(`Sync at offset=${this.tokenizer.position-1}, frameCount=${this.frameCount}`),this.syncFrameCount===this.frameCount&&(debug$d(`Re-synced MPEG stream, frameCount=${this.frameCount}`),this.frameCount=0,this.frame_size=0),this.syncFrameCount=this.frameCount;return}else if(s=!1,o=this.syncPeek.buf.indexOf(MpegFrameHeader.SyncByte1,o),o===-1){if(this.syncPeek.len<this.syncPeek.buf.length)throw new core_1$1.EndOfStreamError;await this.tokenizer.ignore(this.syncPeek.len);break}else++o,s=!0}}async parseCommonMpegHeader(){this.frameCount===0&&(this.mpegOffset=this.tokenizer.position-1),await this.tokenizer.peekBuffer(this.buf_frame_header,{offset:1,length:3});let s;try{s=FrameHeader.get(this.buf_frame_header,0)}catch(o){return await this.tokenizer.ignore(1),this.metadata.addWarning("Parse error: "+o.message),!1}return await this.tokenizer.ignore(3),this.metadata.setFormat("container",s.container),this.metadata.setFormat("codec",s.codec),this.metadata.setFormat("lossless",!1),this.metadata.setFormat("sampleRate",s.samplingRate),this.frameCount++,s.version>=2&&s.layer===0?this.parseAdts(s):this.parseAudioFrameHeader(s)}async parseAudioFrameHeader(s){this.metadata.setFormat("numberOfChannels",s.channelMode==="mono"?1:2),this.metadata.setFormat("bitrate",s.bitrate),this.frameCount<20*1e4&&debug$d("offset=%s MP%s bitrate=%s sample-rate=%s",this.tokenizer.position-4,s.layer,s.bitrate,s.samplingRate);const o=s.calcSlotSize();if(o===null)throw new Error("invalid slot_size");const c=s.calcSamplesPerFrame();debug$d(`samples_per_frame=${c}`);const h=c/8*s.bitrate/s.samplingRate+(s.padding?o:0);if(this.frame_size=Math.floor(h),this.audioFrameHeader=s,this.bitrates.push(s.bitrate),this.frameCount===1)return this.offset=FrameHeader.len,await this.skipSideInformation(),!1;if(this.frameCount===3){if(this.areAllSame(this.bitrates)){if(this.samplesPerFrame=c,this.metadata.setFormat("codecProfile","CBR"),this.tokenizer.fileInfo.size)return!0}else if(this.metadata.format.duration)return!0;if(!this.options.duration)return!0}return this.options.duration&&this.frameCount===4&&(this.samplesPerFrame=c,this.calculateEofDuration=!0),this.offset=4,s.isProtectedByCRC?(await this.parseCrc(),!1):(await this.skipSideInformation(),!1)}async parseAdts(s){const o=Buffer.alloc(3);await this.tokenizer.readBuffer(o),s.frameLength+=common.getBitAllignedNumber(o,0,0,11),this.totalDataLength+=s.frameLength,this.samplesPerFrame=1024;const c=s.samplingRate/this.samplesPerFrame,h=8*(this.frameCount===0?0:this.totalDataLength/this.frameCount)*c+.5;if(this.metadata.setFormat("bitrate",h),debug$d(`frame-count=${this.frameCount}, size=${s.frameLength} bytes, bit-rate=${h}`),await this.tokenizer.ignore(s.frameLength>7?s.frameLength-7:1),this.frameCount===3)if(this.metadata.setFormat("codecProfile",s.codecProfile),s.mp4ChannelConfig&&this.metadata.setFormat("numberOfChannels",s.mp4ChannelConfig.length),this.options.duration)this.calculateEofDuration=!0;else return!0;return!1}async parseCrc(){return this.crc=await this.tokenizer.readNumber(Token$g.INT16_BE),this.offset+=2,this.skipSideInformation()}async skipSideInformation(){const s=this.audioFrameHeader.calculateSideInfoLength();await this.tokenizer.readToken(new Token$g.Uint8ArrayType(s)),this.offset+=s,await this.readXtraInfoHeader()}async readXtraInfoHeader(){const s=await this.tokenizer.readToken(XingTag_1.InfoTagHeaderTag);switch(this.offset+=XingTag_1.InfoTagHeaderTag.len,s){case"Info":return this.metadata.setFormat("codecProfile","CBR"),this.readXingInfoHeader();case"Xing":const c=await this.readXingInfoHeader(),d=getVbrCodecProfile(c.vbrScale);return this.metadata.setFormat("codecProfile",d),null;case"Xtra":break;case"LAME":const h=await this.tokenizer.readToken(XingTag_1.LameEncoderVersion);if(this.frame_size>=this.offset+XingTag_1.LameEncoderVersion.len)return this.offset+=XingTag_1.LameEncoderVersion.len,this.metadata.setFormat("tool","LAME "+h),await this.skipFrameData(this.frame_size-this.offset),null;this.metadata.addWarning("Corrupt LAME header");break}const o=this.frame_size-this.offset;return o<0?this.metadata.addWarning("Frame "+this.frameCount+"corrupt: negative frameDataLeft"):await this.skipFrameData(o),null}async readXingInfoHeader(){const s=this.tokenizer.position,o=await(0,XingTag_1.readXingHeader)(this.tokenizer);if(this.offset+=this.tokenizer.position-s,o.lame&&(this.metadata.setFormat("tool","LAME "+common.stripNulls(o.lame.version)),o.lame.extended&&(this.metadata.setFormat("trackPeakLevel",o.lame.extended.track_peak),o.lame.extended.track_gain&&this.metadata.setFormat("trackGain",o.lame.extended.track_gain.adjustment),o.lame.extended.album_gain&&this.metadata.setFormat("albumGain",o.lame.extended.album_gain.adjustment),this.metadata.setFormat("duration",o.lame.extended.music_length/1e3))),o.streamSize){const d=this.audioFrameHeader.calcDuration(o.numFrames);return this.metadata.setFormat("duration",d),debug$d("Get duration from Xing header: %s",this.metadata.format.duration),o}const c=this.frame_size-this.offset;return await this.skipFrameData(c),o}async skipFrameData(s){if(s<0)throw new Error("frame-data-left cannot be negative");await this.tokenizer.ignore(s),this.countSkipFrameData+=s}areAllSame(s){const o=s[0];return s.every(c=>c===o)}}MpegParser$1.MpegParser=MpegParser;var musepack={},MpcSv8Parser$1={},StreamVersion8={};Object.defineProperty(StreamVersion8,"__esModule",{value:!0});StreamVersion8.StreamReader=void 0;const Token$f=lib$1,debug_1$c=browserExports$2,util$5=Util,debug$c=(0,debug_1$c.default)("music-metadata:parser:musepack:sv8"),PacketKey=new Token$f.StringType(2,"binary"),SH_part1={len:5,get:(a,s)=>({crc:Token$f.UINT32_LE.get(a,s),streamVersion:Token$f.UINT8.get(a,s+4)})},SH_part3={len:2,get:(a,s)=>({sampleFrequency:[44100,48e3,37800,32e3][util$5.getBitAllignedNumber(a,s,0,3)],maxUsedBands:util$5.getBitAllignedNumber(a,s,3,5),channelCount:util$5.getBitAllignedNumber(a,s+1,0,4)+1,msUsed:util$5.isBitSet(a,s+1,4),audioBlockFrames:util$5.getBitAllignedNumber(a,s+1,5,3)})};class StreamReader{constructor(s){this.tokenizer=s}async readPacketHeader(){const s=await this.tokenizer.readToken(PacketKey),o=await this.readVariableSizeField();return{key:s,payloadLength:o.value-2-o.len}}async readStreamHeader(s){const o={};debug$c(`Reading SH at offset=${this.tokenizer.position}`);const c=await this.tokenizer.readToken(SH_part1);s-=SH_part1.len,Object.assign(o,c),debug$c(`SH.streamVersion = ${c.streamVersion}`);const d=await this.readVariableSizeField();s-=d.len,o.sampleCount=d.value;const h=await this.readVariableSizeField();s-=h.len,o.beginningOfSilence=h.value;const g=await this.tokenizer.readToken(SH_part3);return s-=SH_part3.len,Object.assign(o,g),await this.tokenizer.ignore(s),o}async readVariableSizeField(s=1,o=0){let c=await this.tokenizer.readNumber(Token$f.UINT8);return c&128?(c&=127,c+=o,this.readVariableSizeField(s+1,c<<7)):{len:s,value:o+c}}}StreamVersion8.StreamReader=StreamReader;Object.defineProperty(MpcSv8Parser$1,"__esModule",{value:!0});MpcSv8Parser$1.MpcSv8Parser=void 0;const debug_1$b=browserExports$2,BasicParser_1$6=BasicParser$1,APEv2Parser_1$4=APEv2Parser$1,FourCC_1$6=FourCC,SV8=StreamVersion8,debug$b=(0,debug_1$b.default)("music-metadata:parser:musepack");class MpcSv8Parser extends BasicParser_1$6.BasicParser{constructor(){super(...arguments),this.audioLength=0}async parse(){if(await this.tokenizer.readToken(FourCC_1$6.FourCcToken)!=="MPCK")throw new Error("Invalid Magic number");return this.metadata.setFormat("container","Musepack, SV8"),this.parsePacket()}async parsePacket(){const s=new SV8.StreamReader(this.tokenizer);do{const o=await s.readPacketHeader();switch(debug$b(`packet-header key=${o.key}, payloadLength=${o.payloadLength}`),o.key){case"SH":const c=await s.readStreamHeader(o.payloadLength);this.metadata.setFormat("numberOfSamples",c.sampleCount),this.metadata.setFormat("sampleRate",c.sampleFrequency),this.metadata.setFormat("duration",c.sampleCount/c.sampleFrequency),this.metadata.setFormat("numberOfChannels",c.channelCount);break;case"AP":this.audioLength+=o.payloadLength,await this.tokenizer.ignore(o.payloadLength);break;case"RG":case"EI":case"SO":case"ST":case"CT":await this.tokenizer.ignore(o.payloadLength);break;case"SE":return this.metadata.setFormat("bitrate",this.audioLength*8/this.metadata.format.duration),APEv2Parser_1$4.APEv2Parser.tryParseApeHeader(this.metadata,this.tokenizer,this.options);default:throw new Error(`Unexpected header: ${o.key}`)}}while(!0)}}MpcSv8Parser$1.MpcSv8Parser=MpcSv8Parser;var MpcSv7Parser$1={},BitReader$1={};Object.defineProperty(BitReader$1,"__esModule",{value:!0});BitReader$1.BitReader=void 0;const Token$e=lib$1;class BitReader{constructor(s){this.tokenizer=s,this.pos=0,this.dword=void 0}async read(s){for(;this.dword===void 0;)this.dword=await this.tokenizer.readToken(Token$e.UINT32_LE);let o=this.dword;return this.pos+=s,this.pos<32?(o>>>=32-this.pos,o&(1<<s)-1):(this.pos-=32,this.pos===0?(this.dword=void 0,o&(1<<s)-1):(this.dword=await this.tokenizer.readToken(Token$e.UINT32_LE),this.pos&&(o<<=this.pos,o|=this.dword>>>32-this.pos),o&(1<<s)-1))}async ignore(s){if(this.pos>0){const d=32-this.pos;this.dword=void 0,s-=d,this.pos=0}const o=s%32,c=(s-o)/32;return await this.tokenizer.ignore(c*4),this.read(o)}}BitReader$1.BitReader=BitReader;var StreamVersion7={};Object.defineProperty(StreamVersion7,"__esModule",{value:!0});StreamVersion7.Header=void 0;const Token$d=lib$1,util$4=Util;StreamVersion7.Header={len:6*4,get:(a,s)=>{const o={signature:Buffer.from(a).toString("latin1",s,s+3),streamMinorVersion:util$4.getBitAllignedNumber(a,s+3,0,4),streamMajorVersion:util$4.getBitAllignedNumber(a,s+3,4,4),frameCount:Token$d.UINT32_LE.get(a,s+4),maxLevel:Token$d.UINT16_LE.get(a,s+8),sampleFrequency:[44100,48e3,37800,32e3][util$4.getBitAllignedNumber(a,s+10,0,2)],link:util$4.getBitAllignedNumber(a,s+10,2,2),profile:util$4.getBitAllignedNumber(a,s+10,4,4),maxBand:util$4.getBitAllignedNumber(a,s+11,0,6),intensityStereo:util$4.isBitSet(a,s+11,6),midSideStereo:util$4.isBitSet(a,s+11,7),titlePeak:Token$d.UINT16_LE.get(a,s+12),titleGain:Token$d.UINT16_LE.get(a,s+14),albumPeak:Token$d.UINT16_LE.get(a,s+16),albumGain:Token$d.UINT16_LE.get(a,s+18),lastFrameLength:Token$d.UINT32_LE.get(a,s+20)>>>20&2047,trueGapless:util$4.isBitSet(a,s+23,0)};return o.lastFrameLength=o.trueGapless?Token$d.UINT32_LE.get(a,20)>>>20&2047:0,o}};Object.defineProperty(MpcSv7Parser$1,"__esModule",{value:!0});MpcSv7Parser$1.MpcSv7Parser=void 0;const debug_1$a=browserExports$2,BasicParser_1$5=BasicParser$1,APEv2Parser_1$3=APEv2Parser$1,BitReader_1=BitReader$1,SV7=StreamVersion7,debug$a=(0,debug_1$a.default)("music-metadata:parser:musepack");class MpcSv7Parser extends BasicParser_1$5.BasicParser{constructor(){super(...arguments),this.audioLength=0}async parse(){const s=await this.tokenizer.readToken(SV7.Header);if(s.signature!=="MP+")throw new Error("Unexpected magic number");debug$a(`stream-version=${s.streamMajorVersion}.${s.streamMinorVersion}`),this.metadata.setFormat("container","Musepack, SV7"),this.metadata.setFormat("sampleRate",s.sampleFrequency);const o=1152*(s.frameCount-1)+s.lastFrameLength;this.metadata.setFormat("numberOfSamples",o),this.duration=o/s.sampleFrequency,this.metadata.setFormat("duration",this.duration),this.bitreader=new BitReader_1.BitReader(this.tokenizer),this.metadata.setFormat("numberOfChannels",s.midSideStereo||s.intensityStereo?2:1);const c=await this.bitreader.read(8);return this.metadata.setFormat("codec",(c/100).toFixed(2)),await this.skipAudioData(s.frameCount),debug$a(`End of audio stream, switching to APEv2, offset=${this.tokenizer.position}`),APEv2Parser_1$3.APEv2Parser.tryParseApeHeader(this.metadata,this.tokenizer,this.options)}async skipAudioData(s){for(;s-- >0;){const c=await this.bitreader.read(20);this.audioLength+=20+c,await this.bitreader.ignore(c)}const o=await this.bitreader.read(11);this.audioLength+=o,this.metadata.setFormat("bitrate",this.audioLength/this.duration)}}MpcSv7Parser$1.MpcSv7Parser=MpcSv7Parser;Object.defineProperty(musepack,"__esModule",{value:!0});const debug_1$9=browserExports$2,Token$c=lib$1,AbstractID3Parser_1$1=AbstractID3Parser$1,MpcSv8Parser_1=MpcSv8Parser$1,MpcSv7Parser_1=MpcSv7Parser$1,debug$9=(0,debug_1$9.default)("music-metadata:parser:musepack");class MusepackParser extends AbstractID3Parser_1$1.AbstractID3Parser{async postId3v2Parse(){const s=await this.tokenizer.peekToken(new Token$c.StringType(3,"binary"));let o;switch(s){case"MP+":{debug$9("Musepack stream-version 7"),o=new MpcSv7Parser_1.MpcSv7Parser;break}case"MPC":{debug$9("Musepack stream-version 8"),o=new MpcSv8Parser_1.MpcSv8Parser;break}default:throw new Error("Invalid Musepack signature prefix")}return o.init(this.metadata,this.tokenizer,this.options),o.parse()}}musepack.default=MusepackParser;var OggParser$1={},OpusParser$1={},Opus$1={};Object.defineProperty(Opus$1,"__esModule",{value:!0});Opus$1.IdHeader=void 0;const Token$b=lib$1;class IdHeader{constructor(s){if(this.len=s,s<19)throw new Error("ID-header-page 0 should be at least 19 bytes long")}get(s,o){return{magicSignature:new Token$b.StringType(8,"ascii").get(s,o+0),version:s.readUInt8(o+8),channelCount:s.readUInt8(o+9),preSkip:s.readInt16LE(o+10),inputSampleRate:s.readInt32LE(o+12),outputGain:s.readInt16LE(o+16),channelMapping:s.readUInt8(o+18)}}}Opus$1.IdHeader=IdHeader;Object.defineProperty(OpusParser$1,"__esModule",{value:!0});OpusParser$1.OpusParser=void 0;const Token$a=lib$1,VorbisParser_1$2=VorbisParser$1,Opus=Opus$1;class OpusParser extends VorbisParser_1$2.VorbisParser{constructor(s,o,c){super(s,o),this.tokenizer=c,this.lastPos=-1}parseFirstPage(s,o){if(this.metadata.setFormat("codec","Opus"),this.idHeader=new Opus.IdHeader(o.length).get(o,0),this.idHeader.magicSignature!=="OpusHead")throw new Error("Illegal ogg/Opus magic-signature");this.metadata.setFormat("sampleRate",this.idHeader.inputSampleRate),this.metadata.setFormat("numberOfChannels",this.idHeader.channelCount)}parseFullPage(s){switch(new Token$a.StringType(8,"ascii").get(s,0)){case"OpusTags":this.parseUserCommentList(s,8),this.lastPos=this.tokenizer.position-s.length;break}}calculateDuration(s){if(this.metadata.format.sampleRate&&s.absoluteGranulePosition>=0){const o=s.absoluteGranulePosition-this.idHeader.preSkip;if(this.metadata.setFormat("numberOfSamples",o),this.metadata.setFormat("duration",o/48e3),this.lastPos!==-1&&this.tokenizer.fileInfo.size&&this.metadata.format.duration){const c=this.tokenizer.fileInfo.size-this.lastPos;this.metadata.setFormat("bitrate",8*c/this.metadata.format.duration)}}}}OpusParser$1.OpusParser=OpusParser;var SpeexParser$1={},Speex$1={};Object.defineProperty(Speex$1,"__esModule",{value:!0});Speex$1.Header=void 0;const Token$9=lib$1,util$3=Util;Speex$1.Header={len:80,get:(a,s)=>({speex:new Token$9.StringType(8,"ascii").get(a,s+0),version:util$3.trimRightNull(new Token$9.StringType(20,"ascii").get(a,s+8)),version_id:a.readInt32LE(s+28),header_size:a.readInt32LE(s+32),rate:a.readInt32LE(s+36),mode:a.readInt32LE(s+40),mode_bitstream_version:a.readInt32LE(s+44),nb_channels:a.readInt32LE(s+48),bitrate:a.readInt32LE(s+52),frame_size:a.readInt32LE(s+56),vbr:a.readInt32LE(s+60),frames_per_packet:a.readInt32LE(s+64),extra_headers:a.readInt32LE(s+68),reserved1:a.readInt32LE(s+72),reserved2:a.readInt32LE(s+76)})};Object.defineProperty(SpeexParser$1,"__esModule",{value:!0});SpeexParser$1.SpeexParser=void 0;const debug_1$8=browserExports$2,VorbisParser_1$1=VorbisParser$1,Speex=Speex$1,debug$8=(0,debug_1$8.default)("music-metadata:parser:ogg:speex");class SpeexParser extends VorbisParser_1$1.VorbisParser{constructor(s,o,c){super(s,o),this.tokenizer=c}parseFirstPage(s,o){debug$8("First Ogg/Speex page");const c=Speex.Header.get(o,0);this.metadata.setFormat("codec",`Speex ${c.version}`),this.metadata.setFormat("numberOfChannels",c.nb_channels),this.metadata.setFormat("sampleRate",c.rate),c.bitrate!==-1&&this.metadata.setFormat("bitrate",c.bitrate)}}SpeexParser$1.SpeexParser=SpeexParser;var TheoraParser$1={},Theora={};Object.defineProperty(Theora,"__esModule",{value:!0});Theora.IdentificationHeader=void 0;const Token$8=lib$1;Theora.IdentificationHeader={len:42,get:(a,s)=>({id:new Token$8.StringType(7,"ascii").get(a,s),vmaj:a.readUInt8(s+7),vmin:a.readUInt8(s+8),vrev:a.readUInt8(s+9),vmbw:a.readUInt16BE(s+10),vmbh:a.readUInt16BE(s+17),nombr:Token$8.UINT24_BE.get(a,s+37),nqual:a.readUInt8(s+40)})};Object.defineProperty(TheoraParser$1,"__esModule",{value:!0});TheoraParser$1.TheoraParser=void 0;const debug_1$7=browserExports$2,Theora_1=Theora,debug$7=(0,debug_1$7.default)("music-metadata:parser:ogg:theora");class TheoraParser{constructor(s,o,c){this.metadata=s,this.tokenizer=c}parsePage(s,o){s.headerType.firstPage&&this.parseFirstPage(s,o)}flush(){debug$7("flush")}calculateDuration(s){debug$7("duration calculation not implemented")}parseFirstPage(s,o){debug$7("First Ogg/Theora page"),this.metadata.setFormat("codec","Theora");const c=Theora_1.IdentificationHeader.get(o,0);this.metadata.setFormat("bitrate",c.nombr)}}TheoraParser$1.TheoraParser=TheoraParser;Object.defineProperty(OggParser$1,"__esModule",{value:!0});OggParser$1.OggParser=OggParser$1.SegmentTable=void 0;const Token$7=lib$1,core_1=core$1,debug_1$6=browserExports$2,util$2=Util,FourCC_1$5=FourCC,BasicParser_1$4=BasicParser$1,VorbisParser_1=VorbisParser$1,OpusParser_1=OpusParser$1,SpeexParser_1=SpeexParser$1,TheoraParser_1=TheoraParser$1,debug$6=(0,debug_1$6.default)("music-metadata:parser:ogg");class SegmentTable{static sum(s,o,c){let d=0;for(let h=o;h<o+c;++h)d+=s[h];return d}constructor(s){this.len=s.page_segments}get(s,o){return{totalPageSize:SegmentTable.sum(s,o,this.len)}}}OggParser$1.SegmentTable=SegmentTable;class OggParser extends BasicParser_1$4.BasicParser{async parse(){debug$6("pos=%s, parsePage()",this.tokenizer.position);try{let s;do{if(s=await this.tokenizer.readToken(OggParser.Header),s.capturePattern!=="OggS")throw new Error("Invalid Ogg capture pattern");this.metadata.setFormat("container","Ogg"),this.header=s,this.pageNumber=s.pageSequenceNo,debug$6("page#=%s, Ogg.id=%s",s.pageSequenceNo,s.capturePattern);const o=await this.tokenizer.readToken(new SegmentTable(s));debug$6("totalPageSize=%s",o.totalPageSize);const c=await this.tokenizer.readToken(new Token$7.Uint8ArrayType(o.totalPageSize));if(debug$6("firstPage=%s, lastPage=%s, continued=%s",s.headerType.firstPage,s.headerType.lastPage,s.headerType.continued),s.headerType.firstPage){const d=new Token$7.StringType(7,"ascii").get(Buffer.from(c),0);switch(d){case"vorbis":debug$6("Set page consumer to Ogg/Vorbis"),this.pageConsumer=new VorbisParser_1.VorbisParser(this.metadata,this.options);break;case"OpusHea":debug$6("Set page consumer to Ogg/Opus"),this.pageConsumer=new OpusParser_1.OpusParser(this.metadata,this.options,this.tokenizer);break;case"Speex  ":debug$6("Set page consumer to Ogg/Speex"),this.pageConsumer=new SpeexParser_1.SpeexParser(this.metadata,this.options,this.tokenizer);break;case"fishead":case"\0theora":debug$6("Set page consumer to Ogg/Theora"),this.pageConsumer=new TheoraParser_1.TheoraParser(this.metadata,this.options,this.tokenizer);break;default:throw new Error("gg audio-codec not recognized (id="+d+")")}}this.pageConsumer.parsePage(s,c)}while(!s.headerType.lastPage)}catch(s){if(s instanceof core_1.EndOfStreamError)this.metadata.addWarning("Last OGG-page is not marked with last-page flag"),debug$6("End-of-stream"),this.metadata.addWarning("Last OGG-page is not marked with last-page flag"),this.header&&this.pageConsumer.calculateDuration(this.header);else if(s.message.startsWith("FourCC"))this.pageNumber>0&&(this.metadata.addWarning("Invalid FourCC ID, maybe last OGG-page is not marked with last-page flag"),this.pageConsumer.flush());else throw s}}}OggParser.Header={len:27,get:(a,s)=>({capturePattern:FourCC_1$5.FourCcToken.get(a,s),version:Token$7.UINT8.get(a,s+4),headerType:{continued:util$2.getBit(a,s+5,0),firstPage:util$2.getBit(a,s+5,1),lastPage:util$2.getBit(a,s+5,2)},absoluteGranulePosition:Number(Token$7.UINT64_LE.get(a,s+6)),streamSerialNumber:Token$7.UINT32_LE.get(a,s+14),pageSequenceNo:Token$7.UINT32_LE.get(a,s+18),pageChecksum:Token$7.UINT32_LE.get(a,s+22),page_segments:Token$7.UINT8.get(a,s+26)})};OggParser$1.OggParser=OggParser;var WaveParser$1={},RiffChunk={};Object.defineProperty(RiffChunk,"__esModule",{value:!0});RiffChunk.ListInfoTagValue=RiffChunk.Header=void 0;const Token$6=lib$1;RiffChunk.Header={len:8,get:(a,s)=>({chunkID:a.toString("binary",s,s+4),chunkSize:Token$6.UINT32_LE.get(a,4)})};class ListInfoTagValue{constructor(s){this.tagHeader=s,this.len=s.chunkSize,this.len+=this.len&1}get(s,o){return new Token$6.StringType(this.tagHeader.chunkSize,"ascii").get(s,o)}}RiffChunk.ListInfoTagValue=ListInfoTagValue;var WaveChunk$1={};(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.FactChunk=a.Format=a.WaveFormat=void 0,function(c){c[c.PCM=1]="PCM",c[c.ADPCM=2]="ADPCM",c[c.IEEE_FLOAT=3]="IEEE_FLOAT",c[c.MPEG_ADTS_AAC=5632]="MPEG_ADTS_AAC",c[c.MPEG_LOAS=5634]="MPEG_LOAS",c[c.RAW_AAC1=255]="RAW_AAC1",c[c.DOLBY_AC3_SPDIF=146]="DOLBY_AC3_SPDIF",c[c.DVM=8192]="DVM",c[c.RAW_SPORT=576]="RAW_SPORT",c[c.ESST_AC3=577]="ESST_AC3",c[c.DRM=9]="DRM",c[c.DTS2=8193]="DTS2",c[c.MPEG=80]="MPEG"}(a.WaveFormat||(a.WaveFormat={}));class s{constructor(d){if(d.chunkSize<16)throw new Error("Invalid chunk size");this.len=d.chunkSize}get(d,h){return{wFormatTag:d.readUInt16LE(h),nChannels:d.readUInt16LE(h+2),nSamplesPerSec:d.readUInt32LE(h+4),nAvgBytesPerSec:d.readUInt32LE(h+8),nBlockAlign:d.readUInt16LE(h+12),wBitsPerSample:d.readUInt16LE(h+14)}}}a.Format=s;class o{constructor(d){if(d.chunkSize<4)throw new Error("Invalid fact chunk size.");this.len=d.chunkSize}get(d,h){return{dwSampleLength:d.readUInt32LE(h)}}}a.FactChunk=o})(WaveChunk$1);var BwfChunk={};Object.defineProperty(BwfChunk,"__esModule",{value:!0});BwfChunk.BroadcastAudioExtensionChunk=void 0;const Token$5=lib$1,Util_1=Util;BwfChunk.BroadcastAudioExtensionChunk={len:420,get:(a,s)=>({description:(0,Util_1.stripNulls)(new Token$5.StringType(256,"ascii").get(a,s)).trim(),originator:(0,Util_1.stripNulls)(new Token$5.StringType(32,"ascii").get(a,s+256)).trim(),originatorReference:(0,Util_1.stripNulls)(new Token$5.StringType(32,"ascii").get(a,s+288)).trim(),originationDate:(0,Util_1.stripNulls)(new Token$5.StringType(10,"ascii").get(a,s+320)).trim(),originationTime:(0,Util_1.stripNulls)(new Token$5.StringType(8,"ascii").get(a,s+330)).trim(),timeReferenceLow:Token$5.UINT32_LE.get(a,s+338),timeReferenceHigh:Token$5.UINT32_LE.get(a,s+342),version:Token$5.UINT16_LE.get(a,s+346),umid:new Token$5.Uint8ArrayType(64).get(a,s+348),loudnessValue:Token$5.UINT16_LE.get(a,s+412),maxTruePeakLevel:Token$5.UINT16_LE.get(a,s+414),maxMomentaryLoudness:Token$5.UINT16_LE.get(a,s+416),maxShortTermLoudness:Token$5.UINT16_LE.get(a,s+418)})};Object.defineProperty(WaveParser$1,"__esModule",{value:!0});WaveParser$1.WaveParser=void 0;const strtok3$2=core$1,Token$4=lib$1,debug_1$5=browserExports$2,riff=RiffChunk,WaveChunk=WaveChunk$1,ID3v2Parser_1$2=ID3v2Parser$1,util$1=Util,FourCC_1$4=FourCC,BasicParser_1$3=BasicParser$1,BwfChunk_1=BwfChunk,debug$5=(0,debug_1$5.default)("music-metadata:parser:RIFF");class WaveParser extends BasicParser_1$3.BasicParser{async parse(){const s=await this.tokenizer.readToken(riff.Header);if(debug$5(`pos=${this.tokenizer.position}, parse: chunkID=${s.chunkID}`),s.chunkID==="RIFF")return this.parseRiffChunk(s.chunkSize).catch(o=>{if(!(o instanceof strtok3$2.EndOfStreamError))throw o})}async parseRiffChunk(s){const o=await this.tokenizer.readToken(FourCC_1$4.FourCcToken);switch(this.metadata.setFormat("container",o),o){case"WAVE":return this.readWaveChunk(s-FourCC_1$4.FourCcToken.len);default:throw new Error(`Unsupported RIFF format: RIFF/${o}`)}}async readWaveChunk(s){for(;s>=riff.Header.len;){const o=await this.tokenizer.readToken(riff.Header);switch(s-=riff.Header.len+o.chunkSize,o.chunkSize>s&&this.metadata.addWarning("Data chunk size exceeds file size"),this.header=o,debug$5(`pos=${this.tokenizer.position}, readChunk: chunkID=RIFF/WAVE/${o.chunkID}`),o.chunkID){case"LIST":await this.parseListTag(o);break;case"fact":this.metadata.setFormat("lossless",!1),this.fact=await this.tokenizer.readToken(new WaveChunk.FactChunk(o));break;case"fmt ":const c=await this.tokenizer.readToken(new WaveChunk.Format(o));let d=WaveChunk.WaveFormat[c.wFormatTag];d||(debug$5("WAVE/non-PCM format="+c.wFormatTag),d="non-PCM ("+c.wFormatTag+")"),this.metadata.setFormat("codec",d),this.metadata.setFormat("bitsPerSample",c.wBitsPerSample),this.metadata.setFormat("sampleRate",c.nSamplesPerSec),this.metadata.setFormat("numberOfChannels",c.nChannels),this.metadata.setFormat("bitrate",c.nBlockAlign*c.nSamplesPerSec*8),this.blockAlign=c.nBlockAlign;break;case"id3 ":case"ID3 ":const h=await this.tokenizer.readToken(new Token$4.Uint8ArrayType(o.chunkSize)),g=strtok3$2.fromBuffer(h);await new ID3v2Parser_1$2.ID3v2Parser().parse(this.metadata,g,this.options);break;case"data":this.metadata.format.lossless!==!1&&this.metadata.setFormat("lossless",!0);let b=o.chunkSize;if(this.tokenizer.fileInfo.size){const tt=this.tokenizer.fileInfo.size-this.tokenizer.position;tt<b&&(this.metadata.addWarning("data chunk length exceeding file length"),b=tt)}const _=this.fact?this.fact.dwSampleLength:b===4294967295?void 0:b/this.blockAlign;_&&(this.metadata.setFormat("numberOfSamples",_),this.metadata.setFormat("duration",_/this.metadata.format.sampleRate)),this.metadata.format.codec==="ADPCM"?this.metadata.setFormat("bitrate",352e3):this.metadata.setFormat("bitrate",this.blockAlign*this.metadata.format.sampleRate*8),await this.tokenizer.ignore(o.chunkSize);break;case"bext":const $=await this.tokenizer.readToken(BwfChunk_1.BroadcastAudioExtensionChunk);Object.keys($).forEach(tt=>{this.metadata.addTag("exif","bext."+tt,$[tt])});const _e=o.chunkSize-BwfChunk_1.BroadcastAudioExtensionChunk.len;await this.tokenizer.ignore(_e);break;case"\0\0\0\0":debug$5(`Ignore padding chunk: RIFF/${o.chunkID} of ${o.chunkSize} bytes`),this.metadata.addWarning("Ignore chunk: RIFF/"+o.chunkID),await this.tokenizer.ignore(o.chunkSize);break;default:debug$5(`Ignore chunk: RIFF/${o.chunkID} of ${o.chunkSize} bytes`),this.metadata.addWarning("Ignore chunk: RIFF/"+o.chunkID),await this.tokenizer.ignore(o.chunkSize)}this.header.chunkSize%2===1&&(debug$5("Read odd padding byte"),await this.tokenizer.ignore(1))}}async parseListTag(s){const o=await this.tokenizer.readToken(new Token$4.StringType(4,"binary"));switch(debug$5("pos=%s, parseListTag: chunkID=RIFF/WAVE/LIST/%s",this.tokenizer.position,o),o){case"INFO":return this.parseRiffInfoTags(s.chunkSize-4);case"adtl":default:return this.metadata.addWarning("Ignore chunk: RIFF/WAVE/LIST/"+o),debug$5("Ignoring chunkID=RIFF/WAVE/LIST/"+o),this.tokenizer.ignore(s.chunkSize-4).then()}}async parseRiffInfoTags(s){for(;s>=8;){const o=await this.tokenizer.readToken(riff.Header),c=new riff.ListInfoTagValue(o),d=await this.tokenizer.readToken(c);this.addTag(o.chunkID,util$1.stripNulls(d)),s-=8+c.len}if(s!==0)throw Error("Illegal remaining size: "+s)}addTag(s,o){this.metadata.addTag("exif",s,o)}}WaveParser$1.WaveParser=WaveParser;var WavPackParser$1={},WavPackToken={};Object.defineProperty(WavPackToken,"__esModule",{value:!0});WavPackToken.WavPack=void 0;const Token$3=lib$1,FourCC_1$3=FourCC,SampleRates=[6e3,8e3,9600,11025,12e3,16e3,22050,24e3,32e3,44100,48e3,64e3,88200,96e3,192e3,-1];class WavPack{static isBitSet(s,o){return WavPack.getBitAllignedNumber(s,o,1)===1}static getBitAllignedNumber(s,o,c){return s>>>o&4294967295>>>32-c}}WavPack.BlockHeaderToken={len:32,get:(a,s)=>{const o=Token$3.UINT32_LE.get(a,s+24),c={BlockID:FourCC_1$3.FourCcToken.get(a,s),blockSize:Token$3.UINT32_LE.get(a,s+4),version:Token$3.UINT16_LE.get(a,s+8),totalSamples:Token$3.UINT32_LE.get(a,s+12),blockIndex:Token$3.UINT32_LE.get(a,s+16),blockSamples:Token$3.UINT32_LE.get(a,s+20),flags:{bitsPerSample:(1+WavPack.getBitAllignedNumber(o,0,2))*8,isMono:WavPack.isBitSet(o,2),isHybrid:WavPack.isBitSet(o,3),isJointStereo:WavPack.isBitSet(o,4),crossChannel:WavPack.isBitSet(o,5),hybridNoiseShaping:WavPack.isBitSet(o,6),floatingPoint:WavPack.isBitSet(o,7),samplingRate:SampleRates[WavPack.getBitAllignedNumber(o,23,4)],isDSD:WavPack.isBitSet(o,31)},crc:new Token$3.Uint8ArrayType(4).get(a,s+28)};return c.flags.isDSD&&(c.totalSamples*=8),c}};WavPack.MetadataIdToken={len:1,get:(a,s)=>({functionId:WavPack.getBitAllignedNumber(a[s],0,6),isOptional:WavPack.isBitSet(a[s],5),isOddSize:WavPack.isBitSet(a[s],6),largeBlock:WavPack.isBitSet(a[s],7)})};WavPackToken.WavPack=WavPack;Object.defineProperty(WavPackParser$1,"__esModule",{value:!0});WavPackParser$1.WavPackParser=void 0;const Token$2=lib$1,APEv2Parser_1$2=APEv2Parser$1,FourCC_1$2=FourCC,BasicParser_1$2=BasicParser$1,WavPackToken_1=WavPackToken,debug_1$4=browserExports$2,debug$4=(0,debug_1$4.default)("music-metadata:parser:WavPack");class WavPackParser extends BasicParser_1$2.BasicParser{async parse(){return this.audioDataSize=0,await this.parseWavPackBlocks(),APEv2Parser_1$2.APEv2Parser.tryParseApeHeader(this.metadata,this.tokenizer,this.options)}async parseWavPackBlocks(){do{if(await this.tokenizer.peekToken(FourCC_1$2.FourCcToken)!=="wvpk")break;const o=await this.tokenizer.readToken(WavPackToken_1.WavPack.BlockHeaderToken);if(o.BlockID!=="wvpk")throw new Error("Invalid WavPack Block-ID");debug$4(`WavPack header blockIndex=${o.blockIndex}, len=${WavPackToken_1.WavPack.BlockHeaderToken.len}`),o.blockIndex===0&&!this.metadata.format.container&&(this.metadata.setFormat("container","WavPack"),this.metadata.setFormat("lossless",!o.flags.isHybrid),this.metadata.setFormat("bitsPerSample",o.flags.bitsPerSample),o.flags.isDSD||(this.metadata.setFormat("sampleRate",o.flags.samplingRate),this.metadata.setFormat("duration",o.totalSamples/o.flags.samplingRate)),this.metadata.setFormat("numberOfChannels",o.flags.isMono?1:2),this.metadata.setFormat("numberOfSamples",o.totalSamples),this.metadata.setFormat("codec",o.flags.isDSD?"DSD":"PCM"));const c=o.blockSize-(WavPackToken_1.WavPack.BlockHeaderToken.len-8);await(o.blockIndex===0?this.parseMetadataSubBlock(o,c):this.tokenizer.ignore(c)),o.blockSamples>0&&(this.audioDataSize+=o.blockSize)}while(!this.tokenizer.fileInfo.size||this.tokenizer.fileInfo.size-this.tokenizer.position>=WavPackToken_1.WavPack.BlockHeaderToken.len);this.metadata.setFormat("bitrate",this.audioDataSize*8/this.metadata.format.duration)}async parseMetadataSubBlock(s,o){for(;o>WavPackToken_1.WavPack.MetadataIdToken.len;){const c=await this.tokenizer.readToken(WavPackToken_1.WavPack.MetadataIdToken),d=await this.tokenizer.readNumber(c.largeBlock?Token$2.UINT24_LE:Token$2.UINT8),h=Buffer.alloc(d*2-(c.isOddSize?1:0));switch(await this.tokenizer.readBuffer(h),debug$4(`Metadata Sub-Blocks functionId=0x${c.functionId.toString(16)}, id.largeBlock=${c.largeBlock},data-size=${h.length}`),c.functionId){case 0:break;case 14:debug$4("ID_DSD_BLOCK");const g=1<<h.readUInt8(0),b=s.flags.samplingRate*g*8;if(!s.flags.isDSD)throw new Error("Only expect DSD block if DSD-flag is set");this.metadata.setFormat("sampleRate",b),this.metadata.setFormat("duration",s.totalSamples/b);break;case 36:debug$4("ID_ALT_TRAILER: trailer for non-wav files");break;case 38:this.metadata.setFormat("audioMD5",h);break;case 47:debug$4(`ID_BLOCK_CHECKSUM: checksum=${h.toString("hex")}`);break;default:debug$4(`Ignore unsupported meta-sub-block-id functionId=0x${c.functionId.toString(16)}`);break}o-=WavPackToken_1.WavPack.MetadataIdToken.len+(c.largeBlock?Token$2.UINT24_LE.len:Token$2.UINT8.len)+d*2,debug$4(`remainingLength=${o}`),c.isOddSize&&this.tokenizer.ignore(1)}if(o!==0)throw new Error("metadata-sub-block should fit it remaining length")}}WavPackParser$1.WavPackParser=WavPackParser;var DsfParser$1={},DsfChunk={};(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.FormatChunk=a.ChannelType=a.DsdChunk=a.ChunkHeader=void 0;const s=lib$1,o=FourCC;a.ChunkHeader={len:12,get:(c,d)=>({id:o.FourCcToken.get(c,d),size:s.UINT64_LE.get(c,d+4)})},a.DsdChunk={len:16,get:(c,d)=>({fileSize:s.INT64_LE.get(c,d),metadataPointer:s.INT64_LE.get(c,d+8)})},function(c){c[c.mono=1]="mono",c[c.stereo=2]="stereo",c[c.channels=3]="channels",c[c.quad=4]="quad",c[c["4 channels"]=5]="4 channels",c[c["5 channels"]=6]="5 channels",c[c["5.1 channels"]=7]="5.1 channels"}(a.ChannelType||(a.ChannelType={})),a.FormatChunk={len:40,get:(c,d)=>({formatVersion:s.INT32_LE.get(c,d),formatID:s.INT32_LE.get(c,d+4),channelType:s.INT32_LE.get(c,d+8),channelNum:s.INT32_LE.get(c,d+12),samplingFrequency:s.INT32_LE.get(c,d+16),bitsPerSample:s.INT32_LE.get(c,d+20),sampleCount:s.INT64_LE.get(c,d+24),blockSizePerChannel:s.INT32_LE.get(c,d+32)})}})(DsfChunk);Object.defineProperty(DsfParser$1,"__esModule",{value:!0});DsfParser$1.DsfParser=void 0;const debug_1$3=browserExports$2,AbstractID3Parser_1=AbstractID3Parser$1,DsfChunk_1=DsfChunk,ID3v2Parser_1$1=ID3v2Parser$1,debug$3=(0,debug_1$3.default)("music-metadata:parser:DSF");class DsfParser extends AbstractID3Parser_1.AbstractID3Parser{async postId3v2Parse(){const s=this.tokenizer.position,o=await this.tokenizer.readToken(DsfChunk_1.ChunkHeader);if(o.id!=="DSD ")throw new Error("Invalid chunk signature");this.metadata.setFormat("container","DSF"),this.metadata.setFormat("lossless",!0);const c=await this.tokenizer.readToken(DsfChunk_1.DsdChunk);if(c.metadataPointer===BigInt(0))debug$3("No ID3v2 tag present");else return debug$3(`expect ID3v2 at offset=${c.metadataPointer}`),await this.parseChunks(c.fileSize-o.size),await this.tokenizer.ignore(Number(c.metadataPointer)-this.tokenizer.position-s),new ID3v2Parser_1$1.ID3v2Parser().parse(this.metadata,this.tokenizer,this.options)}async parseChunks(s){for(;s>=DsfChunk_1.ChunkHeader.len;){const o=await this.tokenizer.readToken(DsfChunk_1.ChunkHeader);switch(debug$3(`Parsing chunk name=${o.id} size=${o.size}`),o.id){case"fmt ":const c=await this.tokenizer.readToken(DsfChunk_1.FormatChunk);this.metadata.setFormat("numberOfChannels",c.channelNum),this.metadata.setFormat("sampleRate",c.samplingFrequency),this.metadata.setFormat("bitsPerSample",c.bitsPerSample),this.metadata.setFormat("numberOfSamples",c.sampleCount),this.metadata.setFormat("duration",Number(c.sampleCount)/c.samplingFrequency);const d=c.bitsPerSample*c.samplingFrequency*c.channelNum;this.metadata.setFormat("bitrate",d);return;default:this.tokenizer.ignore(Number(o.size)-DsfChunk_1.ChunkHeader.len);break}s-=o.size}}}DsfParser$1.DsfParser=DsfParser;var DsdiffParser$1={},DsdiffToken={};Object.defineProperty(DsdiffToken,"__esModule",{value:!0});DsdiffToken.ChunkHeader64=void 0;const Token$1=lib$1,FourCC_1$1=FourCC;DsdiffToken.ChunkHeader64={len:12,get:(a,s)=>({chunkID:FourCC_1$1.FourCcToken.get(a,s),chunkSize:Token$1.INT64_BE.get(a,s+4)})};Object.defineProperty(DsdiffParser$1,"__esModule",{value:!0});DsdiffParser$1.DsdiffParser=void 0;const Token=lib$1,debug_1$2=browserExports$2,strtok3$1=core$1,FourCC_1=FourCC,BasicParser_1$1=BasicParser$1,ID3v2Parser_1=ID3v2Parser$1,DsdiffToken_1=DsdiffToken,debug$2=(0,debug_1$2.default)("music-metadata:parser:aiff");class DsdiffParser extends BasicParser_1$1.BasicParser{async parse(){const s=await this.tokenizer.readToken(DsdiffToken_1.ChunkHeader64);if(s.chunkID!=="FRM8")throw new Error("Unexpected chunk-ID");const o=(await this.tokenizer.readToken(FourCC_1.FourCcToken)).trim();switch(o){case"DSD":return this.metadata.setFormat("container",`DSDIFF/${o}`),this.metadata.setFormat("lossless",!0),this.readFmt8Chunks(s.chunkSize-BigInt(FourCC_1.FourCcToken.len));default:throw Error(`Unsupported DSDIFF type: ${o}`)}}async readFmt8Chunks(s){for(;s>=DsdiffToken_1.ChunkHeader64.len;){const o=await this.tokenizer.readToken(DsdiffToken_1.ChunkHeader64);debug$2(`Chunk id=${o.chunkID}`),await this.readData(o),s-=BigInt(DsdiffToken_1.ChunkHeader64.len)+o.chunkSize}}async readData(s){debug$2(`Reading data of chunk[ID=${s.chunkID}, size=${s.chunkSize}]`);const o=this.tokenizer.position;switch(s.chunkID.trim()){case"FVER":const d=await this.tokenizer.readToken(Token.UINT32_LE);debug$2(`DSDIFF version=${d}`);break;case"PROP":if(await this.tokenizer.readToken(FourCC_1.FourCcToken)!=="SND ")throw new Error("Unexpected PROP-chunk ID");await this.handleSoundPropertyChunks(s.chunkSize-BigInt(FourCC_1.FourCcToken.len));break;case"ID3":const g=await this.tokenizer.readToken(new Token.Uint8ArrayType(Number(s.chunkSize))),b=strtok3$1.fromBuffer(g);await new ID3v2Parser_1.ID3v2Parser().parse(this.metadata,b,this.options);break;default:debug$2(`Ignore chunk[ID=${s.chunkID}, size=${s.chunkSize}]`);break;case"DSD":this.metadata.setFormat("numberOfSamples",Number(s.chunkSize*BigInt(8)/BigInt(this.metadata.format.numberOfChannels))),this.metadata.setFormat("duration",this.metadata.format.numberOfSamples/this.metadata.format.sampleRate);break}const c=s.chunkSize-BigInt(this.tokenizer.position-o);c>0&&(debug$2(`After Parsing chunk, remaining ${c} bytes`),await this.tokenizer.ignore(Number(c)))}async handleSoundPropertyChunks(s){for(debug$2(`Parsing sound-property-chunks, remainingSize=${s}`);s>0;){const o=await this.tokenizer.readToken(DsdiffToken_1.ChunkHeader64);debug$2(`Sound-property-chunk[ID=${o.chunkID}, size=${o.chunkSize}]`);const c=this.tokenizer.position;switch(o.chunkID.trim()){case"FS":const h=await this.tokenizer.readToken(Token.UINT32_BE);this.metadata.setFormat("sampleRate",h);break;case"CHNL":const g=await this.tokenizer.readToken(Token.UINT16_BE);this.metadata.setFormat("numberOfChannels",g),await this.handleChannelChunks(o.chunkSize-BigInt(Token.UINT16_BE.len));break;case"CMPR":const b=(await this.tokenizer.readToken(FourCC_1.FourCcToken)).trim(),_=await this.tokenizer.readToken(Token.UINT8),$=await this.tokenizer.readToken(new Token.StringType(_,"ascii"));b==="DSD"&&(this.metadata.setFormat("lossless",!0),this.metadata.setFormat("bitsPerSample",1)),this.metadata.setFormat("codec",`${b} (${$})`);break;case"ABSS":const _e=await this.tokenizer.readToken(Token.UINT16_BE),tt=await this.tokenizer.readToken(Token.UINT8),et=await this.tokenizer.readToken(Token.UINT8),nt=await this.tokenizer.readToken(Token.UINT32_BE);debug$2(`ABSS ${_e}:${tt}:${et}.${nt}`);break;case"LSCO":const ot=await this.tokenizer.readToken(Token.UINT16_BE);debug$2(`LSCO lsConfig=${ot}`);break;case"COMT":default:debug$2(`Unknown sound-property-chunk[ID=${o.chunkID}, size=${o.chunkSize}]`),await this.tokenizer.ignore(Number(o.chunkSize))}const d=o.chunkSize-BigInt(this.tokenizer.position-c);d>0&&(debug$2(`After Parsing sound-property-chunk ${o.chunkSize}, remaining ${d} bytes`),await this.tokenizer.ignore(Number(d))),s-=BigInt(DsdiffToken_1.ChunkHeader64.len)+o.chunkSize,debug$2(`Parsing sound-property-chunks, remainingSize=${s}`)}if(this.metadata.format.lossless&&this.metadata.format.sampleRate&&this.metadata.format.numberOfChannels&&this.metadata.format.bitsPerSample){const o=this.metadata.format.sampleRate*this.metadata.format.numberOfChannels*this.metadata.format.bitsPerSample;this.metadata.setFormat("bitrate",o)}}async handleChannelChunks(s){debug$2(`Parsing channel-chunks, remainingSize=${s}`);const o=[];for(;s>=FourCC_1.FourCcToken.len;){const c=await this.tokenizer.readToken(FourCC_1.FourCcToken);debug$2(`Channel[ID=${c}]`),o.push(c),s-=BigInt(FourCC_1.FourCcToken.len)}return debug$2(`Channels: ${o.join(", ")}`),o}}DsdiffParser$1.DsdiffParser=DsdiffParser;var MatroskaParser$1={},MatroskaDtd={};Object.defineProperty(MatroskaDtd,"__esModule",{value:!0});MatroskaDtd.elements=void 0;const types_1$1=types;MatroskaDtd.elements={440786851:{name:"ebml",container:{17030:{name:"ebmlVersion",value:types_1$1.DataType.uint},17143:{name:"ebmlReadVersion",value:types_1$1.DataType.uint},17138:{name:"ebmlMaxIDWidth",value:types_1$1.DataType.uint},17139:{name:"ebmlMaxSizeWidth",value:types_1$1.DataType.uint},17026:{name:"docType",value:types_1$1.DataType.string},17031:{name:"docTypeVersion",value:types_1$1.DataType.uint},17029:{name:"docTypeReadVersion",value:types_1$1.DataType.uint}}},408125543:{name:"segment",container:{290298740:{name:"seekHead",container:{19899:{name:"seek",container:{21419:{name:"seekId",value:types_1$1.DataType.binary},21420:{name:"seekPosition",value:types_1$1.DataType.uint}}}}},357149030:{name:"info",container:{29604:{name:"uid",value:types_1$1.DataType.uid},29572:{name:"filename",value:types_1$1.DataType.string},3979555:{name:"prevUID",value:types_1$1.DataType.uid},3965867:{name:"prevFilename",value:types_1$1.DataType.string},4110627:{name:"nextUID",value:types_1$1.DataType.uid},4096955:{name:"nextFilename",value:types_1$1.DataType.string},2807729:{name:"timecodeScale",value:types_1$1.DataType.uint},17545:{name:"duration",value:types_1$1.DataType.float},17505:{name:"dateUTC",value:types_1$1.DataType.uint},31657:{name:"title",value:types_1$1.DataType.string},19840:{name:"muxingApp",value:types_1$1.DataType.string},22337:{name:"writingApp",value:types_1$1.DataType.string}}},524531317:{name:"cluster",multiple:!0,container:{231:{name:"timecode",value:types_1$1.DataType.uid},163:{name:"unknown",value:types_1$1.DataType.binary},167:{name:"position",value:types_1$1.DataType.uid},171:{name:"prevSize",value:types_1$1.DataType.uid}}},374648427:{name:"tracks",container:{174:{name:"entries",multiple:!0,container:{215:{name:"trackNumber",value:types_1$1.DataType.uint},29637:{name:"uid",value:types_1$1.DataType.uid},131:{name:"trackType",value:types_1$1.DataType.uint},185:{name:"flagEnabled",value:types_1$1.DataType.bool},136:{name:"flagDefault",value:types_1$1.DataType.bool},21930:{name:"flagForced",value:types_1$1.DataType.bool},156:{name:"flagLacing",value:types_1$1.DataType.bool},28135:{name:"minCache",value:types_1$1.DataType.uint},28136:{name:"maxCache",value:types_1$1.DataType.uint},2352003:{name:"defaultDuration",value:types_1$1.DataType.uint},2306383:{name:"timecodeScale",value:types_1$1.DataType.float},21358:{name:"name",value:types_1$1.DataType.string},2274716:{name:"language",value:types_1$1.DataType.string},134:{name:"codecID",value:types_1$1.DataType.string},25506:{name:"codecPrivate",value:types_1$1.DataType.binary},2459272:{name:"codecName",value:types_1$1.DataType.string},3839639:{name:"codecSettings",value:types_1$1.DataType.string},3883072:{name:"codecInfoUrl",value:types_1$1.DataType.string},2536e3:{name:"codecDownloadUrl",value:types_1$1.DataType.string},170:{name:"codecDecodeAll",value:types_1$1.DataType.bool},28587:{name:"trackOverlay",value:types_1$1.DataType.uint},224:{name:"video",container:{154:{name:"flagInterlaced",value:types_1$1.DataType.bool},21432:{name:"stereoMode",value:types_1$1.DataType.uint},176:{name:"pixelWidth",value:types_1$1.DataType.uint},186:{name:"pixelHeight",value:types_1$1.DataType.uint},21680:{name:"displayWidth",value:types_1$1.DataType.uint},21690:{name:"displayHeight",value:types_1$1.DataType.uint},21683:{name:"aspectRatioType",value:types_1$1.DataType.uint},3061028:{name:"colourSpace",value:types_1$1.DataType.uint},3126563:{name:"gammaValue",value:types_1$1.DataType.float}}},225:{name:"audio",container:{181:{name:"samplingFrequency",value:types_1$1.DataType.float},30901:{name:"outputSamplingFrequency",value:types_1$1.DataType.float},159:{name:"channels",value:types_1$1.DataType.uint},148:{name:"channels",value:types_1$1.DataType.uint},32123:{name:"channelPositions",value:types_1$1.DataType.binary},25188:{name:"bitDepth",value:types_1$1.DataType.uint}}},28032:{name:"contentEncodings",container:{25152:{name:"contentEncoding",container:{20529:{name:"order",value:types_1$1.DataType.uint},20530:{name:"scope",value:types_1$1.DataType.bool},20531:{name:"type",value:types_1$1.DataType.uint},20532:{name:"contentEncoding",container:{16980:{name:"contentCompAlgo",value:types_1$1.DataType.uint},16981:{name:"contentCompSettings",value:types_1$1.DataType.binary}}},20533:{name:"contentEncoding",container:{18401:{name:"contentEncAlgo",value:types_1$1.DataType.uint},18402:{name:"contentEncKeyID",value:types_1$1.DataType.binary},18403:{name:"contentSignature ",value:types_1$1.DataType.binary},18404:{name:"ContentSigKeyID  ",value:types_1$1.DataType.binary},18405:{name:"contentSigAlgo ",value:types_1$1.DataType.uint},18406:{name:"contentSigHashAlgo ",value:types_1$1.DataType.uint}}},25188:{name:"bitDepth",value:types_1$1.DataType.uint}}}}}}}}},475249515:{name:"cues",container:{187:{name:"cuePoint",container:{179:{name:"cueTime",value:types_1$1.DataType.uid},183:{name:"positions",container:{247:{name:"track",value:types_1$1.DataType.uint},241:{name:"clusterPosition",value:types_1$1.DataType.uint},21368:{name:"blockNumber",value:types_1$1.DataType.uint},234:{name:"codecState",value:types_1$1.DataType.uint},219:{name:"reference",container:{150:{name:"time",value:types_1$1.DataType.uint},151:{name:"cluster",value:types_1$1.DataType.uint},21343:{name:"number",value:types_1$1.DataType.uint},235:{name:"codecState",value:types_1$1.DataType.uint}}},240:{name:"relativePosition",value:types_1$1.DataType.uint}}}}}}},423732329:{name:"attachments",container:{24999:{name:"attachedFiles",multiple:!0,container:{18046:{name:"description",value:types_1$1.DataType.string},18030:{name:"name",value:types_1$1.DataType.string},18016:{name:"mimeType",value:types_1$1.DataType.string},18012:{name:"data",value:types_1$1.DataType.binary},18094:{name:"uid",value:types_1$1.DataType.uid}}}}},272869232:{name:"chapters",container:{17849:{name:"editionEntry",container:{182:{name:"chapterAtom",container:{29636:{name:"uid",value:types_1$1.DataType.uid},145:{name:"timeStart",value:types_1$1.DataType.uint},146:{name:"timeEnd",value:types_1$1.DataType.uid},152:{name:"hidden",value:types_1$1.DataType.bool},17816:{name:"enabled",value:types_1$1.DataType.uid},143:{name:"track",container:{137:{name:"trackNumber",value:types_1$1.DataType.uid},128:{name:"display",container:{133:{name:"string",value:types_1$1.DataType.string},17276:{name:"language ",value:types_1$1.DataType.string},17278:{name:"country ",value:types_1$1.DataType.string}}}}}}}}}}},307544935:{name:"tags",container:{29555:{name:"tag",multiple:!0,container:{25536:{name:"target",container:{25541:{name:"tagTrackUID",value:types_1$1.DataType.uid},25540:{name:"tagChapterUID",value:types_1$1.DataType.uint},25542:{name:"tagAttachmentUID",value:types_1$1.DataType.uid},25546:{name:"targetType",value:types_1$1.DataType.string},26826:{name:"targetTypeValue",value:types_1$1.DataType.uint},25545:{name:"tagEditionUID",value:types_1$1.DataType.uid}}},26568:{name:"simpleTags",multiple:!0,container:{17827:{name:"name",value:types_1$1.DataType.string},17543:{name:"string",value:types_1$1.DataType.string},17541:{name:"binary",value:types_1$1.DataType.binary},17530:{name:"language",value:types_1$1.DataType.string},17531:{name:"languageIETF",value:types_1$1.DataType.string},17540:{name:"default",value:types_1$1.DataType.bool}}}}}}}}}};Object.defineProperty(MatroskaParser$1,"__esModule",{value:!0});MatroskaParser$1.MatroskaParser=void 0;const token_types_1=lib$1,debug_1$1=browserExports$2,BasicParser_1=BasicParser$1,types_1=types,matroskaDtd=MatroskaDtd,debug$1=(0,debug_1$1.default)("music-metadata:parser:matroska");class MatroskaParser extends BasicParser_1.BasicParser{constructor(){super(),this.padding=0,this.parserMap=new Map,this.ebmlMaxIDLength=4,this.ebmlMaxSizeLength=8,this.parserMap.set(types_1.DataType.uint,s=>this.readUint(s)),this.parserMap.set(types_1.DataType.string,s=>this.readString(s)),this.parserMap.set(types_1.DataType.binary,s=>this.readBuffer(s)),this.parserMap.set(types_1.DataType.uid,async s=>await this.readUint(s)===1),this.parserMap.set(types_1.DataType.bool,s=>this.readFlag(s)),this.parserMap.set(types_1.DataType.float,s=>this.readFloat(s))}init(s,o,c){return super.init(s,o,c),this}async parse(){const s=await this.parseContainer(matroskaDtd.elements,this.tokenizer.fileInfo.size,[]);if(this.metadata.setFormat("container",`EBML/${s.ebml.docType}`),s.segment){const o=s.segment.info;if(o){const d=o.timecodeScale?o.timecodeScale:1e6;if(typeof o.duration=="number"){const h=o.duration*d/1e9;this.addTag("segment:title",o.title),this.metadata.setFormat("duration",h)}}const c=s.segment.tracks;if(c&&c.entries){c.entries.forEach(h=>{const g={codecName:h.codecID.replace("A_","").replace("V_",""),codecSettings:h.codecSettings,flagDefault:h.flagDefault,flagLacing:h.flagLacing,flagEnabled:h.flagEnabled,language:h.language,name:h.name,type:h.trackType,audio:h.audio,video:h.video};this.metadata.addStreamInfo(g)});const d=c.entries.filter(h=>h.trackType===types_1.TrackType.audio.valueOf()).reduce((h,g)=>!h||!h.flagDefault&&g.flagDefault||g.trackNumber&&g.trackNumber<h.trackNumber?g:h,null);d&&(this.metadata.setFormat("codec",d.codecID.replace("A_","")),this.metadata.setFormat("sampleRate",d.audio.samplingFrequency),this.metadata.setFormat("numberOfChannels",d.audio.channels)),s.segment.tags&&s.segment.tags.tag.forEach(h=>{const g=h.target,b=g!=null&&g.targetTypeValue?types_1.TargetType[g.targetTypeValue]:g!=null&&g.targetType?g.targetType:"track";h.simpleTags.forEach(_=>{const $=_.string?_.string:_.binary;this.addTag(`${b}:${_.name}`,$)})}),s.segment.attachments&&s.segment.attachments.attachedFiles.filter(h=>h.mimeType.startsWith("image/")).map(h=>({data:h.data,format:h.mimeType,description:h.description,name:h.name})).forEach(h=>{this.addTag("picture",h)})}}}async parseContainer(s,o,c){const d={};for(;this.tokenizer.position<o;){let h;try{h=await this.readElement()}catch(b){if(b.message==="End-Of-Stream")break;throw b}const g=s[h.id];if(g)if(debug$1(`Element: name=${g.name}, container=${!!g.container}`),g.container){const b=await this.parseContainer(g.container,h.len>=0?this.tokenizer.position+h.len:-1,c.concat([g.name]));g.multiple?(d[g.name]||(d[g.name]=[]),d[g.name].push(b)):d[g.name]=b}else d[g.name]=await this.parserMap.get(g.value)(h);else switch(h.id){case 236:this.padding+=h.len,await this.tokenizer.ignore(h.len);break;default:debug$1(`parseEbml: path=${c.join("/")}, unknown element: id=${h.id.toString(16)}`),this.padding+=h.len,await this.tokenizer.ignore(h.len)}}return d}async readVintData(s){const o=await this.tokenizer.peekNumber(token_types_1.UINT8);let c=128,d=1;for(;!(o&c);){if(d>s)throw new Error("VINT value exceeding maximum size");++d,c>>=1}const h=Buffer.alloc(d);return await this.tokenizer.readBuffer(h),h}async readElement(){const s=await this.readVintData(this.ebmlMaxIDLength),o=await this.readVintData(this.ebmlMaxSizeLength);o[0]^=128>>o.length-1;const c=Math.min(6,o.length);return{id:s.readUIntBE(0,s.length),len:o.readUIntBE(o.length-c,c)}}isMaxValue(s){if(s.length===this.ebmlMaxSizeLength){for(let o=1;o<this.ebmlMaxSizeLength;++o)if(s[o]!==255)return!1;return!0}return!1}async readFloat(s){switch(s.len){case 0:return 0;case 4:return this.tokenizer.readNumber(token_types_1.Float32_BE);case 8:return this.tokenizer.readNumber(token_types_1.Float64_BE);case 10:return this.tokenizer.readNumber(token_types_1.Float64_BE);default:throw new Error(`Invalid IEEE-754 float length: ${s.len}`)}}async readFlag(s){return await this.readUint(s)===1}async readUint(s){const o=await this.readBuffer(s),c=Math.min(6,s.len);return o.readUIntBE(s.len-c,c)}async readString(s){return(await this.tokenizer.readToken(new token_types_1.StringType(s.len,"utf-8"))).replace(/\00.*$/g,"")}async readBuffer(s){const o=Buffer.alloc(s.len);return await this.tokenizer.readBuffer(o),o}addTag(s,o){this.metadata.addTag("matroska",s,o)}}MatroskaParser$1.MatroskaParser=MatroskaParser;Object.defineProperty(ParserFactory$1,"__esModule",{value:!0});ParserFactory$1.ParserFactory=ParserFactory$1.parseHttpContentType=void 0;const FileType=core,ContentType=contentType,MimeType=mediaTyper,debug_1=browserExports$2,MetadataCollector_1=MetadataCollector$1,AiffParser_1=AiffParser,APEv2Parser_1$1=APEv2Parser$1,AsfParser_1=AsfParser$1,FlacParser_1=FlacParser$1,MP4Parser_1=MP4Parser$1,MpegParser_1=MpegParser$1,musepack_1=musepack,OggParser_1=OggParser$1,WaveParser_1=WaveParser$1,WavPackParser_1=WavPackParser$1,DsfParser_1=DsfParser$1,DsdiffParser_1=DsdiffParser$1,MatroskaParser_1=MatroskaParser$1,debug=(0,debug_1.default)("music-metadata:parser:factory");function parseHttpContentType(a){const s=ContentType.parse(a),o=MimeType.parse(s.type);return{type:o.type,subtype:o.subtype,suffix:o.suffix,parameters:s.parameters}}ParserFactory$1.parseHttpContentType=parseHttpContentType;async function parse(a,s,o={}){const c=await ParserFactory.loadParser(s),d=new MetadataCollector_1.MetadataCollector(o);return await c.init(d,a,o).parse(),d.toCommonMetadata()}class ParserFactory{static async parseOnContentType(s,o){const{mimeType:c,path:d,url:h}=await s.fileInfo,g=ParserFactory.getParserIdForMimeType(c)||ParserFactory.getParserIdForExtension(d)||ParserFactory.getParserIdForExtension(h);return g||debug("No parser found for MIME-type / extension: "+c),this.parse(s,g,o)}static async parse(s,o,c){if(!o){debug("Guess parser on content...");const d=Buffer.alloc(4100);if(await s.peekBuffer(d,{mayBeLess:!0}),s.fileInfo.path&&(o=this.getParserIdForExtension(s.fileInfo.path)),!o){const h=await FileType.fromBuffer(d);if(!h)throw new Error("Failed to determine audio format");if(debug(`Guessed file type is mime=${h.mime}, extension=${h.ext}`),o=ParserFactory.getParserIdForMimeType(h.mime),!o)throw new Error("Guessed MIME-type not supported: "+h.mime)}}return parse(s,o,c)}static getParserIdForExtension(s){if(!s)return;switch(this.getExtension(s).toLocaleLowerCase()||s){case".mp2":case".mp3":case".m2a":case".aac":return"mpeg";case".ape":return"apev2";case".mp4":case".m4a":case".m4b":case".m4pa":case".m4v":case".m4r":case".3gp":return"mp4";case".wma":case".wmv":case".asf":return"asf";case".flac":return"flac";case".ogg":case".ogv":case".oga":case".ogm":case".ogx":case".opus":case".spx":return"ogg";case".aif":case".aiff":case".aifc":return"aiff";case".wav":case".bwf":return"riff";case".wv":case".wvp":return"wavpack";case".mpc":return"musepack";case".dsf":return"dsf";case".dff":return"dsdiff";case".mka":case".mkv":case".mk3d":case".mks":case".webm":return"matroska"}}static async loadParser(s){switch(s){case"aiff":return new AiffParser_1.AIFFParser;case"adts":case"mpeg":return new MpegParser_1.MpegParser;case"apev2":return new APEv2Parser_1$1.APEv2Parser;case"asf":return new AsfParser_1.AsfParser;case"dsf":return new DsfParser_1.DsfParser;case"dsdiff":return new DsdiffParser_1.DsdiffParser;case"flac":return new FlacParser_1.FlacParser;case"mp4":return new MP4Parser_1.MP4Parser;case"musepack":return new musepack_1.default;case"ogg":return new OggParser_1.OggParser;case"riff":return new WaveParser_1.WaveParser;case"wavpack":return new WavPackParser_1.WavPackParser;case"matroska":return new MatroskaParser_1.MatroskaParser;default:throw new Error(`Unknown parser type: ${s}`)}}static getExtension(s){const o=s.lastIndexOf(".");return o===-1?"":s.slice(o)}static getParserIdForMimeType(s){let o;try{o=parseHttpContentType(s)}catch{debug(`Invalid HTTP Content-Type header value: ${s}`);return}const c=o.subtype.indexOf("x-")===0?o.subtype.substring(2):o.subtype;switch(o.type){case"audio":switch(c){case"mp3":case"mpeg":return"mpeg";case"aac":case"aacp":return"adts";case"flac":return"flac";case"ape":case"monkeys-audio":return"apev2";case"mp4":case"m4a":return"mp4";case"ogg":case"opus":case"speex":return"ogg";case"ms-wma":case"ms-wmv":case"ms-asf":return"asf";case"aiff":case"aif":case"aifc":return"aiff";case"vnd.wave":case"wav":case"wave":return"riff";case"wavpack":return"wavpack";case"musepack":return"musepack";case"matroska":case"webm":return"matroska";case"dsf":return"dsf"}break;case"video":switch(c){case"ms-asf":case"ms-wmv":return"asf";case"m4v":case"mp4":return"mp4";case"ogg":return"ogg";case"matroska":case"webm":return"matroska"}break;case"application":switch(c){case"vnd.ms-asf":return"asf";case"ogg":return"ogg"}break}}}ParserFactory$1.ParserFactory=ParserFactory;var RandomUint8ArrayReader$1={};Object.defineProperty(RandomUint8ArrayReader$1,"__esModule",{value:!0});RandomUint8ArrayReader$1.RandomUint8ArrayReader=void 0;class RandomUint8ArrayReader{constructor(s){this.uint8Array=s,this.fileSize=s.length}async randomRead(s,o,c,d){return s.set(this.uint8Array.subarray(d,d+c),o),c}}RandomUint8ArrayReader$1.RandomUint8ArrayReader=RandomUint8ArrayReader;var Lyrics3={};(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.getLyricsHeaderLength=a.endTag2=void 0,a.endTag2="LYRICS200";async function s(o){if(o.fileSize>=143){const c=Buffer.alloc(15);await o.randomRead(c,0,c.length,o.fileSize-143);const d=c.toString("binary");if(d.substr(6)===a.endTag2)return parseInt(d.substr(0,6),10)+15}return 0}a.getLyricsHeaderLength=s})(Lyrics3);Object.defineProperty(core$2,"__esModule",{value:!0});core$2.scanAppendingHeaders=core$2.selectCover=core$2.ratingToStars=core$2.orderTags=core$2.parseFromTokenizer=core$2.parseBuffer=core$2.parseStream=void 0;const strtok3=core$1,ParserFactory_1=ParserFactory$1,RandomUint8ArrayReader_1=RandomUint8ArrayReader$1,APEv2Parser_1=APEv2Parser$1,ID3v1Parser_1=ID3v1Parser,Lyrics3_1=Lyrics3;function parseStream(a,s,o={}){return parseFromTokenizer(strtok3.fromStream(a,typeof s=="string"?{mimeType:s}:s),o)}core$2.parseStream=parseStream;async function parseBuffer(a,s,o={}){const c=new RandomUint8ArrayReader_1.RandomUint8ArrayReader(a);await scanAppendingHeaders(c,o);const d=strtok3.fromBuffer(a,typeof s=="string"?{mimeType:s}:s);return parseFromTokenizer(d,o)}core$2.parseBuffer=parseBuffer;function parseFromTokenizer(a,s){return ParserFactory_1.ParserFactory.parseOnContentType(a,s)}core$2.parseFromTokenizer=parseFromTokenizer;function orderTags(a){const s={};for(const o of a)(s[o.id]=s[o.id]||[]).push(o.value);return s}core$2.orderTags=orderTags;function ratingToStars(a){return a===void 0?0:1+Math.round(a*4)}core$2.ratingToStars=ratingToStars;function selectCover(a){return a?a.reduce((s,o)=>o.name&&o.name.toLowerCase()in["front","cover","cover (front)"]?o:s):null}core$2.selectCover=selectCover;async function scanAppendingHeaders(a,s={}){let o=a.fileSize;if(await(0,ID3v1Parser_1.hasID3v1Header)(a)){o-=128;const c=await(0,Lyrics3_1.getLyricsHeaderLength)(a);o-=c}s.apeHeader=await APEv2Parser_1.APEv2Parser.findApeFooterOffset(a,o)}core$2.scanAppendingHeaders=scanAppendingHeaders;var lib={},browser$2={exports:{}},stream={exports:{}},buffer={},base64Js={};base64Js.byteLength=byteLength;base64Js.toByteArray=toByteArray;base64Js.fromByteArray=fromByteArray;var lookup=[],revLookup=[],Arr=typeof Uint8Array<"u"?Uint8Array:Array,code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var i=0,len=code.length;i<len;++i)lookup[i]=code[i],revLookup[code.charCodeAt(i)]=i;revLookup[45]=62;revLookup[95]=63;function getLens(a){var s=a.length;if(s%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var o=a.indexOf("=");o===-1&&(o=s);var c=o===s?0:4-o%4;return[o,c]}function byteLength(a){var s=getLens(a),o=s[0],c=s[1];return(o+c)*3/4-c}function _byteLength(a,s,o){return(s+o)*3/4-o}function toByteArray(a){var s,o=getLens(a),c=o[0],d=o[1],h=new Arr(_byteLength(a,c,d)),g=0,b=d>0?c-4:c,_;for(_=0;_<b;_+=4)s=revLookup[a.charCodeAt(_)]<<18|revLookup[a.charCodeAt(_+1)]<<12|revLookup[a.charCodeAt(_+2)]<<6|revLookup[a.charCodeAt(_+3)],h[g++]=s>>16&255,h[g++]=s>>8&255,h[g++]=s&255;return d===2&&(s=revLookup[a.charCodeAt(_)]<<2|revLookup[a.charCodeAt(_+1)]>>4,h[g++]=s&255),d===1&&(s=revLookup[a.charCodeAt(_)]<<10|revLookup[a.charCodeAt(_+1)]<<4|revLookup[a.charCodeAt(_+2)]>>2,h[g++]=s>>8&255,h[g++]=s&255),h}function tripletToBase64(a){return lookup[a>>18&63]+lookup[a>>12&63]+lookup[a>>6&63]+lookup[a&63]}function encodeChunk(a,s,o){for(var c,d=[],h=s;h<o;h+=3)c=(a[h]<<16&16711680)+(a[h+1]<<8&65280)+(a[h+2]&255),d.push(tripletToBase64(c));return d.join("")}function fromByteArray(a){for(var s,o=a.length,c=o%3,d=[],h=16383,g=0,b=o-c;g<b;g+=h)d.push(encodeChunk(a,g,g+h>b?b:g+h));return c===1?(s=a[o-1],d.push(lookup[s>>2]+lookup[s<<4&63]+"==")):c===2&&(s=(a[o-2]<<8)+a[o-1],d.push(lookup[s>>10]+lookup[s>>4&63]+lookup[s<<2&63]+"=")),d.join("")}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(a){const s=base64Js,o=ieee754,c=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;a.Buffer=b,a.SlowBuffer=ht,a.INSPECT_MAX_BYTES=50;const d=2147483647;a.kMaxLength=d,b.TYPED_ARRAY_SUPPORT=h(),!b.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function h(){try{const mt=new Uint8Array(1),rt={foo:function(){return 42}};return Object.setPrototypeOf(rt,Uint8Array.prototype),Object.setPrototypeOf(mt,rt),mt.foo()===42}catch{return!1}}Object.defineProperty(b.prototype,"parent",{enumerable:!0,get:function(){if(b.isBuffer(this))return this.buffer}}),Object.defineProperty(b.prototype,"offset",{enumerable:!0,get:function(){if(b.isBuffer(this))return this.byteOffset}});function g(mt){if(mt>d)throw new RangeError('The value "'+mt+'" is invalid for option "size"');const rt=new Uint8Array(mt);return Object.setPrototypeOf(rt,b.prototype),rt}function b(mt,rt,it){if(typeof mt=="number"){if(typeof rt=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return tt(mt)}return _(mt,rt,it)}b.poolSize=8192;function _(mt,rt,it){if(typeof mt=="string")return et(mt,rt);if(ArrayBuffer.isView(mt))return ot(mt);if(mt==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof mt);if(pr(mt,ArrayBuffer)||mt&&pr(mt.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(pr(mt,SharedArrayBuffer)||mt&&pr(mt.buffer,SharedArrayBuffer)))return st(mt,rt,it);if(typeof mt=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const Et=mt.valueOf&&mt.valueOf();if(Et!=null&&Et!==mt)return b.from(Et,rt,it);const Tt=pt(mt);if(Tt)return Tt;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof mt[Symbol.toPrimitive]=="function")return b.from(mt[Symbol.toPrimitive]("string"),rt,it);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof mt)}b.from=function(mt,rt,it){return _(mt,rt,it)},Object.setPrototypeOf(b.prototype,Uint8Array.prototype),Object.setPrototypeOf(b,Uint8Array);function $(mt){if(typeof mt!="number")throw new TypeError('"size" argument must be of type number');if(mt<0)throw new RangeError('The value "'+mt+'" is invalid for option "size"')}function _e(mt,rt,it){return $(mt),mt<=0?g(mt):rt!==void 0?typeof it=="string"?g(mt).fill(rt,it):g(mt).fill(rt):g(mt)}b.alloc=function(mt,rt,it){return _e(mt,rt,it)};function tt(mt){return $(mt),g(mt<0?0:at(mt)|0)}b.allocUnsafe=function(mt){return tt(mt)},b.allocUnsafeSlow=function(mt){return tt(mt)};function et(mt,rt){if((typeof rt!="string"||rt==="")&&(rt="utf8"),!b.isEncoding(rt))throw new TypeError("Unknown encoding: "+rt);const it=lt(mt,rt)|0;let Et=g(it);const Tt=Et.write(mt,rt);return Tt!==it&&(Et=Et.slice(0,Tt)),Et}function nt(mt){const rt=mt.length<0?0:at(mt.length)|0,it=g(rt);for(let Et=0;Et<rt;Et+=1)it[Et]=mt[Et]&255;return it}function ot(mt){if(pr(mt,Uint8Array)){const rt=new Uint8Array(mt);return st(rt.buffer,rt.byteOffset,rt.byteLength)}return nt(mt)}function st(mt,rt,it){if(rt<0||mt.byteLength<rt)throw new RangeError('"offset" is outside of buffer bounds');if(mt.byteLength<rt+(it||0))throw new RangeError('"length" is outside of buffer bounds');let Et;return rt===void 0&&it===void 0?Et=new Uint8Array(mt):it===void 0?Et=new Uint8Array(mt,rt):Et=new Uint8Array(mt,rt,it),Object.setPrototypeOf(Et,b.prototype),Et}function pt(mt){if(b.isBuffer(mt)){const rt=at(mt.length)|0,it=g(rt);return it.length===0||mt.copy(it,0,0,rt),it}if(mt.length!==void 0)return typeof mt.length!="number"||Nr(mt.length)?g(0):nt(mt);if(mt.type==="Buffer"&&Array.isArray(mt.data))return nt(mt.data)}function at(mt){if(mt>=d)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+d.toString(16)+" bytes");return mt|0}function ht(mt){return+mt!=mt&&(mt=0),b.alloc(+mt)}b.isBuffer=function(rt){return rt!=null&&rt._isBuffer===!0&&rt!==b.prototype},b.compare=function(rt,it){if(pr(rt,Uint8Array)&&(rt=b.from(rt,rt.offset,rt.byteLength)),pr(it,Uint8Array)&&(it=b.from(it,it.offset,it.byteLength)),!b.isBuffer(rt)||!b.isBuffer(it))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(rt===it)return 0;let Et=rt.length,Tt=it.length;for(let Nt=0,Bt=Math.min(Et,Tt);Nt<Bt;++Nt)if(rt[Nt]!==it[Nt]){Et=rt[Nt],Tt=it[Nt];break}return Et<Tt?-1:Tt<Et?1:0},b.isEncoding=function(rt){switch(String(rt).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},b.concat=function(rt,it){if(!Array.isArray(rt))throw new TypeError('"list" argument must be an Array of Buffers');if(rt.length===0)return b.alloc(0);let Et;if(it===void 0)for(it=0,Et=0;Et<rt.length;++Et)it+=rt[Et].length;const Tt=b.allocUnsafe(it);let Nt=0;for(Et=0;Et<rt.length;++Et){let Bt=rt[Et];if(pr(Bt,Uint8Array))Nt+Bt.length>Tt.length?(b.isBuffer(Bt)||(Bt=b.from(Bt)),Bt.copy(Tt,Nt)):Uint8Array.prototype.set.call(Tt,Bt,Nt);else if(b.isBuffer(Bt))Bt.copy(Tt,Nt);else throw new TypeError('"list" argument must be an Array of Buffers');Nt+=Bt.length}return Tt};function lt(mt,rt){if(b.isBuffer(mt))return mt.length;if(ArrayBuffer.isView(mt)||pr(mt,ArrayBuffer))return mt.byteLength;if(typeof mt!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof mt);const it=mt.length,Et=arguments.length>2&&arguments[2]===!0;if(!Et&&it===0)return 0;let Tt=!1;for(;;)switch(rt){case"ascii":case"latin1":case"binary":return it;case"utf8":case"utf-8":return fr(mt).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return it*2;case"hex":return it>>>1;case"base64":return Er(mt).length;default:if(Tt)return Et?-1:fr(mt).length;rt=(""+rt).toLowerCase(),Tt=!0}}b.byteLength=lt;function yt(mt,rt,it){let Et=!1;if((rt===void 0||rt<0)&&(rt=0),rt>this.length||((it===void 0||it>this.length)&&(it=this.length),it<=0)||(it>>>=0,rt>>>=0,it<=rt))return"";for(mt||(mt="utf8");;)switch(mt){case"hex":return er(this,rt,it);case"utf8":case"utf-8":return Yt(this,rt,it);case"ascii":return dr(this,rt,it);case"latin1":case"binary":return Rt(this,rt,it);case"base64":return Pt(this,rt,it);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return sr(this,rt,it);default:if(Et)throw new TypeError("Unknown encoding: "+mt);mt=(mt+"").toLowerCase(),Et=!0}}b.prototype._isBuffer=!0;function bt(mt,rt,it){const Et=mt[rt];mt[rt]=mt[it],mt[it]=Et}b.prototype.swap16=function(){const rt=this.length;if(rt%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let it=0;it<rt;it+=2)bt(this,it,it+1);return this},b.prototype.swap32=function(){const rt=this.length;if(rt%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let it=0;it<rt;it+=4)bt(this,it,it+3),bt(this,it+1,it+2);return this},b.prototype.swap64=function(){const rt=this.length;if(rt%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let it=0;it<rt;it+=8)bt(this,it,it+7),bt(this,it+1,it+6),bt(this,it+2,it+5),bt(this,it+3,it+4);return this},b.prototype.toString=function(){const rt=this.length;return rt===0?"":arguments.length===0?Yt(this,0,rt):yt.apply(this,arguments)},b.prototype.toLocaleString=b.prototype.toString,b.prototype.equals=function(rt){if(!b.isBuffer(rt))throw new TypeError("Argument must be a Buffer");return this===rt?!0:b.compare(this,rt)===0},b.prototype.inspect=function(){let rt="";const it=a.INSPECT_MAX_BYTES;return rt=this.toString("hex",0,it).replace(/(.{2})/g,"$1 ").trim(),this.length>it&&(rt+=" ... "),"<Buffer "+rt+">"},c&&(b.prototype[c]=b.prototype.inspect),b.prototype.compare=function(rt,it,Et,Tt,Nt){if(pr(rt,Uint8Array)&&(rt=b.from(rt,rt.offset,rt.byteLength)),!b.isBuffer(rt))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof rt);if(it===void 0&&(it=0),Et===void 0&&(Et=rt?rt.length:0),Tt===void 0&&(Tt=0),Nt===void 0&&(Nt=this.length),it<0||Et>rt.length||Tt<0||Nt>this.length)throw new RangeError("out of range index");if(Tt>=Nt&&it>=Et)return 0;if(Tt>=Nt)return-1;if(it>=Et)return 1;if(it>>>=0,Et>>>=0,Tt>>>=0,Nt>>>=0,this===rt)return 0;let Bt=Nt-Tt,yr=Et-it;const Tr=Math.min(Bt,yr),br=this.slice(Tt,Nt),Rr=rt.slice(it,Et);for(let cr=0;cr<Tr;++cr)if(br[cr]!==Rr[cr]){Bt=br[cr],yr=Rr[cr];break}return Bt<yr?-1:yr<Bt?1:0};function gt(mt,rt,it,Et,Tt){if(mt.length===0)return-1;if(typeof it=="string"?(Et=it,it=0):it>2147483647?it=2147483647:it<-2147483648&&(it=-2147483648),it=+it,Nr(it)&&(it=Tt?0:mt.length-1),it<0&&(it=mt.length+it),it>=mt.length){if(Tt)return-1;it=mt.length-1}else if(it<0)if(Tt)it=0;else return-1;if(typeof rt=="string"&&(rt=b.from(rt,Et)),b.isBuffer(rt))return rt.length===0?-1:dt(mt,rt,it,Et,Tt);if(typeof rt=="number")return rt=rt&255,typeof Uint8Array.prototype.indexOf=="function"?Tt?Uint8Array.prototype.indexOf.call(mt,rt,it):Uint8Array.prototype.lastIndexOf.call(mt,rt,it):dt(mt,[rt],it,Et,Tt);throw new TypeError("val must be string, number or Buffer")}function dt(mt,rt,it,Et,Tt){let Nt=1,Bt=mt.length,yr=rt.length;if(Et!==void 0&&(Et=String(Et).toLowerCase(),Et==="ucs2"||Et==="ucs-2"||Et==="utf16le"||Et==="utf-16le")){if(mt.length<2||rt.length<2)return-1;Nt=2,Bt/=2,yr/=2,it/=2}function Tr(Rr,cr){return Nt===1?Rr[cr]:Rr.readUInt16BE(cr*Nt)}let br;if(Tt){let Rr=-1;for(br=it;br<Bt;br++)if(Tr(mt,br)===Tr(rt,Rr===-1?0:br-Rr)){if(Rr===-1&&(Rr=br),br-Rr+1===yr)return Rr*Nt}else Rr!==-1&&(br-=br-Rr),Rr=-1}else for(it+yr>Bt&&(it=Bt-yr),br=it;br>=0;br--){let Rr=!0;for(let cr=0;cr<yr;cr++)if(Tr(mt,br+cr)!==Tr(rt,cr)){Rr=!1;break}if(Rr)return br}return-1}b.prototype.includes=function(rt,it,Et){return this.indexOf(rt,it,Et)!==-1},b.prototype.indexOf=function(rt,it,Et){return gt(this,rt,it,Et,!0)},b.prototype.lastIndexOf=function(rt,it,Et){return gt(this,rt,it,Et,!1)};function vt(mt,rt,it,Et){it=Number(it)||0;const Tt=mt.length-it;Et?(Et=Number(Et),Et>Tt&&(Et=Tt)):Et=Tt;const Nt=rt.length;Et>Nt/2&&(Et=Nt/2);let Bt;for(Bt=0;Bt<Et;++Bt){const yr=parseInt(rt.substr(Bt*2,2),16);if(Nr(yr))return Bt;mt[it+Bt]=yr}return Bt}function kt(mt,rt,it,Et){return Dr(fr(rt,mt.length-it),mt,it,Et)}function jt(mt,rt,it,Et){return Dr(xr(rt),mt,it,Et)}function Lt(mt,rt,it,Et){return Dr(Er(rt),mt,it,Et)}function Mt(mt,rt,it,Et){return Dr(gr(rt,mt.length-it),mt,it,Et)}b.prototype.write=function(rt,it,Et,Tt){if(it===void 0)Tt="utf8",Et=this.length,it=0;else if(Et===void 0&&typeof it=="string")Tt=it,Et=this.length,it=0;else if(isFinite(it))it=it>>>0,isFinite(Et)?(Et=Et>>>0,Tt===void 0&&(Tt="utf8")):(Tt=Et,Et=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Nt=this.length-it;if((Et===void 0||Et>Nt)&&(Et=Nt),rt.length>0&&(Et<0||it<0)||it>this.length)throw new RangeError("Attempt to write outside buffer bounds");Tt||(Tt="utf8");let Bt=!1;for(;;)switch(Tt){case"hex":return vt(this,rt,it,Et);case"utf8":case"utf-8":return kt(this,rt,it,Et);case"ascii":case"latin1":case"binary":return jt(this,rt,it,Et);case"base64":return Lt(this,rt,it,Et);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Mt(this,rt,it,Et);default:if(Bt)throw new TypeError("Unknown encoding: "+Tt);Tt=(""+Tt).toLowerCase(),Bt=!0}},b.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Pt(mt,rt,it){return rt===0&&it===mt.length?s.fromByteArray(mt):s.fromByteArray(mt.slice(rt,it))}function Yt(mt,rt,it){it=Math.min(mt.length,it);const Et=[];let Tt=rt;for(;Tt<it;){const Nt=mt[Tt];let Bt=null,yr=Nt>239?4:Nt>223?3:Nt>191?2:1;if(Tt+yr<=it){let Tr,br,Rr,cr;switch(yr){case 1:Nt<128&&(Bt=Nt);break;case 2:Tr=mt[Tt+1],(Tr&192)===128&&(cr=(Nt&31)<<6|Tr&63,cr>127&&(Bt=cr));break;case 3:Tr=mt[Tt+1],br=mt[Tt+2],(Tr&192)===128&&(br&192)===128&&(cr=(Nt&15)<<12|(Tr&63)<<6|br&63,cr>2047&&(cr<55296||cr>57343)&&(Bt=cr));break;case 4:Tr=mt[Tt+1],br=mt[Tt+2],Rr=mt[Tt+3],(Tr&192)===128&&(br&192)===128&&(Rr&192)===128&&(cr=(Nt&15)<<18|(Tr&63)<<12|(br&63)<<6|Rr&63,cr>65535&&cr<1114112&&(Bt=cr))}}Bt===null?(Bt=65533,yr=1):Bt>65535&&(Bt-=65536,Et.push(Bt>>>10&1023|55296),Bt=56320|Bt&1023),Et.push(Bt),Tt+=yr}return rr(Et)}const ir=4096;function rr(mt){const rt=mt.length;if(rt<=ir)return String.fromCharCode.apply(String,mt);let it="",Et=0;for(;Et<rt;)it+=String.fromCharCode.apply(String,mt.slice(Et,Et+=ir));return it}function dr(mt,rt,it){let Et="";it=Math.min(mt.length,it);for(let Tt=rt;Tt<it;++Tt)Et+=String.fromCharCode(mt[Tt]&127);return Et}function Rt(mt,rt,it){let Et="";it=Math.min(mt.length,it);for(let Tt=rt;Tt<it;++Tt)Et+=String.fromCharCode(mt[Tt]);return Et}function er(mt,rt,it){const Et=mt.length;(!rt||rt<0)&&(rt=0),(!it||it<0||it>Et)&&(it=Et);let Tt="";for(let Nt=rt;Nt<it;++Nt)Tt+=on[mt[Nt]];return Tt}function sr(mt,rt,it){const Et=mt.slice(rt,it);let Tt="";for(let Nt=0;Nt<Et.length-1;Nt+=2)Tt+=String.fromCharCode(Et[Nt]+Et[Nt+1]*256);return Tt}b.prototype.slice=function(rt,it){const Et=this.length;rt=~~rt,it=it===void 0?Et:~~it,rt<0?(rt+=Et,rt<0&&(rt=0)):rt>Et&&(rt=Et),it<0?(it+=Et,it<0&&(it=0)):it>Et&&(it=Et),it<rt&&(it=rt);const Tt=this.subarray(rt,it);return Object.setPrototypeOf(Tt,b.prototype),Tt};function zt(mt,rt,it){if(mt%1!==0||mt<0)throw new RangeError("offset is not uint");if(mt+rt>it)throw new RangeError("Trying to access beyond buffer length")}b.prototype.readUintLE=b.prototype.readUIntLE=function(rt,it,Et){rt=rt>>>0,it=it>>>0,Et||zt(rt,it,this.length);let Tt=this[rt],Nt=1,Bt=0;for(;++Bt<it&&(Nt*=256);)Tt+=this[rt+Bt]*Nt;return Tt},b.prototype.readUintBE=b.prototype.readUIntBE=function(rt,it,Et){rt=rt>>>0,it=it>>>0,Et||zt(rt,it,this.length);let Tt=this[rt+--it],Nt=1;for(;it>0&&(Nt*=256);)Tt+=this[rt+--it]*Nt;return Tt},b.prototype.readUint8=b.prototype.readUInt8=function(rt,it){return rt=rt>>>0,it||zt(rt,1,this.length),this[rt]},b.prototype.readUint16LE=b.prototype.readUInt16LE=function(rt,it){return rt=rt>>>0,it||zt(rt,2,this.length),this[rt]|this[rt+1]<<8},b.prototype.readUint16BE=b.prototype.readUInt16BE=function(rt,it){return rt=rt>>>0,it||zt(rt,2,this.length),this[rt]<<8|this[rt+1]},b.prototype.readUint32LE=b.prototype.readUInt32LE=function(rt,it){return rt=rt>>>0,it||zt(rt,4,this.length),(this[rt]|this[rt+1]<<8|this[rt+2]<<16)+this[rt+3]*16777216},b.prototype.readUint32BE=b.prototype.readUInt32BE=function(rt,it){return rt=rt>>>0,it||zt(rt,4,this.length),this[rt]*16777216+(this[rt+1]<<16|this[rt+2]<<8|this[rt+3])},b.prototype.readBigUInt64LE=zr(function(rt){rt=rt>>>0,St(rt,"offset");const it=this[rt],Et=this[rt+7];(it===void 0||Et===void 0)&&At(rt,this.length-8);const Tt=it+this[++rt]*2**8+this[++rt]*2**16+this[++rt]*2**24,Nt=this[++rt]+this[++rt]*2**8+this[++rt]*2**16+Et*2**24;return BigInt(Tt)+(BigInt(Nt)<<BigInt(32))}),b.prototype.readBigUInt64BE=zr(function(rt){rt=rt>>>0,St(rt,"offset");const it=this[rt],Et=this[rt+7];(it===void 0||Et===void 0)&&At(rt,this.length-8);const Tt=it*2**24+this[++rt]*2**16+this[++rt]*2**8+this[++rt],Nt=this[++rt]*2**24+this[++rt]*2**16+this[++rt]*2**8+Et;return(BigInt(Tt)<<BigInt(32))+BigInt(Nt)}),b.prototype.readIntLE=function(rt,it,Et){rt=rt>>>0,it=it>>>0,Et||zt(rt,it,this.length);let Tt=this[rt],Nt=1,Bt=0;for(;++Bt<it&&(Nt*=256);)Tt+=this[rt+Bt]*Nt;return Nt*=128,Tt>=Nt&&(Tt-=Math.pow(2,8*it)),Tt},b.prototype.readIntBE=function(rt,it,Et){rt=rt>>>0,it=it>>>0,Et||zt(rt,it,this.length);let Tt=it,Nt=1,Bt=this[rt+--Tt];for(;Tt>0&&(Nt*=256);)Bt+=this[rt+--Tt]*Nt;return Nt*=128,Bt>=Nt&&(Bt-=Math.pow(2,8*it)),Bt},b.prototype.readInt8=function(rt,it){return rt=rt>>>0,it||zt(rt,1,this.length),this[rt]&128?(255-this[rt]+1)*-1:this[rt]},b.prototype.readInt16LE=function(rt,it){rt=rt>>>0,it||zt(rt,2,this.length);const Et=this[rt]|this[rt+1]<<8;return Et&32768?Et|4294901760:Et},b.prototype.readInt16BE=function(rt,it){rt=rt>>>0,it||zt(rt,2,this.length);const Et=this[rt+1]|this[rt]<<8;return Et&32768?Et|4294901760:Et},b.prototype.readInt32LE=function(rt,it){return rt=rt>>>0,it||zt(rt,4,this.length),this[rt]|this[rt+1]<<8|this[rt+2]<<16|this[rt+3]<<24},b.prototype.readInt32BE=function(rt,it){return rt=rt>>>0,it||zt(rt,4,this.length),this[rt]<<24|this[rt+1]<<16|this[rt+2]<<8|this[rt+3]},b.prototype.readBigInt64LE=zr(function(rt){rt=rt>>>0,St(rt,"offset");const it=this[rt],Et=this[rt+7];(it===void 0||Et===void 0)&&At(rt,this.length-8);const Tt=this[rt+4]+this[rt+5]*2**8+this[rt+6]*2**16+(Et<<24);return(BigInt(Tt)<<BigInt(32))+BigInt(it+this[++rt]*2**8+this[++rt]*2**16+this[++rt]*2**24)}),b.prototype.readBigInt64BE=zr(function(rt){rt=rt>>>0,St(rt,"offset");const it=this[rt],Et=this[rt+7];(it===void 0||Et===void 0)&&At(rt,this.length-8);const Tt=(it<<24)+this[++rt]*2**16+this[++rt]*2**8+this[++rt];return(BigInt(Tt)<<BigInt(32))+BigInt(this[++rt]*2**24+this[++rt]*2**16+this[++rt]*2**8+Et)}),b.prototype.readFloatLE=function(rt,it){return rt=rt>>>0,it||zt(rt,4,this.length),o.read(this,rt,!0,23,4)},b.prototype.readFloatBE=function(rt,it){return rt=rt>>>0,it||zt(rt,4,this.length),o.read(this,rt,!1,23,4)},b.prototype.readDoubleLE=function(rt,it){return rt=rt>>>0,it||zt(rt,8,this.length),o.read(this,rt,!0,52,8)},b.prototype.readDoubleBE=function(rt,it){return rt=rt>>>0,it||zt(rt,8,this.length),o.read(this,rt,!1,52,8)};function lr(mt,rt,it,Et,Tt,Nt){if(!b.isBuffer(mt))throw new TypeError('"buffer" argument must be a Buffer instance');if(rt>Tt||rt<Nt)throw new RangeError('"value" argument is out of bounds');if(it+Et>mt.length)throw new RangeError("Index out of range")}b.prototype.writeUintLE=b.prototype.writeUIntLE=function(rt,it,Et,Tt){if(rt=+rt,it=it>>>0,Et=Et>>>0,!Tt){const yr=Math.pow(2,8*Et)-1;lr(this,rt,it,Et,yr,0)}let Nt=1,Bt=0;for(this[it]=rt&255;++Bt<Et&&(Nt*=256);)this[it+Bt]=rt/Nt&255;return it+Et},b.prototype.writeUintBE=b.prototype.writeUIntBE=function(rt,it,Et,Tt){if(rt=+rt,it=it>>>0,Et=Et>>>0,!Tt){const yr=Math.pow(2,8*Et)-1;lr(this,rt,it,Et,yr,0)}let Nt=Et-1,Bt=1;for(this[it+Nt]=rt&255;--Nt>=0&&(Bt*=256);)this[it+Nt]=rt/Bt&255;return it+Et},b.prototype.writeUint8=b.prototype.writeUInt8=function(rt,it,Et){return rt=+rt,it=it>>>0,Et||lr(this,rt,it,1,255,0),this[it]=rt&255,it+1},b.prototype.writeUint16LE=b.prototype.writeUInt16LE=function(rt,it,Et){return rt=+rt,it=it>>>0,Et||lr(this,rt,it,2,65535,0),this[it]=rt&255,this[it+1]=rt>>>8,it+2},b.prototype.writeUint16BE=b.prototype.writeUInt16BE=function(rt,it,Et){return rt=+rt,it=it>>>0,Et||lr(this,rt,it,2,65535,0),this[it]=rt>>>8,this[it+1]=rt&255,it+2},b.prototype.writeUint32LE=b.prototype.writeUInt32LE=function(rt,it,Et){return rt=+rt,it=it>>>0,Et||lr(this,rt,it,4,4294967295,0),this[it+3]=rt>>>24,this[it+2]=rt>>>16,this[it+1]=rt>>>8,this[it]=rt&255,it+4},b.prototype.writeUint32BE=b.prototype.writeUInt32BE=function(rt,it,Et){return rt=+rt,it=it>>>0,Et||lr(this,rt,it,4,4294967295,0),this[it]=rt>>>24,this[it+1]=rt>>>16,this[it+2]=rt>>>8,this[it+3]=rt&255,it+4};function nr(mt,rt,it,Et,Tt){Or(rt,Et,Tt,mt,it,7);let Nt=Number(rt&BigInt(4294967295));mt[it++]=Nt,Nt=Nt>>8,mt[it++]=Nt,Nt=Nt>>8,mt[it++]=Nt,Nt=Nt>>8,mt[it++]=Nt;let Bt=Number(rt>>BigInt(32)&BigInt(4294967295));return mt[it++]=Bt,Bt=Bt>>8,mt[it++]=Bt,Bt=Bt>>8,mt[it++]=Bt,Bt=Bt>>8,mt[it++]=Bt,it}function mr(mt,rt,it,Et,Tt){Or(rt,Et,Tt,mt,it,7);let Nt=Number(rt&BigInt(4294967295));mt[it+7]=Nt,Nt=Nt>>8,mt[it+6]=Nt,Nt=Nt>>8,mt[it+5]=Nt,Nt=Nt>>8,mt[it+4]=Nt;let Bt=Number(rt>>BigInt(32)&BigInt(4294967295));return mt[it+3]=Bt,Bt=Bt>>8,mt[it+2]=Bt,Bt=Bt>>8,mt[it+1]=Bt,Bt=Bt>>8,mt[it]=Bt,it+8}b.prototype.writeBigUInt64LE=zr(function(rt,it=0){return nr(this,rt,it,BigInt(0),BigInt("0xffffffffffffffff"))}),b.prototype.writeBigUInt64BE=zr(function(rt,it=0){return mr(this,rt,it,BigInt(0),BigInt("0xffffffffffffffff"))}),b.prototype.writeIntLE=function(rt,it,Et,Tt){if(rt=+rt,it=it>>>0,!Tt){const Tr=Math.pow(2,8*Et-1);lr(this,rt,it,Et,Tr-1,-Tr)}let Nt=0,Bt=1,yr=0;for(this[it]=rt&255;++Nt<Et&&(Bt*=256);)rt<0&&yr===0&&this[it+Nt-1]!==0&&(yr=1),this[it+Nt]=(rt/Bt>>0)-yr&255;return it+Et},b.prototype.writeIntBE=function(rt,it,Et,Tt){if(rt=+rt,it=it>>>0,!Tt){const Tr=Math.pow(2,8*Et-1);lr(this,rt,it,Et,Tr-1,-Tr)}let Nt=Et-1,Bt=1,yr=0;for(this[it+Nt]=rt&255;--Nt>=0&&(Bt*=256);)rt<0&&yr===0&&this[it+Nt+1]!==0&&(yr=1),this[it+Nt]=(rt/Bt>>0)-yr&255;return it+Et},b.prototype.writeInt8=function(rt,it,Et){return rt=+rt,it=it>>>0,Et||lr(this,rt,it,1,127,-128),rt<0&&(rt=255+rt+1),this[it]=rt&255,it+1},b.prototype.writeInt16LE=function(rt,it,Et){return rt=+rt,it=it>>>0,Et||lr(this,rt,it,2,32767,-32768),this[it]=rt&255,this[it+1]=rt>>>8,it+2},b.prototype.writeInt16BE=function(rt,it,Et){return rt=+rt,it=it>>>0,Et||lr(this,rt,it,2,32767,-32768),this[it]=rt>>>8,this[it+1]=rt&255,it+2},b.prototype.writeInt32LE=function(rt,it,Et){return rt=+rt,it=it>>>0,Et||lr(this,rt,it,4,2147483647,-2147483648),this[it]=rt&255,this[it+1]=rt>>>8,this[it+2]=rt>>>16,this[it+3]=rt>>>24,it+4},b.prototype.writeInt32BE=function(rt,it,Et){return rt=+rt,it=it>>>0,Et||lr(this,rt,it,4,2147483647,-2147483648),rt<0&&(rt=4294967295+rt+1),this[it]=rt>>>24,this[it+1]=rt>>>16,this[it+2]=rt>>>8,this[it+3]=rt&255,it+4},b.prototype.writeBigInt64LE=zr(function(rt,it=0){return nr(this,rt,it,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),b.prototype.writeBigInt64BE=zr(function(rt,it=0){return mr(this,rt,it,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Ar(mt,rt,it,Et,Tt,Nt){if(it+Et>mt.length)throw new RangeError("Index out of range");if(it<0)throw new RangeError("Index out of range")}function wr(mt,rt,it,Et,Tt){return rt=+rt,it=it>>>0,Tt||Ar(mt,rt,it,4),o.write(mt,rt,it,Et,23,4),it+4}b.prototype.writeFloatLE=function(rt,it,Et){return wr(this,rt,it,!0,Et)},b.prototype.writeFloatBE=function(rt,it,Et){return wr(this,rt,it,!1,Et)};function Pr(mt,rt,it,Et,Tt){return rt=+rt,it=it>>>0,Tt||Ar(mt,rt,it,8),o.write(mt,rt,it,Et,52,8),it+8}b.prototype.writeDoubleLE=function(rt,it,Et){return Pr(this,rt,it,!0,Et)},b.prototype.writeDoubleBE=function(rt,it,Et){return Pr(this,rt,it,!1,Et)},b.prototype.copy=function(rt,it,Et,Tt){if(!b.isBuffer(rt))throw new TypeError("argument should be a Buffer");if(Et||(Et=0),!Tt&&Tt!==0&&(Tt=this.length),it>=rt.length&&(it=rt.length),it||(it=0),Tt>0&&Tt<Et&&(Tt=Et),Tt===Et||rt.length===0||this.length===0)return 0;if(it<0)throw new RangeError("targetStart out of bounds");if(Et<0||Et>=this.length)throw new RangeError("Index out of range");if(Tt<0)throw new RangeError("sourceEnd out of bounds");Tt>this.length&&(Tt=this.length),rt.length-it<Tt-Et&&(Tt=rt.length-it+Et);const Nt=Tt-Et;return this===rt&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(it,Et,Tt):Uint8Array.prototype.set.call(rt,this.subarray(Et,Tt),it),Nt},b.prototype.fill=function(rt,it,Et,Tt){if(typeof rt=="string"){if(typeof it=="string"?(Tt=it,it=0,Et=this.length):typeof Et=="string"&&(Tt=Et,Et=this.length),Tt!==void 0&&typeof Tt!="string")throw new TypeError("encoding must be a string");if(typeof Tt=="string"&&!b.isEncoding(Tt))throw new TypeError("Unknown encoding: "+Tt);if(rt.length===1){const Bt=rt.charCodeAt(0);(Tt==="utf8"&&Bt<128||Tt==="latin1")&&(rt=Bt)}}else typeof rt=="number"?rt=rt&255:typeof rt=="boolean"&&(rt=Number(rt));if(it<0||this.length<it||this.length<Et)throw new RangeError("Out of range index");if(Et<=it)return this;it=it>>>0,Et=Et===void 0?this.length:Et>>>0,rt||(rt=0);let Nt;if(typeof rt=="number")for(Nt=it;Nt<Et;++Nt)this[Nt]=rt;else{const Bt=b.isBuffer(rt)?rt:b.from(rt,Tt),yr=Bt.length;if(yr===0)throw new TypeError('The value "'+rt+'" is invalid for argument "value"');for(Nt=0;Nt<Et-it;++Nt)this[Nt+it]=Bt[Nt%yr]}return this};const Cr={};function $r(mt,rt,it){Cr[mt]=class extends it{constructor(){super(),Object.defineProperty(this,"message",{value:rt.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${mt}]`,this.stack,delete this.name}get code(){return mt}set code(Tt){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Tt,writable:!0})}toString(){return`${this.name} [${mt}]: ${this.message}`}}}$r("ERR_BUFFER_OUT_OF_BOUNDS",function(mt){return mt?`${mt} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),$r("ERR_INVALID_ARG_TYPE",function(mt,rt){return`The "${mt}" argument must be of type number. Received type ${typeof rt}`},TypeError),$r("ERR_OUT_OF_RANGE",function(mt,rt,it){let Et=`The value of "${mt}" is out of range.`,Tt=it;return Number.isInteger(it)&&Math.abs(it)>2**32?Tt=Br(String(it)):typeof it=="bigint"&&(Tt=String(it),(it>BigInt(2)**BigInt(32)||it<-(BigInt(2)**BigInt(32)))&&(Tt=Br(Tt)),Tt+="n"),Et+=` It must be ${rt}. Received ${Tt}`,Et},RangeError);function Br(mt){let rt="",it=mt.length;const Et=mt[0]==="-"?1:0;for(;it>=Et+4;it-=3)rt=`_${mt.slice(it-3,it)}${rt}`;return`${mt.slice(0,it)}${rt}`}function Hr(mt,rt,it){St(rt,"offset"),(mt[rt]===void 0||mt[rt+it]===void 0)&&At(rt,mt.length-(it+1))}function Or(mt,rt,it,Et,Tt,Nt){if(mt>it||mt<rt){const Bt=typeof rt=="bigint"?"n":"";let yr;throw rt===0||rt===BigInt(0)?yr=`>= 0${Bt} and < 2${Bt} ** ${(Nt+1)*8}${Bt}`:yr=`>= -(2${Bt} ** ${(Nt+1)*8-1}${Bt}) and < 2 ** ${(Nt+1)*8-1}${Bt}`,new Cr.ERR_OUT_OF_RANGE("value",yr,mt)}Hr(Et,Tt,Nt)}function St(mt,rt){if(typeof mt!="number")throw new Cr.ERR_INVALID_ARG_TYPE(rt,"number",mt)}function At(mt,rt,it){throw Math.floor(mt)!==mt?(St(mt,it),new Cr.ERR_OUT_OF_RANGE("offset","an integer",mt)):rt<0?new Cr.ERR_BUFFER_OUT_OF_BOUNDS:new Cr.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${rt}`,mt)}const tr=/[^+/0-9A-Za-z-_]/g;function ur(mt){if(mt=mt.split("=")[0],mt=mt.trim().replace(tr,""),mt.length<2)return"";for(;mt.length%4!==0;)mt=mt+"=";return mt}function fr(mt,rt){rt=rt||1/0;let it;const Et=mt.length;let Tt=null;const Nt=[];for(let Bt=0;Bt<Et;++Bt){if(it=mt.charCodeAt(Bt),it>55295&&it<57344){if(!Tt){if(it>56319){(rt-=3)>-1&&Nt.push(239,191,189);continue}else if(Bt+1===Et){(rt-=3)>-1&&Nt.push(239,191,189);continue}Tt=it;continue}if(it<56320){(rt-=3)>-1&&Nt.push(239,191,189),Tt=it;continue}it=(Tt-55296<<10|it-56320)+65536}else Tt&&(rt-=3)>-1&&Nt.push(239,191,189);if(Tt=null,it<128){if((rt-=1)<0)break;Nt.push(it)}else if(it<2048){if((rt-=2)<0)break;Nt.push(it>>6|192,it&63|128)}else if(it<65536){if((rt-=3)<0)break;Nt.push(it>>12|224,it>>6&63|128,it&63|128)}else if(it<1114112){if((rt-=4)<0)break;Nt.push(it>>18|240,it>>12&63|128,it>>6&63|128,it&63|128)}else throw new Error("Invalid code point")}return Nt}function xr(mt){const rt=[];for(let it=0;it<mt.length;++it)rt.push(mt.charCodeAt(it)&255);return rt}function gr(mt,rt){let it,Et,Tt;const Nt=[];for(let Bt=0;Bt<mt.length&&!((rt-=2)<0);++Bt)it=mt.charCodeAt(Bt),Et=it>>8,Tt=it%256,Nt.push(Tt),Nt.push(Et);return Nt}function Er(mt){return s.toByteArray(ur(mt))}function Dr(mt,rt,it,Et){let Tt;for(Tt=0;Tt<Et&&!(Tt+it>=rt.length||Tt>=mt.length);++Tt)rt[Tt+it]=mt[Tt];return Tt}function pr(mt,rt){return mt instanceof rt||mt!=null&&mt.constructor!=null&&mt.constructor.name!=null&&mt.constructor.name===rt.name}function Nr(mt){return mt!==mt}const on=function(){const mt="0123456789abcdef",rt=new Array(256);for(let it=0;it<16;++it){const Et=it*16;for(let Tt=0;Tt<16;++Tt)rt[Et+Tt]=mt[it]+mt[Tt]}return rt}();function zr(mt){return typeof BigInt>"u"?ln:mt}function ln(){throw new Error("BigInt not supported")}})(buffer);let AggregateError$1=class extends Error{constructor(s){if(!Array.isArray(s))throw new TypeError(`Expected input to be an Array, got ${typeof s}`);let o="";for(let c=0;c<s.length;c++)o+=`    ${s[c].stack}
`;super(o),this.name="AggregateError",this.errors=s}};var primordials={AggregateError:AggregateError$1,ArrayIsArray(a){return Array.isArray(a)},ArrayPrototypeIncludes(a,s){return a.includes(s)},ArrayPrototypeIndexOf(a,s){return a.indexOf(s)},ArrayPrototypeJoin(a,s){return a.join(s)},ArrayPrototypeMap(a,s){return a.map(s)},ArrayPrototypePop(a,s){return a.pop(s)},ArrayPrototypePush(a,s){return a.push(s)},ArrayPrototypeSlice(a,s,o){return a.slice(s,o)},Error,FunctionPrototypeCall(a,s,...o){return a.call(s,...o)},FunctionPrototypeSymbolHasInstance(a,s){return Function.prototype[Symbol.hasInstance].call(a,s)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(a,s){return Object.defineProperties(a,s)},ObjectDefineProperty(a,s,o){return Object.defineProperty(a,s,o)},ObjectGetOwnPropertyDescriptor(a,s){return Object.getOwnPropertyDescriptor(a,s)},ObjectKeys(a){return Object.keys(a)},ObjectSetPrototypeOf(a,s){return Object.setPrototypeOf(a,s)},Promise,PromisePrototypeCatch(a,s){return a.catch(s)},PromisePrototypeThen(a,s,o){return a.then(s,o)},PromiseReject(a){return Promise.reject(a)},PromiseResolve(a){return Promise.resolve(a)},ReflectApply:Reflect.apply,RegExpPrototypeTest(a,s){return a.test(s)},SafeSet:Set,String,StringPrototypeSlice(a,s,o){return a.slice(s,o)},StringPrototypeToLowerCase(a){return a.toLowerCase()},StringPrototypeToUpperCase(a){return a.toUpperCase()},StringPrototypeTrim(a){return a.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(a,s,o){return a.set(s,o)},Boolean,Uint8Array},util={exports:{}},inspect$2={format(a,...s){return a.replace(/%([sdifj])/g,function(...[o,c]){const d=s.shift();return c==="f"?d.toFixed(6):c==="j"?JSON.stringify(d):c==="s"&&typeof d=="object"?`${d.constructor!==Object?d.constructor.name:""} {}`.trim():d.toString()})},inspect(a){switch(typeof a){case"string":if(a.includes("'"))if(a.includes('"')){if(!a.includes("`")&&!a.includes("${"))return`\`${a}\``}else return`"${a}"`;return`'${a}'`;case"number":return isNaN(a)?"NaN":Object.is(a,-0)?String(a):a;case"bigint":return`${String(a)}n`;case"boolean":case"undefined":return String(a);case"object":return"{}"}}};const{format,inspect:inspect$1}=inspect$2,{AggregateError:CustomAggregateError}=primordials,AggregateError=globalThis.AggregateError||CustomAggregateError,kIsNodeError=Symbol("kIsNodeError"),kTypes=["string","function","number","object","Function","Object","boolean","bigint","symbol"],classRegExp=/^([A-Z][a-z0-9]*)+$/,nodeInternalPrefix="__node_internal_",codes$1={};function assert(a,s){if(!a)throw new codes$1.ERR_INTERNAL_ASSERTION(s)}function addNumericalSeparator(a){let s="",o=a.length;const c=a[0]==="-"?1:0;for(;o>=c+4;o-=3)s=`_${a.slice(o-3,o)}${s}`;return`${a.slice(0,o)}${s}`}function getMessage(a,s,o){if(typeof s=="function")return assert(s.length<=o.length,`Code: ${a}; The provided arguments length (${o.length}) does not match the required ones (${s.length}).`),s(...o);const c=(s.match(/%[dfijoOs]/g)||[]).length;return assert(c===o.length,`Code: ${a}; The provided arguments length (${o.length}) does not match the required ones (${c}).`),o.length===0?s:format(s,...o)}function E(a,s,o){o||(o=Error);class c extends o{constructor(...h){super(getMessage(a,s,h))}toString(){return`${this.name} [${a}]: ${this.message}`}}Object.defineProperties(c.prototype,{name:{value:o.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${a}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),c.prototype.code=a,c.prototype[kIsNodeError]=!0,codes$1[a]=c}function hideStackFrames$1(a){const s=nodeInternalPrefix+a.name;return Object.defineProperty(a,"name",{value:s}),a}function aggregateTwoErrors$2(a,s){if(a&&s&&a!==s){if(Array.isArray(s.errors))return s.errors.push(a),s;const o=new AggregateError([s,a],s.message);return o.code=s.code,o}return a||s}let AbortError$5=class extends Error{constructor(s="The operation was aborted",o=void 0){if(o!==void 0&&typeof o!="object")throw new codes$1.ERR_INVALID_ARG_TYPE("options","Object",o);super(s,o),this.code="ABORT_ERR",this.name="AbortError"}};E("ERR_ASSERTION","%s",Error);E("ERR_INVALID_ARG_TYPE",(a,s,o)=>{assert(typeof a=="string","'name' must be a string"),Array.isArray(s)||(s=[s]);let c="The ";a.endsWith(" argument")?c+=`${a} `:c+=`"${a}" ${a.includes(".")?"property":"argument"} `,c+="must be ";const d=[],h=[],g=[];for(const _ of s)assert(typeof _=="string","All expected entries have to be of type string"),kTypes.includes(_)?d.push(_.toLowerCase()):classRegExp.test(_)?h.push(_):(assert(_!=="object",'The value "object" should be written as "Object"'),g.push(_));if(h.length>0){const _=d.indexOf("object");_!==-1&&(d.splice(d,_,1),h.push("Object"))}if(d.length>0){switch(d.length){case 1:c+=`of type ${d[0]}`;break;case 2:c+=`one of type ${d[0]} or ${d[1]}`;break;default:{const _=d.pop();c+=`one of type ${d.join(", ")}, or ${_}`}}(h.length>0||g.length>0)&&(c+=" or ")}if(h.length>0){switch(h.length){case 1:c+=`an instance of ${h[0]}`;break;case 2:c+=`an instance of ${h[0]} or ${h[1]}`;break;default:{const _=h.pop();c+=`an instance of ${h.join(", ")}, or ${_}`}}g.length>0&&(c+=" or ")}switch(g.length){case 0:break;case 1:g[0].toLowerCase()!==g[0]&&(c+="an "),c+=`${g[0]}`;break;case 2:c+=`one of ${g[0]} or ${g[1]}`;break;default:{const _=g.pop();c+=`one of ${g.join(", ")}, or ${_}`}}if(o==null)c+=`. Received ${o}`;else if(typeof o=="function"&&o.name)c+=`. Received function ${o.name}`;else if(typeof o=="object"){var b;if((b=o.constructor)!==null&&b!==void 0&&b.name)c+=`. Received an instance of ${o.constructor.name}`;else{const _=inspect$1(o,{depth:-1});c+=`. Received ${_}`}}else{let _=inspect$1(o,{colors:!1});_.length>25&&(_=`${_.slice(0,25)}...`),c+=`. Received type ${typeof o} (${_})`}return c},TypeError);E("ERR_INVALID_ARG_VALUE",(a,s,o="is invalid")=>{let c=inspect$1(s);return c.length>128&&(c=c.slice(0,128)+"..."),`The ${a.includes(".")?"property":"argument"} '${a}' ${o}. Received ${c}`},TypeError);E("ERR_INVALID_RETURN_VALUE",(a,s,o)=>{var c;const d=o!=null&&(c=o.constructor)!==null&&c!==void 0&&c.name?`instance of ${o.constructor.name}`:`type ${typeof o}`;return`Expected ${a} to be returned from the "${s}" function but got ${d}.`},TypeError);E("ERR_MISSING_ARGS",(...a)=>{assert(a.length>0,"At least one arg needs to be specified");let s;const o=a.length;switch(a=(Array.isArray(a)?a:[a]).map(c=>`"${c}"`).join(" or "),o){case 1:s+=`The ${a[0]} argument`;break;case 2:s+=`The ${a[0]} and ${a[1]} arguments`;break;default:{const c=a.pop();s+=`The ${a.join(", ")}, and ${c} arguments`}break}return`${s} must be specified`},TypeError);E("ERR_OUT_OF_RANGE",(a,s,o)=>{assert(s,'Missing "range" argument');let c;if(Number.isInteger(o)&&Math.abs(o)>2**32)c=addNumericalSeparator(String(o));else if(typeof o=="bigint"){c=String(o);const d=BigInt(2)**BigInt(32);(o>d||o<-d)&&(c=addNumericalSeparator(c)),c+="n"}else c=inspect$1(o);return`The value of "${a}" is out of range. It must be ${s}. Received ${c}`},RangeError);E("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error);E("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error);E("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error);E("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error);E("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error);E("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);E("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error);E("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error);E("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error);E("ERR_STREAM_WRITE_AFTER_END","write after end",Error);E("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError);var errors={AbortError:AbortError$5,aggregateTwoErrors:hideStackFrames$1(aggregateTwoErrors$2),hideStackFrames:hideStackFrames$1,codes:codes$1},browser$1={exports:{}},hasRequiredBrowser;function requireBrowser(){if(hasRequiredBrowser)return browser$1.exports;hasRequiredBrowser=1;const{AbortController:a,AbortSignal:s}=typeof self<"u"?self:typeof window<"u"?window:void 0;return browser$1.exports=a,browser$1.exports.AbortSignal=s,browser$1.exports.default=a,browser$1.exports}var events={exports:{}},R=typeof Reflect=="object"?Reflect:null,ReflectApply=R&&typeof R.apply=="function"?R.apply:function a(s,o,c){return Function.prototype.apply.call(s,o,c)},ReflectOwnKeys;R&&typeof R.ownKeys=="function"?ReflectOwnKeys=R.ownKeys:Object.getOwnPropertySymbols?ReflectOwnKeys=function(s){return Object.getOwnPropertyNames(s).concat(Object.getOwnPropertySymbols(s))}:ReflectOwnKeys=function(s){return Object.getOwnPropertyNames(s)};function ProcessEmitWarning(a){console&&console.warn&&console.warn(a)}var NumberIsNaN$2=Number.isNaN||function a(s){return s!==s};function EventEmitter(){EventEmitter.init.call(this)}events.exports=EventEmitter;events.exports.once=once$2;EventEmitter.EventEmitter=EventEmitter;EventEmitter.prototype._events=void 0;EventEmitter.prototype._eventsCount=0;EventEmitter.prototype._maxListeners=void 0;var defaultMaxListeners=10;function checkListener(a){if(typeof a!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof a)}Object.defineProperty(EventEmitter,"defaultMaxListeners",{enumerable:!0,get:function(){return defaultMaxListeners},set:function(a){if(typeof a!="number"||a<0||NumberIsNaN$2(a))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+a+".");defaultMaxListeners=a}});EventEmitter.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};EventEmitter.prototype.setMaxListeners=function a(s){if(typeof s!="number"||s<0||NumberIsNaN$2(s))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+s+".");return this._maxListeners=s,this};function _getMaxListeners(a){return a._maxListeners===void 0?EventEmitter.defaultMaxListeners:a._maxListeners}EventEmitter.prototype.getMaxListeners=function a(){return _getMaxListeners(this)};EventEmitter.prototype.emit=function a(s){for(var o=[],c=1;c<arguments.length;c++)o.push(arguments[c]);var d=s==="error",h=this._events;if(h!==void 0)d=d&&h.error===void 0;else if(!d)return!1;if(d){var g;if(o.length>0&&(g=o[0]),g instanceof Error)throw g;var b=new Error("Unhandled error."+(g?" ("+g.message+")":""));throw b.context=g,b}var _=h[s];if(_===void 0)return!1;if(typeof _=="function")ReflectApply(_,this,o);else for(var $=_.length,_e=arrayClone(_,$),c=0;c<$;++c)ReflectApply(_e[c],this,o);return!0};function _addListener(a,s,o,c){var d,h,g;if(checkListener(o),h=a._events,h===void 0?(h=a._events=Object.create(null),a._eventsCount=0):(h.newListener!==void 0&&(a.emit("newListener",s,o.listener?o.listener:o),h=a._events),g=h[s]),g===void 0)g=h[s]=o,++a._eventsCount;else if(typeof g=="function"?g=h[s]=c?[o,g]:[g,o]:c?g.unshift(o):g.push(o),d=_getMaxListeners(a),d>0&&g.length>d&&!g.warned){g.warned=!0;var b=new Error("Possible EventEmitter memory leak detected. "+g.length+" "+String(s)+" listeners added. Use emitter.setMaxListeners() to increase limit");b.name="MaxListenersExceededWarning",b.emitter=a,b.type=s,b.count=g.length,ProcessEmitWarning(b)}return a}EventEmitter.prototype.addListener=function a(s,o){return _addListener(this,s,o,!1)};EventEmitter.prototype.on=EventEmitter.prototype.addListener;EventEmitter.prototype.prependListener=function a(s,o){return _addListener(this,s,o,!0)};function onceWrapper(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function _onceWrap(a,s,o){var c={fired:!1,wrapFn:void 0,target:a,type:s,listener:o},d=onceWrapper.bind(c);return d.listener=o,c.wrapFn=d,d}EventEmitter.prototype.once=function a(s,o){return checkListener(o),this.on(s,_onceWrap(this,s,o)),this};EventEmitter.prototype.prependOnceListener=function a(s,o){return checkListener(o),this.prependListener(s,_onceWrap(this,s,o)),this};EventEmitter.prototype.removeListener=function a(s,o){var c,d,h,g,b;if(checkListener(o),d=this._events,d===void 0)return this;if(c=d[s],c===void 0)return this;if(c===o||c.listener===o)--this._eventsCount===0?this._events=Object.create(null):(delete d[s],d.removeListener&&this.emit("removeListener",s,c.listener||o));else if(typeof c!="function"){for(h=-1,g=c.length-1;g>=0;g--)if(c[g]===o||c[g].listener===o){b=c[g].listener,h=g;break}if(h<0)return this;h===0?c.shift():spliceOne(c,h),c.length===1&&(d[s]=c[0]),d.removeListener!==void 0&&this.emit("removeListener",s,b||o)}return this};EventEmitter.prototype.off=EventEmitter.prototype.removeListener;EventEmitter.prototype.removeAllListeners=function a(s){var o,c,d;if(c=this._events,c===void 0)return this;if(c.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):c[s]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete c[s]),this;if(arguments.length===0){var h=Object.keys(c),g;for(d=0;d<h.length;++d)g=h[d],g!=="removeListener"&&this.removeAllListeners(g);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(o=c[s],typeof o=="function")this.removeListener(s,o);else if(o!==void 0)for(d=o.length-1;d>=0;d--)this.removeListener(s,o[d]);return this};function _listeners(a,s,o){var c=a._events;if(c===void 0)return[];var d=c[s];return d===void 0?[]:typeof d=="function"?o?[d.listener||d]:[d]:o?unwrapListeners(d):arrayClone(d,d.length)}EventEmitter.prototype.listeners=function a(s){return _listeners(this,s,!0)};EventEmitter.prototype.rawListeners=function a(s){return _listeners(this,s,!1)};EventEmitter.listenerCount=function(a,s){return typeof a.listenerCount=="function"?a.listenerCount(s):listenerCount.call(a,s)};EventEmitter.prototype.listenerCount=listenerCount;function listenerCount(a){var s=this._events;if(s!==void 0){var o=s[a];if(typeof o=="function")return 1;if(o!==void 0)return o.length}return 0}EventEmitter.prototype.eventNames=function a(){return this._eventsCount>0?ReflectOwnKeys(this._events):[]};function arrayClone(a,s){for(var o=new Array(s),c=0;c<s;++c)o[c]=a[c];return o}function spliceOne(a,s){for(;s+1<a.length;s++)a[s]=a[s+1];a.pop()}function unwrapListeners(a){for(var s=new Array(a.length),o=0;o<s.length;++o)s[o]=a[o].listener||a[o];return s}function once$2(a,s){return new Promise(function(o,c){function d(g){a.removeListener(s,h),c(g)}function h(){typeof a.removeListener=="function"&&a.removeListener("error",d),o([].slice.call(arguments))}eventTargetAgnosticAddListener(a,s,h,{once:!0}),s!=="error"&&addErrorHandlerIfEventEmitter(a,d,{once:!0})})}function addErrorHandlerIfEventEmitter(a,s,o){typeof a.on=="function"&&eventTargetAgnosticAddListener(a,"error",s,o)}function eventTargetAgnosticAddListener(a,s,o,c){if(typeof a.on=="function")c.once?a.once(s,o):a.on(s,o);else if(typeof a.addEventListener=="function")a.addEventListener(s,function d(h){c.once&&a.removeEventListener(s,d),o(h)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof a)}var eventsExports=events.exports;(function(a){const s=buffer,{format:o,inspect:c}=inspect$2,{codes:{ERR_INVALID_ARG_TYPE:d}}=errors,{kResistStopPropagation:h,AggregateError:g,SymbolDispose:b}=primordials,_=globalThis.AbortSignal||requireBrowser().AbortSignal,$=globalThis.AbortController||requireBrowser().AbortController,_e=Object.getPrototypeOf(async function(){}).constructor,tt=globalThis.Blob||s.Blob,et=typeof tt<"u"?function(pt){return pt instanceof tt}:function(pt){return!1},nt=(st,pt)=>{if(st!==void 0&&(st===null||typeof st!="object"||!("aborted"in st)))throw new d(pt,"AbortSignal",st)},ot=(st,pt)=>{if(typeof st!="function")throw new d(pt,"Function",st)};a.exports={AggregateError:g,kEmptyObject:Object.freeze({}),once(st){let pt=!1;return function(...at){pt||(pt=!0,st.apply(this,at))}},createDeferredPromise:function(){let st,pt;return{promise:new Promise((ht,lt)=>{st=ht,pt=lt}),resolve:st,reject:pt}},promisify(st){return new Promise((pt,at)=>{st((ht,...lt)=>ht?at(ht):pt(...lt))})},debuglog(){return function(){}},format:o,inspect:c,types:{isAsyncFunction(st){return st instanceof _e},isArrayBufferView(st){return ArrayBuffer.isView(st)}},isBlob:et,deprecate(st,pt){return st},addAbortListener:eventsExports.addAbortListener||function(pt,at){if(pt===void 0)throw new d("signal","AbortSignal",pt);nt(pt,"signal"),ot(at,"listener");let ht;return pt.aborted?queueMicrotask(()=>at()):(pt.addEventListener("abort",at,{__proto__:null,once:!0,[h]:!0}),ht=()=>{pt.removeEventListener("abort",at)}),{__proto__:null,[b](){var lt;(lt=ht)===null||lt===void 0||lt()}}},AbortSignalAny:_.any||function(pt){if(pt.length===1)return pt[0];const at=new $,ht=()=>at.abort();return pt.forEach(lt=>{nt(lt,"signals"),lt.addEventListener("abort",ht,{once:!0})}),at.signal.addEventListener("abort",()=>{pt.forEach(lt=>lt.removeEventListener("abort",ht))},{once:!0}),at.signal}},a.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")})(util);var utilExports=util.exports,operators={};const{ArrayIsArray:ArrayIsArray$2,ArrayPrototypeIncludes,ArrayPrototypeJoin,ArrayPrototypeMap,NumberIsInteger:NumberIsInteger$1,NumberIsNaN:NumberIsNaN$1,NumberMAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER,NumberParseInt,ObjectPrototypeHasOwnProperty,RegExpPrototypeExec,String:String$1,StringPrototypeToUpperCase,StringPrototypeTrim}=primordials,{hideStackFrames,codes:{ERR_SOCKET_BAD_PORT,ERR_INVALID_ARG_TYPE:ERR_INVALID_ARG_TYPE$4,ERR_INVALID_ARG_VALUE:ERR_INVALID_ARG_VALUE$3,ERR_OUT_OF_RANGE:ERR_OUT_OF_RANGE$1,ERR_UNKNOWN_SIGNAL}}=errors,{normalizeEncoding:normalizeEncoding$1}=utilExports,{isAsyncFunction,isArrayBufferView}=utilExports.types,signals={};function isInt32(a){return a===(a|0)}function isUint32(a){return a===a>>>0}const octalReg=/^[0-7]+$/,modeDesc="must be a 32-bit unsigned integer or an octal string";function parseFileMode(a,s,o){if(typeof a>"u"&&(a=o),typeof a=="string"){if(RegExpPrototypeExec(octalReg,a)===null)throw new ERR_INVALID_ARG_VALUE$3(s,a,modeDesc);a=NumberParseInt(a,8)}return validateUint32(a,s),a}const validateInteger$2=hideStackFrames((a,s,o=NumberMIN_SAFE_INTEGER,c=NumberMAX_SAFE_INTEGER)=>{if(typeof a!="number")throw new ERR_INVALID_ARG_TYPE$4(s,"number",a);if(!NumberIsInteger$1(a))throw new ERR_OUT_OF_RANGE$1(s,"an integer",a);if(a<o||a>c)throw new ERR_OUT_OF_RANGE$1(s,`>= ${o} && <= ${c}`,a)}),validateInt32=hideStackFrames((a,s,o=-2147483648,c=2147483647)=>{if(typeof a!="number")throw new ERR_INVALID_ARG_TYPE$4(s,"number",a);if(!NumberIsInteger$1(a))throw new ERR_OUT_OF_RANGE$1(s,"an integer",a);if(a<o||a>c)throw new ERR_OUT_OF_RANGE$1(s,`>= ${o} && <= ${c}`,a)}),validateUint32=hideStackFrames((a,s,o=!1)=>{if(typeof a!="number")throw new ERR_INVALID_ARG_TYPE$4(s,"number",a);if(!NumberIsInteger$1(a))throw new ERR_OUT_OF_RANGE$1(s,"an integer",a);const c=o?1:0,d=4294967295;if(a<c||a>d)throw new ERR_OUT_OF_RANGE$1(s,`>= ${c} && <= ${d}`,a)});function validateString(a,s){if(typeof a!="string")throw new ERR_INVALID_ARG_TYPE$4(s,"string",a)}function validateNumber(a,s,o=void 0,c){if(typeof a!="number")throw new ERR_INVALID_ARG_TYPE$4(s,"number",a);if(o!=null&&a<o||c!=null&&a>c||(o!=null||c!=null)&&NumberIsNaN$1(a))throw new ERR_OUT_OF_RANGE$1(s,`${o!=null?`>= ${o}`:""}${o!=null&&c!=null?" && ":""}${c!=null?`<= ${c}`:""}`,a)}const validateOneOf=hideStackFrames((a,s,o)=>{if(!ArrayPrototypeIncludes(o,a)){const d="must be one of: "+ArrayPrototypeJoin(ArrayPrototypeMap(o,h=>typeof h=="string"?`'${h}'`:String$1(h)),", ");throw new ERR_INVALID_ARG_VALUE$3(s,a,d)}});function validateBoolean$1(a,s){if(typeof a!="boolean")throw new ERR_INVALID_ARG_TYPE$4(s,"boolean",a)}function getOwnPropertyValueOrDefault(a,s,o){return a==null||!ObjectPrototypeHasOwnProperty(a,s)?o:a[s]}const validateObject$2=hideStackFrames((a,s,o=null)=>{const c=getOwnPropertyValueOrDefault(o,"allowArray",!1),d=getOwnPropertyValueOrDefault(o,"allowFunction",!1);if(!getOwnPropertyValueOrDefault(o,"nullable",!1)&&a===null||!c&&ArrayIsArray$2(a)||typeof a!="object"&&(!d||typeof a!="function"))throw new ERR_INVALID_ARG_TYPE$4(s,"Object",a)}),validateDictionary=hideStackFrames((a,s)=>{if(a!=null&&typeof a!="object"&&typeof a!="function")throw new ERR_INVALID_ARG_TYPE$4(s,"a dictionary",a)}),validateArray=hideStackFrames((a,s,o=0)=>{if(!ArrayIsArray$2(a))throw new ERR_INVALID_ARG_TYPE$4(s,"Array",a);if(a.length<o){const c=`must be longer than ${o}`;throw new ERR_INVALID_ARG_VALUE$3(s,a,c)}});function validateStringArray(a,s){validateArray(a,s);for(let o=0;o<a.length;o++)validateString(a[o],`${s}[${o}]`)}function validateBooleanArray(a,s){validateArray(a,s);for(let o=0;o<a.length;o++)validateBoolean$1(a[o],`${s}[${o}]`)}function validateAbortSignalArray(a,s){validateArray(a,s);for(let o=0;o<a.length;o++){const c=a[o],d=`${s}[${o}]`;if(c==null)throw new ERR_INVALID_ARG_TYPE$4(d,"AbortSignal",c);validateAbortSignal$3(c,d)}}function validateSignalName(a,s="signal"){if(validateString(a,s),signals[a]===void 0)throw signals[StringPrototypeToUpperCase(a)]!==void 0?new ERR_UNKNOWN_SIGNAL(a+" (signals must use all capital letters)"):new ERR_UNKNOWN_SIGNAL(a)}const validateBuffer=hideStackFrames((a,s="buffer")=>{if(!isArrayBufferView(a))throw new ERR_INVALID_ARG_TYPE$4(s,["Buffer","TypedArray","DataView"],a)});function validateEncoding(a,s){const o=normalizeEncoding$1(s),c=a.length;if(o==="hex"&&c%2!==0)throw new ERR_INVALID_ARG_VALUE$3("encoding",s,`is invalid for data of length ${c}`)}function validatePort(a,s="Port",o=!0){if(typeof a!="number"&&typeof a!="string"||typeof a=="string"&&StringPrototypeTrim(a).length===0||+a!==+a>>>0||a>65535||a===0&&!o)throw new ERR_SOCKET_BAD_PORT(s,a,o);return a|0}const validateAbortSignal$3=hideStackFrames((a,s)=>{if(a!==void 0&&(a===null||typeof a!="object"||!("aborted"in a)))throw new ERR_INVALID_ARG_TYPE$4(s,"AbortSignal",a)}),validateFunction$2=hideStackFrames((a,s)=>{if(typeof a!="function")throw new ERR_INVALID_ARG_TYPE$4(s,"Function",a)}),validatePlainFunction=hideStackFrames((a,s)=>{if(typeof a!="function"||isAsyncFunction(a))throw new ERR_INVALID_ARG_TYPE$4(s,"Function",a)}),validateUndefined=hideStackFrames((a,s)=>{if(a!==void 0)throw new ERR_INVALID_ARG_TYPE$4(s,"undefined",a)});function validateUnion(a,s,o){if(!ArrayPrototypeIncludes(o,a))throw new ERR_INVALID_ARG_TYPE$4(s,`('${ArrayPrototypeJoin(o,"|")}')`,a)}const linkValueRegExp=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function validateLinkHeaderFormat(a,s){if(typeof a>"u"||!RegExpPrototypeExec(linkValueRegExp,a))throw new ERR_INVALID_ARG_VALUE$3(s,a,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function validateLinkHeaderValue(a){if(typeof a=="string")return validateLinkHeaderFormat(a,"hints"),a;if(ArrayIsArray$2(a)){const s=a.length;let o="";if(s===0)return o;for(let c=0;c<s;c++){const d=a[c];validateLinkHeaderFormat(d,"hints"),o+=d,c!==s-1&&(o+=", ")}return o}throw new ERR_INVALID_ARG_VALUE$3("hints",a,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}var validators={isInt32,isUint32,parseFileMode,validateArray,validateStringArray,validateBooleanArray,validateAbortSignalArray,validateBoolean:validateBoolean$1,validateBuffer,validateDictionary,validateEncoding,validateFunction:validateFunction$2,validateInt32,validateInteger:validateInteger$2,validateNumber,validateObject:validateObject$2,validateOneOf,validatePlainFunction,validatePort,validateSignalName,validateString,validateUint32,validateUndefined,validateUnion,validateAbortSignal:validateAbortSignal$3,validateLinkHeaderValue},endOfStream={exports:{}},browser={exports:{}},process$5=browser.exports={},cachedSetTimeout,cachedClearTimeout;function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?cachedSetTimeout=setTimeout:cachedSetTimeout=defaultSetTimout}catch{cachedSetTimeout=defaultSetTimout}try{typeof clearTimeout=="function"?cachedClearTimeout=clearTimeout:cachedClearTimeout=defaultClearTimeout}catch{cachedClearTimeout=defaultClearTimeout}})();function runTimeout(a){if(cachedSetTimeout===setTimeout)return setTimeout(a,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(a,0);try{return cachedSetTimeout(a,0)}catch{try{return cachedSetTimeout.call(null,a,0)}catch{return cachedSetTimeout.call(this,a,0)}}}function runClearTimeout(a){if(cachedClearTimeout===clearTimeout)return clearTimeout(a);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(a);try{return cachedClearTimeout(a)}catch{try{return cachedClearTimeout.call(null,a)}catch{return cachedClearTimeout.call(this,a)}}}var queue=[],draining=!1,currentQueue,queueIndex=-1;function cleanUpNextTick(){!draining||!currentQueue||(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var a=runTimeout(cleanUpNextTick);draining=!0;for(var s=queue.length;s;){for(currentQueue=queue,queue=[];++queueIndex<s;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,s=queue.length}currentQueue=null,draining=!1,runClearTimeout(a)}}process$5.nextTick=function(a){var s=new Array(arguments.length-1);if(arguments.length>1)for(var o=1;o<arguments.length;o++)s[o-1]=arguments[o];queue.push(new Item(a,s)),queue.length===1&&!draining&&runTimeout(drainQueue)};function Item(a,s){this.fun=a,this.array=s}Item.prototype.run=function(){this.fun.apply(null,this.array)};process$5.title="browser";process$5.browser=!0;process$5.env={};process$5.argv=[];process$5.version="";process$5.versions={};function noop$2(){}process$5.on=noop$2;process$5.addListener=noop$2;process$5.once=noop$2;process$5.off=noop$2;process$5.removeListener=noop$2;process$5.removeAllListeners=noop$2;process$5.emit=noop$2;process$5.prependListener=noop$2;process$5.prependOnceListener=noop$2;process$5.listeners=function(a){return[]};process$5.binding=function(a){throw new Error("process.binding is not supported")};process$5.cwd=function(){return"/"};process$5.chdir=function(a){throw new Error("process.chdir is not supported")};process$5.umask=function(){return 0};var browserExports$1=browser.exports;const{SymbolAsyncIterator:SymbolAsyncIterator$2,SymbolIterator:SymbolIterator$2,SymbolFor}=primordials,kIsDestroyed$1=SymbolFor("nodejs.stream.destroyed"),kIsErrored=SymbolFor("nodejs.stream.errored"),kIsReadable=SymbolFor("nodejs.stream.readable"),kIsWritable=SymbolFor("nodejs.stream.writable"),kIsDisturbed=SymbolFor("nodejs.stream.disturbed"),kIsClosedPromise$1=SymbolFor("nodejs.webstream.isClosedPromise"),kControllerErrorFunction=SymbolFor("nodejs.webstream.controllerErrorFunction");function isReadableNodeStream$2(a,s=!1){var o;return!!(a&&typeof a.pipe=="function"&&typeof a.on=="function"&&(!s||typeof a.pause=="function"&&typeof a.resume=="function")&&(!a._writableState||((o=a._readableState)===null||o===void 0?void 0:o.readable)!==!1)&&(!a._writableState||a._readableState))}function isWritableNodeStream$1(a){var s;return!!(a&&typeof a.write=="function"&&typeof a.on=="function"&&(!a._readableState||((s=a._writableState)===null||s===void 0?void 0:s.writable)!==!1))}function isDuplexNodeStream(a){return!!(a&&typeof a.pipe=="function"&&a._readableState&&typeof a.on=="function"&&typeof a.write=="function")}function isNodeStream$4(a){return a&&(a._readableState||a._writableState||typeof a.write=="function"&&typeof a.on=="function"||typeof a.pipe=="function"&&typeof a.on=="function")}function isReadableStream$3(a){return!!(a&&!isNodeStream$4(a)&&typeof a.pipeThrough=="function"&&typeof a.getReader=="function"&&typeof a.cancel=="function")}function isWritableStream$2(a){return!!(a&&!isNodeStream$4(a)&&typeof a.getWriter=="function"&&typeof a.abort=="function")}function isTransformStream$2(a){return!!(a&&!isNodeStream$4(a)&&typeof a.readable=="object"&&typeof a.writable=="object")}function isWebStream$2(a){return isReadableStream$3(a)||isWritableStream$2(a)||isTransformStream$2(a)}function isIterable$1(a,s){return a==null?!1:s===!0?typeof a[SymbolAsyncIterator$2]=="function":s===!1?typeof a[SymbolIterator$2]=="function":typeof a[SymbolAsyncIterator$2]=="function"||typeof a[SymbolIterator$2]=="function"}function isDestroyed$1(a){if(!isNodeStream$4(a))return null;const s=a._writableState,o=a._readableState,c=s||o;return!!(a.destroyed||a[kIsDestroyed$1]||c!=null&&c.destroyed)}function isWritableEnded(a){if(!isWritableNodeStream$1(a))return null;if(a.writableEnded===!0)return!0;const s=a._writableState;return s!=null&&s.errored?!1:typeof(s==null?void 0:s.ended)!="boolean"?null:s.ended}function isWritableFinished$1(a,s){if(!isWritableNodeStream$1(a))return null;if(a.writableFinished===!0)return!0;const o=a._writableState;return o!=null&&o.errored?!1:typeof(o==null?void 0:o.finished)!="boolean"?null:!!(o.finished||s===!1&&o.ended===!0&&o.length===0)}function isReadableEnded(a){if(!isReadableNodeStream$2(a))return null;if(a.readableEnded===!0)return!0;const s=a._readableState;return!s||s.errored?!1:typeof(s==null?void 0:s.ended)!="boolean"?null:s.ended}function isReadableFinished$2(a,s){if(!isReadableNodeStream$2(a))return null;const o=a._readableState;return o!=null&&o.errored?!1:typeof(o==null?void 0:o.endEmitted)!="boolean"?null:!!(o.endEmitted||s===!1&&o.ended===!0&&o.length===0)}function isReadable$3(a){return a&&a[kIsReadable]!=null?a[kIsReadable]:typeof(a==null?void 0:a.readable)!="boolean"?null:isDestroyed$1(a)?!1:isReadableNodeStream$2(a)&&a.readable&&!isReadableFinished$2(a)}function isWritable$3(a){return a&&a[kIsWritable]!=null?a[kIsWritable]:typeof(a==null?void 0:a.writable)!="boolean"?null:isDestroyed$1(a)?!1:isWritableNodeStream$1(a)&&a.writable&&!isWritableEnded(a)}function isFinished$1(a,s){return isNodeStream$4(a)?isDestroyed$1(a)?!0:!((s==null?void 0:s.readable)!==!1&&isReadable$3(a)||(s==null?void 0:s.writable)!==!1&&isWritable$3(a)):null}function isWritableErrored$1(a){var s,o;return isNodeStream$4(a)?a.writableErrored?a.writableErrored:(s=(o=a._writableState)===null||o===void 0?void 0:o.errored)!==null&&s!==void 0?s:null:null}function isReadableErrored$1(a){var s,o;return isNodeStream$4(a)?a.readableErrored?a.readableErrored:(s=(o=a._readableState)===null||o===void 0?void 0:o.errored)!==null&&s!==void 0?s:null:null}function isClosed$1(a){if(!isNodeStream$4(a))return null;if(typeof a.closed=="boolean")return a.closed;const s=a._writableState,o=a._readableState;return typeof(s==null?void 0:s.closed)=="boolean"||typeof(o==null?void 0:o.closed)=="boolean"?(s==null?void 0:s.closed)||(o==null?void 0:o.closed):typeof a._closed=="boolean"&&isOutgoingMessage(a)?a._closed:null}function isOutgoingMessage(a){return typeof a._closed=="boolean"&&typeof a._defaultKeepAlive=="boolean"&&typeof a._removedConnection=="boolean"&&typeof a._removedContLen=="boolean"}function isServerResponse(a){return typeof a._sent100=="boolean"&&isOutgoingMessage(a)}function isServerRequest$1(a){var s;return typeof a._consuming=="boolean"&&typeof a._dumped=="boolean"&&((s=a.req)===null||s===void 0?void 0:s.upgradeOrConnect)===void 0}function willEmitClose(a){if(!isNodeStream$4(a))return null;const s=a._writableState,o=a._readableState,c=s||o;return!c&&isServerResponse(a)||!!(c&&c.autoDestroy&&c.emitClose&&c.closed===!1)}function isDisturbed(a){var s;return!!(a&&((s=a[kIsDisturbed])!==null&&s!==void 0?s:a.readableDidRead||a.readableAborted))}function isErrored(a){var s,o,c,d,h,g,b,_,$,_e;return!!(a&&((s=(o=(c=(d=(h=(g=a[kIsErrored])!==null&&g!==void 0?g:a.readableErrored)!==null&&h!==void 0?h:a.writableErrored)!==null&&d!==void 0?d:(b=a._readableState)===null||b===void 0?void 0:b.errorEmitted)!==null&&c!==void 0?c:(_=a._writableState)===null||_===void 0?void 0:_.errorEmitted)!==null&&o!==void 0?o:($=a._readableState)===null||$===void 0?void 0:$.errored)!==null&&s!==void 0?s:!((_e=a._writableState)===null||_e===void 0)&&_e.errored))}var utils={isDestroyed:isDestroyed$1,kIsDestroyed:kIsDestroyed$1,isDisturbed,kIsDisturbed,isErrored,kIsErrored,isReadable:isReadable$3,kIsReadable,kIsClosedPromise:kIsClosedPromise$1,kControllerErrorFunction,kIsWritable,isClosed:isClosed$1,isDuplexNodeStream,isFinished:isFinished$1,isIterable:isIterable$1,isReadableNodeStream:isReadableNodeStream$2,isReadableStream:isReadableStream$3,isReadableEnded,isReadableFinished:isReadableFinished$2,isReadableErrored:isReadableErrored$1,isNodeStream:isNodeStream$4,isWebStream:isWebStream$2,isWritable:isWritable$3,isWritableNodeStream:isWritableNodeStream$1,isWritableStream:isWritableStream$2,isWritableEnded,isWritableFinished:isWritableFinished$1,isWritableErrored:isWritableErrored$1,isServerRequest:isServerRequest$1,isServerResponse,willEmitClose,isTransformStream:isTransformStream$2};const process$4=browserExports$1,{AbortError:AbortError$4,codes}=errors,{ERR_INVALID_ARG_TYPE:ERR_INVALID_ARG_TYPE$3,ERR_STREAM_PREMATURE_CLOSE:ERR_STREAM_PREMATURE_CLOSE$1}=codes,{kEmptyObject,once:once$1}=utilExports,{validateAbortSignal:validateAbortSignal$2,validateFunction:validateFunction$1,validateObject:validateObject$1,validateBoolean}=validators,{Promise:Promise$3,PromisePrototypeThen:PromisePrototypeThen$2,SymbolDispose:SymbolDispose$1}=primordials,{isClosed,isReadable:isReadable$2,isReadableNodeStream:isReadableNodeStream$1,isReadableStream:isReadableStream$2,isReadableFinished:isReadableFinished$1,isReadableErrored,isWritable:isWritable$2,isWritableNodeStream,isWritableStream:isWritableStream$1,isWritableFinished,isWritableErrored,isNodeStream:isNodeStream$3,willEmitClose:_willEmitClose,kIsClosedPromise}=utils;let addAbortListener$1;function isRequest$1(a){return a.setHeader&&typeof a.abort=="function"}const nop=()=>{};function eos$2(a,s,o){var c,d;if(arguments.length===2?(o=s,s=kEmptyObject):s==null?s=kEmptyObject:validateObject$1(s,"options"),validateFunction$1(o,"callback"),validateAbortSignal$2(s.signal,"options.signal"),o=once$1(o),isReadableStream$2(a)||isWritableStream$1(a))return eosWeb(a,s,o);if(!isNodeStream$3(a))throw new ERR_INVALID_ARG_TYPE$3("stream",["ReadableStream","WritableStream","Stream"],a);const h=(c=s.readable)!==null&&c!==void 0?c:isReadableNodeStream$1(a),g=(d=s.writable)!==null&&d!==void 0?d:isWritableNodeStream(a),b=a._writableState,_=a._readableState,$=()=>{a.writable||et()};let _e=_willEmitClose(a)&&isReadableNodeStream$1(a)===h&&isWritableNodeStream(a)===g,tt=isWritableFinished(a,!1);const et=()=>{tt=!0,a.destroyed&&(_e=!1),!(_e&&(!a.readable||h))&&(!h||nt)&&o.call(a)};let nt=isReadableFinished$1(a,!1);const ot=()=>{nt=!0,a.destroyed&&(_e=!1),!(_e&&(!a.writable||g))&&(!g||tt)&&o.call(a)},st=bt=>{o.call(a,bt)};let pt=isClosed(a);const at=()=>{pt=!0;const bt=isWritableErrored(a)||isReadableErrored(a);if(bt&&typeof bt!="boolean")return o.call(a,bt);if(h&&!nt&&isReadableNodeStream$1(a,!0)&&!isReadableFinished$1(a,!1))return o.call(a,new ERR_STREAM_PREMATURE_CLOSE$1);if(g&&!tt&&!isWritableFinished(a,!1))return o.call(a,new ERR_STREAM_PREMATURE_CLOSE$1);o.call(a)},ht=()=>{pt=!0;const bt=isWritableErrored(a)||isReadableErrored(a);if(bt&&typeof bt!="boolean")return o.call(a,bt);o.call(a)},lt=()=>{a.req.on("finish",et)};isRequest$1(a)?(a.on("complete",et),_e||a.on("abort",at),a.req?lt():a.on("request",lt)):g&&!b&&(a.on("end",$),a.on("close",$)),!_e&&typeof a.aborted=="boolean"&&a.on("aborted",at),a.on("end",ot),a.on("finish",et),s.error!==!1&&a.on("error",st),a.on("close",at),pt?process$4.nextTick(at):b!=null&&b.errorEmitted||_!=null&&_.errorEmitted?_e||process$4.nextTick(ht):(!h&&(!_e||isReadable$2(a))&&(tt||isWritable$2(a)===!1)||!g&&(!_e||isWritable$2(a))&&(nt||isReadable$2(a)===!1)||_&&a.req&&a.aborted)&&process$4.nextTick(ht);const yt=()=>{o=nop,a.removeListener("aborted",at),a.removeListener("complete",et),a.removeListener("abort",at),a.removeListener("request",lt),a.req&&a.req.removeListener("finish",et),a.removeListener("end",$),a.removeListener("close",$),a.removeListener("finish",et),a.removeListener("end",ot),a.removeListener("error",st),a.removeListener("close",at)};if(s.signal&&!pt){const bt=()=>{const gt=o;yt(),gt.call(a,new AbortError$4(void 0,{cause:s.signal.reason}))};if(s.signal.aborted)process$4.nextTick(bt);else{addAbortListener$1=addAbortListener$1||utilExports.addAbortListener;const gt=addAbortListener$1(s.signal,bt),dt=o;o=once$1((...vt)=>{gt[SymbolDispose$1](),dt.apply(a,vt)})}}return yt}function eosWeb(a,s,o){let c=!1,d=nop;if(s.signal)if(d=()=>{c=!0,o.call(a,new AbortError$4(void 0,{cause:s.signal.reason}))},s.signal.aborted)process$4.nextTick(d);else{addAbortListener$1=addAbortListener$1||utilExports.addAbortListener;const g=addAbortListener$1(s.signal,d),b=o;o=once$1((..._)=>{g[SymbolDispose$1](),b.apply(a,_)})}const h=(...g)=>{c||process$4.nextTick(()=>o.apply(a,g))};return PromisePrototypeThen$2(a[kIsClosedPromise].promise,h,h),nop}function finished$1(a,s){var o;let c=!1;return s===null&&(s=kEmptyObject),(o=s)!==null&&o!==void 0&&o.cleanup&&(validateBoolean(s.cleanup,"cleanup"),c=s.cleanup),new Promise$3((d,h)=>{const g=eos$2(a,s,b=>{c&&g(),b?h(b):d()})})}endOfStream.exports=eos$2;endOfStream.exports.finished=finished$1;var endOfStreamExports=endOfStream.exports;const process$3=browserExports$1,{aggregateTwoErrors:aggregateTwoErrors$1,codes:{ERR_MULTIPLE_CALLBACK},AbortError:AbortError$3}=errors,{Symbol:Symbol$3}=primordials,{kIsDestroyed,isDestroyed,isFinished,isServerRequest}=utils,kDestroy=Symbol$3("kDestroy"),kConstruct=Symbol$3("kConstruct");function checkError(a,s,o){a&&(a.stack,s&&!s.errored&&(s.errored=a),o&&!o.errored&&(o.errored=a))}function destroy(a,s){const o=this._readableState,c=this._writableState,d=c||o;return c!=null&&c.destroyed||o!=null&&o.destroyed?(typeof s=="function"&&s(),this):(checkError(a,c,o),c&&(c.destroyed=!0),o&&(o.destroyed=!0),d.constructed?_destroy(this,a,s):this.once(kDestroy,function(h){_destroy(this,aggregateTwoErrors$1(h,a),s)}),this)}function _destroy(a,s,o){let c=!1;function d(h){if(c)return;c=!0;const g=a._readableState,b=a._writableState;checkError(h,b,g),b&&(b.closed=!0),g&&(g.closed=!0),typeof o=="function"&&o(h),h?process$3.nextTick(emitErrorCloseNT,a,h):process$3.nextTick(emitCloseNT,a)}try{a._destroy(s||null,d)}catch(h){d(h)}}function emitErrorCloseNT(a,s){emitErrorNT(a,s),emitCloseNT(a)}function emitCloseNT(a){const s=a._readableState,o=a._writableState;o&&(o.closeEmitted=!0),s&&(s.closeEmitted=!0),(o!=null&&o.emitClose||s!=null&&s.emitClose)&&a.emit("close")}function emitErrorNT(a,s){const o=a._readableState,c=a._writableState;c!=null&&c.errorEmitted||o!=null&&o.errorEmitted||(c&&(c.errorEmitted=!0),o&&(o.errorEmitted=!0),a.emit("error",s))}function undestroy(){const a=this._readableState,s=this._writableState;a&&(a.constructed=!0,a.closed=!1,a.closeEmitted=!1,a.destroyed=!1,a.errored=null,a.errorEmitted=!1,a.reading=!1,a.ended=a.readable===!1,a.endEmitted=a.readable===!1),s&&(s.constructed=!0,s.destroyed=!1,s.closed=!1,s.closeEmitted=!1,s.errored=null,s.errorEmitted=!1,s.finalCalled=!1,s.prefinished=!1,s.ended=s.writable===!1,s.ending=s.writable===!1,s.finished=s.writable===!1)}function errorOrDestroy(a,s,o){const c=a._readableState,d=a._writableState;if(d!=null&&d.destroyed||c!=null&&c.destroyed)return this;c!=null&&c.autoDestroy||d!=null&&d.autoDestroy?a.destroy(s):s&&(s.stack,d&&!d.errored&&(d.errored=s),c&&!c.errored&&(c.errored=s),o?process$3.nextTick(emitErrorNT,a,s):emitErrorNT(a,s))}function construct(a,s){if(typeof a._construct!="function")return;const o=a._readableState,c=a._writableState;o&&(o.constructed=!1),c&&(c.constructed=!1),a.once(kConstruct,s),!(a.listenerCount(kConstruct)>1)&&process$3.nextTick(constructNT,a)}function constructNT(a){let s=!1;function o(c){if(s){errorOrDestroy(a,c??new ERR_MULTIPLE_CALLBACK);return}s=!0;const d=a._readableState,h=a._writableState,g=h||d;d&&(d.constructed=!0),h&&(h.constructed=!0),g.destroyed?a.emit(kDestroy,c):c?errorOrDestroy(a,c,!0):process$3.nextTick(emitConstructNT,a)}try{a._construct(c=>{process$3.nextTick(o,c)})}catch(c){process$3.nextTick(o,c)}}function emitConstructNT(a){a.emit(kConstruct)}function isRequest(a){return(a==null?void 0:a.setHeader)&&typeof a.abort=="function"}function emitCloseLegacy(a){a.emit("close")}function emitErrorCloseLegacy(a,s){a.emit("error",s),process$3.nextTick(emitCloseLegacy,a)}function destroyer$2(a,s){!a||isDestroyed(a)||(!s&&!isFinished(a)&&(s=new AbortError$3),isServerRequest(a)?(a.socket=null,a.destroy(s)):isRequest(a)?a.abort():isRequest(a.req)?a.req.abort():typeof a.destroy=="function"?a.destroy(s):typeof a.close=="function"?a.close():s?process$3.nextTick(emitErrorCloseLegacy,a,s):process$3.nextTick(emitCloseLegacy,a),a.destroyed||(a[kIsDestroyed]=!0))}var destroy_1={construct,destroyer:destroyer$2,destroy,undestroy,errorOrDestroy};const{ArrayIsArray:ArrayIsArray$1,ObjectSetPrototypeOf:ObjectSetPrototypeOf$2}=primordials,{EventEmitter:EE}=eventsExports;function Stream(a){EE.call(this,a)}ObjectSetPrototypeOf$2(Stream.prototype,EE.prototype);ObjectSetPrototypeOf$2(Stream,EE);Stream.prototype.pipe=function(a,s){const o=this;function c(_e){a.writable&&a.write(_e)===!1&&o.pause&&o.pause()}o.on("data",c);function d(){o.readable&&o.resume&&o.resume()}a.on("drain",d),!a._isStdio&&(!s||s.end!==!1)&&(o.on("end",g),o.on("close",b));let h=!1;function g(){h||(h=!0,a.end())}function b(){h||(h=!0,typeof a.destroy=="function"&&a.destroy())}function _(_e){$(),EE.listenerCount(this,"error")===0&&this.emit("error",_e)}prependListener(o,"error",_),prependListener(a,"error",_);function $(){o.removeListener("data",c),a.removeListener("drain",d),o.removeListener("end",g),o.removeListener("close",b),o.removeListener("error",_),a.removeListener("error",_),o.removeListener("end",$),o.removeListener("close",$),a.removeListener("close",$)}return o.on("end",$),o.on("close",$),a.on("close",$),a.emit("pipe",o),a};function prependListener(a,s,o){if(typeof a.prependListener=="function")return a.prependListener(s,o);!a._events||!a._events[s]?a.on(s,o):ArrayIsArray$1(a._events[s])?a._events[s].unshift(o):a._events[s]=[o,a._events[s]]}var legacy={Stream,prependListener},addAbortSignal={exports:{}};(function(a){const{SymbolDispose:s}=primordials,{AbortError:o,codes:c}=errors,{isNodeStream:d,isWebStream:h,kControllerErrorFunction:g}=utils,b=endOfStreamExports,{ERR_INVALID_ARG_TYPE:_}=c;let $;const _e=(tt,et)=>{if(typeof tt!="object"||!("aborted"in tt))throw new _(et,"AbortSignal",tt)};a.exports.addAbortSignal=function(et,nt){if(_e(et,"signal"),!d(nt)&&!h(nt))throw new _("stream",["ReadableStream","WritableStream","Stream"],nt);return a.exports.addAbortSignalNoValidate(et,nt)},a.exports.addAbortSignalNoValidate=function(tt,et){if(typeof tt!="object"||!("aborted"in tt))return et;const nt=d(et)?()=>{et.destroy(new o(void 0,{cause:tt.reason}))}:()=>{et[g](new o(void 0,{cause:tt.reason}))};if(tt.aborted)nt();else{$=$||utilExports.addAbortListener;const ot=$(tt,nt);b(et,ot[s])}return et}})(addAbortSignal);var addAbortSignalExports=addAbortSignal.exports;const{StringPrototypeSlice,SymbolIterator:SymbolIterator$1,TypedArrayPrototypeSet,Uint8Array:Uint8Array$1}=primordials,{Buffer:Buffer$3}=buffer,{inspect}=utilExports;var buffer_list=class{constructor(){this.head=null,this.tail=null,this.length=0}push(s){const o={data:s,next:null};this.length>0?this.tail.next=o:this.head=o,this.tail=o,++this.length}unshift(s){const o={data:s,next:this.head};this.length===0&&(this.tail=o),this.head=o,++this.length}shift(){if(this.length===0)return;const s=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,s}clear(){this.head=this.tail=null,this.length=0}join(s){if(this.length===0)return"";let o=this.head,c=""+o.data;for(;(o=o.next)!==null;)c+=s+o.data;return c}concat(s){if(this.length===0)return Buffer$3.alloc(0);const o=Buffer$3.allocUnsafe(s>>>0);let c=this.head,d=0;for(;c;)TypedArrayPrototypeSet(o,c.data,d),d+=c.data.length,c=c.next;return o}consume(s,o){const c=this.head.data;if(s<c.length){const d=c.slice(0,s);return this.head.data=c.slice(s),d}return s===c.length?this.shift():o?this._getString(s):this._getBuffer(s)}first(){return this.head.data}*[SymbolIterator$1](){for(let s=this.head;s;s=s.next)yield s.data}_getString(s){let o="",c=this.head,d=0;do{const h=c.data;if(s>h.length)o+=h,s-=h.length;else{s===h.length?(o+=h,++d,c.next?this.head=c.next:this.head=this.tail=null):(o+=StringPrototypeSlice(h,0,s),this.head=c,c.data=StringPrototypeSlice(h,s));break}++d}while((c=c.next)!==null);return this.length-=d,o}_getBuffer(s){const o=Buffer$3.allocUnsafe(s),c=s;let d=this.head,h=0;do{const g=d.data;if(s>g.length)TypedArrayPrototypeSet(o,g,c-s),s-=g.length;else{s===g.length?(TypedArrayPrototypeSet(o,g,c-s),++h,d.next?this.head=d.next:this.head=this.tail=null):(TypedArrayPrototypeSet(o,new Uint8Array$1(g.buffer,g.byteOffset,s),c-s),this.head=d,d.data=g.slice(s));break}++h}while((d=d.next)!==null);return this.length-=h,o}[Symbol.for("nodejs.util.inspect.custom")](s,o){return inspect(this,{...o,depth:0,customInspect:!1})}};const{MathFloor:MathFloor$1,NumberIsInteger}=primordials,{validateInteger:validateInteger$1}=validators,{ERR_INVALID_ARG_VALUE:ERR_INVALID_ARG_VALUE$2}=errors.codes;let defaultHighWaterMarkBytes=16*1024,defaultHighWaterMarkObjectMode=16;function highWaterMarkFrom(a,s,o){return a.highWaterMark!=null?a.highWaterMark:s?a[o]:null}function getDefaultHighWaterMark(a){return a?defaultHighWaterMarkObjectMode:defaultHighWaterMarkBytes}function setDefaultHighWaterMark(a,s){validateInteger$1(s,"value",0),a?defaultHighWaterMarkObjectMode=s:defaultHighWaterMarkBytes=s}function getHighWaterMark$1(a,s,o,c){const d=highWaterMarkFrom(s,c,o);if(d!=null){if(!NumberIsInteger(d)||d<0){const h=c?`options.${o}`:"options.highWaterMark";throw new ERR_INVALID_ARG_VALUE$2(h,d)}return MathFloor$1(d)}return getDefaultHighWaterMark(a.objectMode)}var state={getHighWaterMark:getHighWaterMark$1,getDefaultHighWaterMark,setDefaultHighWaterMark},string_decoder={},safeBuffer={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(a,s){var o=buffer,c=o.Buffer;function d(g,b){for(var _ in g)b[_]=g[_]}c.from&&c.alloc&&c.allocUnsafe&&c.allocUnsafeSlow?a.exports=o:(d(o,s),s.Buffer=h);function h(g,b,_){return c(g,b,_)}h.prototype=Object.create(c.prototype),d(c,h),h.from=function(g,b,_){if(typeof g=="number")throw new TypeError("Argument must not be a number");return c(g,b,_)},h.alloc=function(g,b,_){if(typeof g!="number")throw new TypeError("Argument must be a number");var $=c(g);return b!==void 0?typeof _=="string"?$.fill(b,_):$.fill(b):$.fill(0),$},h.allocUnsafe=function(g){if(typeof g!="number")throw new TypeError("Argument must be a number");return c(g)},h.allocUnsafeSlow=function(g){if(typeof g!="number")throw new TypeError("Argument must be a number");return o.SlowBuffer(g)}})(safeBuffer,safeBuffer.exports);var safeBufferExports=safeBuffer.exports,Buffer$2=safeBufferExports.Buffer,isEncoding=Buffer$2.isEncoding||function(a){switch(a=""+a,a&&a.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function _normalizeEncoding(a){if(!a)return"utf8";for(var s;;)switch(a){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return a;default:if(s)return;a=(""+a).toLowerCase(),s=!0}}function normalizeEncoding(a){var s=_normalizeEncoding(a);if(typeof s!="string"&&(Buffer$2.isEncoding===isEncoding||!isEncoding(a)))throw new Error("Unknown encoding: "+a);return s||a}string_decoder.StringDecoder=StringDecoder;function StringDecoder(a){this.encoding=normalizeEncoding(a);var s;switch(this.encoding){case"utf16le":this.text=utf16Text,this.end=utf16End,s=4;break;case"utf8":this.fillLast=utf8FillLast,s=4;break;case"base64":this.text=base64Text,this.end=base64End,s=3;break;default:this.write=simpleWrite,this.end=simpleEnd;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=Buffer$2.allocUnsafe(s)}StringDecoder.prototype.write=function(a){if(a.length===0)return"";var s,o;if(this.lastNeed){if(s=this.fillLast(a),s===void 0)return"";o=this.lastNeed,this.lastNeed=0}else o=0;return o<a.length?s?s+this.text(a,o):this.text(a,o):s||""};StringDecoder.prototype.end=utf8End;StringDecoder.prototype.text=utf8Text;StringDecoder.prototype.fillLast=function(a){if(this.lastNeed<=a.length)return a.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);a.copy(this.lastChar,this.lastTotal-this.lastNeed,0,a.length),this.lastNeed-=a.length};function utf8CheckByte(a){return a<=127?0:a>>5===6?2:a>>4===14?3:a>>3===30?4:a>>6===2?-1:-2}function utf8CheckIncomplete(a,s,o){var c=s.length-1;if(c<o)return 0;var d=utf8CheckByte(s[c]);return d>=0?(d>0&&(a.lastNeed=d-1),d):--c<o||d===-2?0:(d=utf8CheckByte(s[c]),d>=0?(d>0&&(a.lastNeed=d-2),d):--c<o||d===-2?0:(d=utf8CheckByte(s[c]),d>=0?(d>0&&(d===2?d=0:a.lastNeed=d-3),d):0))}function utf8CheckExtraBytes(a,s,o){if((s[0]&192)!==128)return a.lastNeed=0,"";if(a.lastNeed>1&&s.length>1){if((s[1]&192)!==128)return a.lastNeed=1,"";if(a.lastNeed>2&&s.length>2&&(s[2]&192)!==128)return a.lastNeed=2,""}}function utf8FillLast(a){var s=this.lastTotal-this.lastNeed,o=utf8CheckExtraBytes(this,a);if(o!==void 0)return o;if(this.lastNeed<=a.length)return a.copy(this.lastChar,s,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);a.copy(this.lastChar,s,0,a.length),this.lastNeed-=a.length}function utf8Text(a,s){var o=utf8CheckIncomplete(this,a,s);if(!this.lastNeed)return a.toString("utf8",s);this.lastTotal=o;var c=a.length-(o-this.lastNeed);return a.copy(this.lastChar,0,c),a.toString("utf8",s,c)}function utf8End(a){var s=a&&a.length?this.write(a):"";return this.lastNeed?s+"":s}function utf16Text(a,s){if((a.length-s)%2===0){var o=a.toString("utf16le",s);if(o){var c=o.charCodeAt(o.length-1);if(c>=55296&&c<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=a[a.length-2],this.lastChar[1]=a[a.length-1],o.slice(0,-1)}return o}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=a[a.length-1],a.toString("utf16le",s,a.length-1)}function utf16End(a){var s=a&&a.length?this.write(a):"";if(this.lastNeed){var o=this.lastTotal-this.lastNeed;return s+this.lastChar.toString("utf16le",0,o)}return s}function base64Text(a,s){var o=(a.length-s)%3;return o===0?a.toString("base64",s):(this.lastNeed=3-o,this.lastTotal=3,o===1?this.lastChar[0]=a[a.length-1]:(this.lastChar[0]=a[a.length-2],this.lastChar[1]=a[a.length-1]),a.toString("base64",s,a.length-o))}function base64End(a){var s=a&&a.length?this.write(a):"";return this.lastNeed?s+this.lastChar.toString("base64",0,3-this.lastNeed):s}function simpleWrite(a){return a.toString(this.encoding)}function simpleEnd(a){return a&&a.length?this.write(a):""}const process$2=browserExports$1,{PromisePrototypeThen:PromisePrototypeThen$1,SymbolAsyncIterator:SymbolAsyncIterator$1,SymbolIterator}=primordials,{Buffer:Buffer$1}=buffer,{ERR_INVALID_ARG_TYPE:ERR_INVALID_ARG_TYPE$2,ERR_STREAM_NULL_VALUES}=errors.codes;function from(a,s,o){let c;if(typeof s=="string"||s instanceof Buffer$1)return new a({objectMode:!0,...o,read(){this.push(s),this.push(null)}});let d;if(s&&s[SymbolAsyncIterator$1])d=!0,c=s[SymbolAsyncIterator$1]();else if(s&&s[SymbolIterator])d=!1,c=s[SymbolIterator]();else throw new ERR_INVALID_ARG_TYPE$2("iterable",["Iterable"],s);const h=new a({objectMode:!0,highWaterMark:1,...o});let g=!1;h._read=function(){g||(g=!0,_())},h._destroy=function($,_e){PromisePrototypeThen$1(b($),()=>process$2.nextTick(_e,$),tt=>process$2.nextTick(_e,tt||$))};async function b($){const _e=$!=null,tt=typeof c.throw=="function";if(_e&&tt){const{value:et,done:nt}=await c.throw($);if(await et,nt)return}if(typeof c.return=="function"){const{value:et}=await c.return();await et}}async function _(){for(;;){try{const{value:$,done:_e}=d?await c.next():c.next();if(_e)h.push(null);else{const tt=$&&typeof $.then=="function"?await $:$;if(tt===null)throw g=!1,new ERR_STREAM_NULL_VALUES;if(h.push(tt))continue;g=!1}}catch($){h.destroy($)}break}}return h}var from_1=from,readable,hasRequiredReadable;function requireReadable(){if(hasRequiredReadable)return readable;hasRequiredReadable=1;const a=browserExports$1,{ArrayPrototypeIndexOf:s,NumberIsInteger:o,NumberIsNaN:c,NumberParseInt:d,ObjectDefineProperties:h,ObjectKeys:g,ObjectSetPrototypeOf:b,Promise:_,SafeSet:$,SymbolAsyncDispose:_e,SymbolAsyncIterator:tt,Symbol:et}=primordials;readable=pr,pr.ReadableState=Dr;const{EventEmitter:nt}=eventsExports,{Stream:ot,prependListener:st}=legacy,{Buffer:pt}=buffer,{addAbortSignal:at}=addAbortSignalExports,ht=endOfStreamExports;let lt=utilExports.debuglog("stream",wt=>{lt=wt});const yt=buffer_list,bt=destroy_1,{getHighWaterMark:gt,getDefaultHighWaterMark:dt}=state,{aggregateTwoErrors:vt,codes:{ERR_INVALID_ARG_TYPE:kt,ERR_METHOD_NOT_IMPLEMENTED:jt,ERR_OUT_OF_RANGE:Lt,ERR_STREAM_PUSH_AFTER_EOF:Mt,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:Pt},AbortError:Yt}=errors,{validateObject:ir}=validators,rr=et("kPaused"),{StringDecoder:dr}=string_decoder,Rt=from_1;b(pr.prototype,ot.prototype),b(pr,ot);const er=()=>{},{errorOrDestroy:sr}=bt,zt=1,lr=2,nr=4,mr=8,Ar=16,wr=32,Pr=64,Cr=128,$r=256,Br=512,Hr=1024,Or=2048,St=4096,At=8192,tr=16384,ur=32768,fr=65536,xr=1<<17,gr=1<<18;function Er(wt){return{enumerable:!1,get(){return(this.state&wt)!==0},set(xt){xt?this.state|=wt:this.state&=~wt}}}h(Dr.prototype,{objectMode:Er(zt),ended:Er(lr),endEmitted:Er(nr),reading:Er(mr),constructed:Er(Ar),sync:Er(wr),needReadable:Er(Pr),emittedReadable:Er(Cr),readableListening:Er($r),resumeScheduled:Er(Br),errorEmitted:Er(Hr),emitClose:Er(Or),autoDestroy:Er(St),destroyed:Er(At),closed:Er(tr),closeEmitted:Er(ur),multiAwaitDrain:Er(fr),readingMore:Er(xr),dataEmitted:Er(gr)});function Dr(wt,xt,ar){typeof ar!="boolean"&&(ar=xt instanceof requireDuplex()),this.state=Or|St|Ar|wr,wt&&wt.objectMode&&(this.state|=zt),ar&&wt&&wt.readableObjectMode&&(this.state|=zt),this.highWaterMark=wt?gt(this,wt,"readableHighWaterMark",ar):dt(!1),this.buffer=new yt,this.length=0,this.pipes=[],this.flowing=null,this[rr]=null,wt&&wt.emitClose===!1&&(this.state&=~Or),wt&&wt.autoDestroy===!1&&(this.state&=~St),this.errored=null,this.defaultEncoding=wt&&wt.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,wt&&wt.encoding&&(this.decoder=new dr(wt.encoding),this.encoding=wt.encoding)}function pr(wt){if(!(this instanceof pr))return new pr(wt);const xt=this instanceof requireDuplex();this._readableState=new Dr(wt,this,xt),wt&&(typeof wt.read=="function"&&(this._read=wt.read),typeof wt.destroy=="function"&&(this._destroy=wt.destroy),typeof wt.construct=="function"&&(this._construct=wt.construct),wt.signal&&!xt&&at(wt.signal,this)),ot.call(this,wt),bt.construct(this,()=>{this._readableState.needReadable&&Tt(this,this._readableState)})}pr.prototype.destroy=bt.destroy,pr.prototype._undestroy=bt.undestroy,pr.prototype._destroy=function(wt,xt){xt(wt)},pr.prototype[nt.captureRejectionSymbol]=function(wt){this.destroy(wt)},pr.prototype[_e]=function(){let wt;return this.destroyed||(wt=this.readableEnded?null:new Yt,this.destroy(wt)),new _((xt,ar)=>ht(this,or=>or&&or!==wt?ar(or):xt(null)))},pr.prototype.push=function(wt,xt){return Nr(this,wt,xt,!1)},pr.prototype.unshift=function(wt,xt){return Nr(this,wt,xt,!0)};function Nr(wt,xt,ar,or){lt("readableAddChunk",xt);const hr=wt._readableState;let jr;if(hr.state&zt||(typeof xt=="string"?(ar=ar||hr.defaultEncoding,hr.encoding!==ar&&(or&&hr.encoding?xt=pt.from(xt,ar).toString(hr.encoding):(xt=pt.from(xt,ar),ar=""))):xt instanceof pt?ar="":ot._isUint8Array(xt)?(xt=ot._uint8ArrayToBuffer(xt),ar=""):xt!=null&&(jr=new kt("chunk",["string","Buffer","Uint8Array"],xt))),jr)sr(wt,jr);else if(xt===null)hr.state&=~mr,rt(wt,hr);else if(hr.state&zt||xt&&xt.length>0)if(or)if(hr.state&nr)sr(wt,new Pt);else{if(hr.destroyed||hr.errored)return!1;on(wt,hr,xt,!0)}else if(hr.ended)sr(wt,new Mt);else{if(hr.destroyed||hr.errored)return!1;hr.state&=~mr,hr.decoder&&!ar?(xt=hr.decoder.write(xt),hr.objectMode||xt.length!==0?on(wt,hr,xt,!1):Tt(wt,hr)):on(wt,hr,xt,!1)}else or||(hr.state&=~mr,Tt(wt,hr));return!hr.ended&&(hr.length<hr.highWaterMark||hr.length===0)}function on(wt,xt,ar,or){xt.flowing&&xt.length===0&&!xt.sync&&wt.listenerCount("data")>0?(xt.state&fr?xt.awaitDrainWriters.clear():xt.awaitDrainWriters=null,xt.dataEmitted=!0,wt.emit("data",ar)):(xt.length+=xt.objectMode?1:ar.length,or?xt.buffer.unshift(ar):xt.buffer.push(ar),xt.state&Pr&&it(wt)),Tt(wt,xt)}pr.prototype.isPaused=function(){const wt=this._readableState;return wt[rr]===!0||wt.flowing===!1},pr.prototype.setEncoding=function(wt){const xt=new dr(wt);this._readableState.decoder=xt,this._readableState.encoding=this._readableState.decoder.encoding;const ar=this._readableState.buffer;let or="";for(const hr of ar)or+=xt.write(hr);return ar.clear(),or!==""&&ar.push(or),this._readableState.length=or.length,this};const zr=1073741824;function ln(wt){if(wt>zr)throw new Lt("size","<= 1GiB",wt);return wt--,wt|=wt>>>1,wt|=wt>>>2,wt|=wt>>>4,wt|=wt>>>8,wt|=wt>>>16,wt++,wt}function mt(wt,xt){return wt<=0||xt.length===0&&xt.ended?0:xt.state&zt?1:c(wt)?xt.flowing&&xt.length?xt.buffer.first().length:xt.length:wt<=xt.length?wt:xt.ended?xt.length:0}pr.prototype.read=function(wt){lt("read",wt),wt===void 0?wt=NaN:o(wt)||(wt=d(wt,10));const xt=this._readableState,ar=wt;if(wt>xt.highWaterMark&&(xt.highWaterMark=ln(wt)),wt!==0&&(xt.state&=~Cr),wt===0&&xt.needReadable&&((xt.highWaterMark!==0?xt.length>=xt.highWaterMark:xt.length>0)||xt.ended))return lt("read: emitReadable",xt.length,xt.ended),xt.length===0&&xt.ended?Ur(this):it(this),null;if(wt=mt(wt,xt),wt===0&&xt.ended)return xt.length===0&&Ur(this),null;let or=(xt.state&Pr)!==0;if(lt("need readable",or),(xt.length===0||xt.length-wt<xt.highWaterMark)&&(or=!0,lt("length less than watermark",or)),xt.ended||xt.reading||xt.destroyed||xt.errored||!xt.constructed)or=!1,lt("reading, ended or constructing",or);else if(or){lt("do read"),xt.state|=mr|wr,xt.length===0&&(xt.state|=Pr);try{this._read(xt.highWaterMark)}catch(jr){sr(this,jr)}xt.state&=~wr,xt.reading||(wt=mt(ar,xt))}let hr;return wt>0?hr=Wr(wt,xt):hr=null,hr===null?(xt.needReadable=xt.length<=xt.highWaterMark,wt=0):(xt.length-=wt,xt.multiAwaitDrain?xt.awaitDrainWriters.clear():xt.awaitDrainWriters=null),xt.length===0&&(xt.ended||(xt.needReadable=!0),ar!==wt&&xt.ended&&Ur(this)),hr!==null&&!xt.errorEmitted&&!xt.closeEmitted&&(xt.dataEmitted=!0,this.emit("data",hr)),hr};function rt(wt,xt){if(lt("onEofChunk"),!xt.ended){if(xt.decoder){const ar=xt.decoder.end();ar&&ar.length&&(xt.buffer.push(ar),xt.length+=xt.objectMode?1:ar.length)}xt.ended=!0,xt.sync?it(wt):(xt.needReadable=!1,xt.emittedReadable=!0,Et(wt))}}function it(wt){const xt=wt._readableState;lt("emitReadable",xt.needReadable,xt.emittedReadable),xt.needReadable=!1,xt.emittedReadable||(lt("emitReadable",xt.flowing),xt.emittedReadable=!0,a.nextTick(Et,wt))}function Et(wt){const xt=wt._readableState;lt("emitReadable_",xt.destroyed,xt.length,xt.ended),!xt.destroyed&&!xt.errored&&(xt.length||xt.ended)&&(wt.emit("readable"),xt.emittedReadable=!1),xt.needReadable=!xt.flowing&&!xt.ended&&xt.length<=xt.highWaterMark,cr(wt)}function Tt(wt,xt){!xt.readingMore&&xt.constructed&&(xt.readingMore=!0,a.nextTick(Nt,wt,xt))}function Nt(wt,xt){for(;!xt.reading&&!xt.ended&&(xt.length<xt.highWaterMark||xt.flowing&&xt.length===0);){const ar=xt.length;if(lt("maybeReadMore read 0"),wt.read(0),ar===xt.length)break}xt.readingMore=!1}pr.prototype._read=function(wt){throw new jt("_read()")},pr.prototype.pipe=function(wt,xt){const ar=this,or=this._readableState;or.pipes.length===1&&(or.multiAwaitDrain||(or.multiAwaitDrain=!0,or.awaitDrainWriters=new $(or.awaitDrainWriters?[or.awaitDrainWriters]:[]))),or.pipes.push(wt),lt("pipe count=%d opts=%j",or.pipes.length,xt);const jr=(!xt||xt.end!==!1)&&wt!==a.stdout&&wt!==a.stderr?Mn:kn;or.endEmitted?a.nextTick(jr):ar.once("end",jr),wt.on("unpipe",Gr);function Gr(dn,Jr){lt("onunpipe"),dn===ar&&Jr&&Jr.hasUnpiped===!1&&(Jr.hasUnpiped=!0,Qn())}function Mn(){lt("onend"),wt.end()}let un,Ln=!1;function Qn(){lt("cleanup"),wt.removeListener("close",Nn),wt.removeListener("finish",On),un&&wt.removeListener("drain",un),wt.removeListener("error",$n),wt.removeListener("unpipe",Gr),ar.removeListener("end",Mn),ar.removeListener("end",kn),ar.removeListener("data",Fn),Ln=!0,un&&or.awaitDrainWriters&&(!wt._writableState||wt._writableState.needDrain)&&un()}function Bn(){Ln||(or.pipes.length===1&&or.pipes[0]===wt?(lt("false write response, pause",0),or.awaitDrainWriters=wt,or.multiAwaitDrain=!1):or.pipes.length>1&&or.pipes.includes(wt)&&(lt("false write response, pause",or.awaitDrainWriters.size),or.awaitDrainWriters.add(wt)),ar.pause()),un||(un=Bt(ar,wt),wt.on("drain",un))}ar.on("data",Fn);function Fn(dn){lt("ondata");const Jr=wt.write(dn);lt("dest.write",Jr),Jr===!1&&Bn()}function $n(dn){if(lt("onerror",dn),kn(),wt.removeListener("error",$n),wt.listenerCount("error")===0){const Jr=wt._writableState||wt._readableState;Jr&&!Jr.errorEmitted?sr(wt,dn):wt.emit("error",dn)}}st(wt,"error",$n);function Nn(){wt.removeListener("finish",On),kn()}wt.once("close",Nn);function On(){lt("onfinish"),wt.removeListener("close",Nn),kn()}wt.once("finish",On);function kn(){lt("unpipe"),ar.unpipe(wt)}return wt.emit("pipe",ar),wt.writableNeedDrain===!0?Bn():or.flowing||(lt("pipe resume"),ar.resume()),wt};function Bt(wt,xt){return function(){const or=wt._readableState;or.awaitDrainWriters===xt?(lt("pipeOnDrain",1),or.awaitDrainWriters=null):or.multiAwaitDrain&&(lt("pipeOnDrain",or.awaitDrainWriters.size),or.awaitDrainWriters.delete(xt)),(!or.awaitDrainWriters||or.awaitDrainWriters.size===0)&&wt.listenerCount("data")&&wt.resume()}}pr.prototype.unpipe=function(wt){const xt=this._readableState,ar={hasUnpiped:!1};if(xt.pipes.length===0)return this;if(!wt){const hr=xt.pipes;xt.pipes=[],this.pause();for(let jr=0;jr<hr.length;jr++)hr[jr].emit("unpipe",this,{hasUnpiped:!1});return this}const or=s(xt.pipes,wt);return or===-1?this:(xt.pipes.splice(or,1),xt.pipes.length===0&&this.pause(),wt.emit("unpipe",this,ar),this)},pr.prototype.on=function(wt,xt){const ar=ot.prototype.on.call(this,wt,xt),or=this._readableState;return wt==="data"?(or.readableListening=this.listenerCount("readable")>0,or.flowing!==!1&&this.resume()):wt==="readable"&&!or.endEmitted&&!or.readableListening&&(or.readableListening=or.needReadable=!0,or.flowing=!1,or.emittedReadable=!1,lt("on readable",or.length,or.reading),or.length?it(this):or.reading||a.nextTick(Tr,this)),ar},pr.prototype.addListener=pr.prototype.on,pr.prototype.removeListener=function(wt,xt){const ar=ot.prototype.removeListener.call(this,wt,xt);return wt==="readable"&&a.nextTick(yr,this),ar},pr.prototype.off=pr.prototype.removeListener,pr.prototype.removeAllListeners=function(wt){const xt=ot.prototype.removeAllListeners.apply(this,arguments);return(wt==="readable"||wt===void 0)&&a.nextTick(yr,this),xt};function yr(wt){const xt=wt._readableState;xt.readableListening=wt.listenerCount("readable")>0,xt.resumeScheduled&&xt[rr]===!1?xt.flowing=!0:wt.listenerCount("data")>0?wt.resume():xt.readableListening||(xt.flowing=null)}function Tr(wt){lt("readable nexttick read 0"),wt.read(0)}pr.prototype.resume=function(){const wt=this._readableState;return wt.flowing||(lt("resume"),wt.flowing=!wt.readableListening,br(this,wt)),wt[rr]=!1,this};function br(wt,xt){xt.resumeScheduled||(xt.resumeScheduled=!0,a.nextTick(Rr,wt,xt))}function Rr(wt,xt){lt("resume",xt.reading),xt.reading||wt.read(0),xt.resumeScheduled=!1,wt.emit("resume"),cr(wt),xt.flowing&&!xt.reading&&wt.read(0)}pr.prototype.pause=function(){return lt("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(lt("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[rr]=!0,this};function cr(wt){const xt=wt._readableState;for(lt("flow",xt.flowing);xt.flowing&&wt.read()!==null;);}pr.prototype.wrap=function(wt){let xt=!1;wt.on("data",or=>{!this.push(or)&&wt.pause&&(xt=!0,wt.pause())}),wt.on("end",()=>{this.push(null)}),wt.on("error",or=>{sr(this,or)}),wt.on("close",()=>{this.destroy()}),wt.on("destroy",()=>{this.destroy()}),this._read=()=>{xt&&wt.resume&&(xt=!1,wt.resume())};const ar=g(wt);for(let or=1;or<ar.length;or++){const hr=ar[or];this[hr]===void 0&&typeof wt[hr]=="function"&&(this[hr]=wt[hr].bind(wt))}return this},pr.prototype[tt]=function(){return Sr(this)},pr.prototype.iterator=function(wt){return wt!==void 0&&ir(wt,"options"),Sr(this,wt)};function Sr(wt,xt){typeof wt.read!="function"&&(wt=pr.wrap(wt,{objectMode:!0}));const ar=kr(wt,xt);return ar.stream=wt,ar}async function*kr(wt,xt){let ar=er;function or(Gr){this===wt?(ar(),ar=er):ar=Gr}wt.on("readable",or);let hr;const jr=ht(wt,{writable:!1},Gr=>{hr=Gr?vt(hr,Gr):null,ar(),ar=er});try{for(;;){const Gr=wt.destroyed?null:wt.read();if(Gr!==null)yield Gr;else{if(hr)throw hr;if(hr===null)return;await new _(or)}}}catch(Gr){throw hr=vt(hr,Gr),hr}finally{(hr||(xt==null?void 0:xt.destroyOnReturn)!==!1)&&(hr===void 0||wt._readableState.autoDestroy)?bt.destroyer(wt,null):(wt.off("readable",or),jr())}}h(pr.prototype,{readable:{__proto__:null,get(){const wt=this._readableState;return!!wt&&wt.readable!==!1&&!wt.destroyed&&!wt.errorEmitted&&!wt.endEmitted},set(wt){this._readableState&&(this._readableState.readable=!!wt)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(wt){this._readableState&&(this._readableState.flowing=wt)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(wt){this._readableState&&(this._readableState.destroyed=wt)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),h(Dr.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[rr]!==!1},set(wt){this[rr]=!!wt}}}),pr._fromList=Wr;function Wr(wt,xt){if(xt.length===0)return null;let ar;return xt.objectMode?ar=xt.buffer.shift():!wt||wt>=xt.length?(xt.decoder?ar=xt.buffer.join(""):xt.buffer.length===1?ar=xt.buffer.first():ar=xt.buffer.concat(xt.length),xt.buffer.clear()):ar=xt.buffer.consume(wt,xt.decoder),ar}function Ur(wt){const xt=wt._readableState;lt("endReadable",xt.endEmitted),xt.endEmitted||(xt.ended=!0,a.nextTick(gn,xt,wt))}function gn(wt,xt){if(lt("endReadableNT",wt.endEmitted,wt.length),!wt.errored&&!wt.closeEmitted&&!wt.endEmitted&&wt.length===0){if(wt.endEmitted=!0,xt.emit("end"),xt.writable&&xt.allowHalfOpen===!1)a.nextTick(In,xt);else if(wt.autoDestroy){const ar=xt._writableState;(!ar||ar.autoDestroy&&(ar.finished||ar.writable===!1))&&xt.destroy()}}}function In(wt){wt.writable&&!wt.writableEnded&&!wt.destroyed&&wt.end()}pr.from=function(wt,xt){return Rt(pr,wt,xt)};let Pn;function jn(){return Pn===void 0&&(Pn={}),Pn}return pr.fromWeb=function(wt,xt){return jn().newStreamReadableFromReadableStream(wt,xt)},pr.toWeb=function(wt,xt){return jn().newReadableStreamFromStreamReadable(wt,xt)},pr.wrap=function(wt,xt){var ar,or;return new pr({objectMode:(ar=(or=wt.readableObjectMode)!==null&&or!==void 0?or:wt.objectMode)!==null&&ar!==void 0?ar:!0,...xt,destroy(hr,jr){bt.destroyer(wt,hr),jr(hr)}}).wrap(wt)},readable}var writable,hasRequiredWritable;function requireWritable(){if(hasRequiredWritable)return writable;hasRequiredWritable=1;const a=browserExports$1,{ArrayPrototypeSlice:s,Error:o,FunctionPrototypeSymbolHasInstance:c,ObjectDefineProperty:d,ObjectDefineProperties:h,ObjectSetPrototypeOf:g,StringPrototypeToLowerCase:b,Symbol:_,SymbolHasInstance:$}=primordials;writable=ir,ir.WritableState=Pt;const{EventEmitter:_e}=eventsExports,tt=legacy.Stream,{Buffer:et}=buffer,nt=destroy_1,{addAbortSignal:ot}=addAbortSignalExports,{getHighWaterMark:st,getDefaultHighWaterMark:pt}=state,{ERR_INVALID_ARG_TYPE:at,ERR_METHOD_NOT_IMPLEMENTED:ht,ERR_MULTIPLE_CALLBACK:lt,ERR_STREAM_CANNOT_PIPE:yt,ERR_STREAM_DESTROYED:bt,ERR_STREAM_ALREADY_FINISHED:gt,ERR_STREAM_NULL_VALUES:dt,ERR_STREAM_WRITE_AFTER_END:vt,ERR_UNKNOWN_ENCODING:kt}=errors.codes,{errorOrDestroy:jt}=nt;g(ir.prototype,tt.prototype),g(ir,tt);function Lt(){}const Mt=_("kOnFinished");function Pt(St,At,tr){typeof tr!="boolean"&&(tr=At instanceof requireDuplex()),this.objectMode=!!(St&&St.objectMode),tr&&(this.objectMode=this.objectMode||!!(St&&St.writableObjectMode)),this.highWaterMark=St?st(this,St,"writableHighWaterMark",tr):pt(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;const ur=!!(St&&St.decodeStrings===!1);this.decodeStrings=!ur,this.defaultEncoding=St&&St.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=sr.bind(void 0,At),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,Yt(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!St||St.emitClose!==!1,this.autoDestroy=!St||St.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[Mt]=[]}function Yt(St){St.buffered=[],St.bufferedIndex=0,St.allBuffers=!0,St.allNoop=!0}Pt.prototype.getBuffer=function(){return s(this.buffered,this.bufferedIndex)},d(Pt.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function ir(St){const At=this instanceof requireDuplex();if(!At&&!c(ir,this))return new ir(St);this._writableState=new Pt(St,this,At),St&&(typeof St.write=="function"&&(this._write=St.write),typeof St.writev=="function"&&(this._writev=St.writev),typeof St.destroy=="function"&&(this._destroy=St.destroy),typeof St.final=="function"&&(this._final=St.final),typeof St.construct=="function"&&(this._construct=St.construct),St.signal&&ot(St.signal,this)),tt.call(this,St),nt.construct(this,()=>{const tr=this._writableState;tr.writing||mr(this,tr),Cr(this,tr)})}d(ir,$,{__proto__:null,value:function(St){return c(this,St)?!0:this!==ir?!1:St&&St._writableState instanceof Pt}}),ir.prototype.pipe=function(){jt(this,new yt)};function rr(St,At,tr,ur){const fr=St._writableState;if(typeof tr=="function")ur=tr,tr=fr.defaultEncoding;else{if(!tr)tr=fr.defaultEncoding;else if(tr!=="buffer"&&!et.isEncoding(tr))throw new kt(tr);typeof ur!="function"&&(ur=Lt)}if(At===null)throw new dt;if(!fr.objectMode)if(typeof At=="string")fr.decodeStrings!==!1&&(At=et.from(At,tr),tr="buffer");else if(At instanceof et)tr="buffer";else if(tt._isUint8Array(At))At=tt._uint8ArrayToBuffer(At),tr="buffer";else throw new at("chunk",["string","Buffer","Uint8Array"],At);let xr;return fr.ending?xr=new vt:fr.destroyed&&(xr=new bt("write")),xr?(a.nextTick(ur,xr),jt(St,xr,!0),xr):(fr.pendingcb++,dr(St,fr,At,tr,ur))}ir.prototype.write=function(St,At,tr){return rr(this,St,At,tr)===!0},ir.prototype.cork=function(){this._writableState.corked++},ir.prototype.uncork=function(){const St=this._writableState;St.corked&&(St.corked--,St.writing||mr(this,St))},ir.prototype.setDefaultEncoding=function(At){if(typeof At=="string"&&(At=b(At)),!et.isEncoding(At))throw new kt(At);return this._writableState.defaultEncoding=At,this};function dr(St,At,tr,ur,fr){const xr=At.objectMode?1:tr.length;At.length+=xr;const gr=At.length<At.highWaterMark;return gr||(At.needDrain=!0),At.writing||At.corked||At.errored||!At.constructed?(At.buffered.push({chunk:tr,encoding:ur,callback:fr}),At.allBuffers&&ur!=="buffer"&&(At.allBuffers=!1),At.allNoop&&fr!==Lt&&(At.allNoop=!1)):(At.writelen=xr,At.writecb=fr,At.writing=!0,At.sync=!0,St._write(tr,ur,At.onwrite),At.sync=!1),gr&&!At.errored&&!At.destroyed}function Rt(St,At,tr,ur,fr,xr,gr){At.writelen=ur,At.writecb=gr,At.writing=!0,At.sync=!0,At.destroyed?At.onwrite(new bt("write")):tr?St._writev(fr,At.onwrite):St._write(fr,xr,At.onwrite),At.sync=!1}function er(St,At,tr,ur){--At.pendingcb,ur(tr),nr(At),jt(St,tr)}function sr(St,At){const tr=St._writableState,ur=tr.sync,fr=tr.writecb;if(typeof fr!="function"){jt(St,new lt);return}tr.writing=!1,tr.writecb=null,tr.length-=tr.writelen,tr.writelen=0,At?(At.stack,tr.errored||(tr.errored=At),St._readableState&&!St._readableState.errored&&(St._readableState.errored=At),ur?a.nextTick(er,St,tr,At,fr):er(St,tr,At,fr)):(tr.buffered.length>tr.bufferedIndex&&mr(St,tr),ur?tr.afterWriteTickInfo!==null&&tr.afterWriteTickInfo.cb===fr?tr.afterWriteTickInfo.count++:(tr.afterWriteTickInfo={count:1,cb:fr,stream:St,state:tr},a.nextTick(zt,tr.afterWriteTickInfo)):lr(St,tr,1,fr))}function zt({stream:St,state:At,count:tr,cb:ur}){return At.afterWriteTickInfo=null,lr(St,At,tr,ur)}function lr(St,At,tr,ur){for(!At.ending&&!St.destroyed&&At.length===0&&At.needDrain&&(At.needDrain=!1,St.emit("drain"));tr-- >0;)At.pendingcb--,ur();At.destroyed&&nr(At),Cr(St,At)}function nr(St){if(St.writing)return;for(let fr=St.bufferedIndex;fr<St.buffered.length;++fr){var At;const{chunk:xr,callback:gr}=St.buffered[fr],Er=St.objectMode?1:xr.length;St.length-=Er,gr((At=St.errored)!==null&&At!==void 0?At:new bt("write"))}const tr=St[Mt].splice(0);for(let fr=0;fr<tr.length;fr++){var ur;tr[fr]((ur=St.errored)!==null&&ur!==void 0?ur:new bt("end"))}Yt(St)}function mr(St,At){if(At.corked||At.bufferProcessing||At.destroyed||!At.constructed)return;const{buffered:tr,bufferedIndex:ur,objectMode:fr}=At,xr=tr.length-ur;if(!xr)return;let gr=ur;if(At.bufferProcessing=!0,xr>1&&St._writev){At.pendingcb-=xr-1;const Er=At.allNoop?Lt:pr=>{for(let Nr=gr;Nr<tr.length;++Nr)tr[Nr].callback(pr)},Dr=At.allNoop&&gr===0?tr:s(tr,gr);Dr.allBuffers=At.allBuffers,Rt(St,At,!0,At.length,Dr,"",Er),Yt(At)}else{do{const{chunk:Er,encoding:Dr,callback:pr}=tr[gr];tr[gr++]=null;const Nr=fr?1:Er.length;Rt(St,At,!1,Nr,Er,Dr,pr)}while(gr<tr.length&&!At.writing);gr===tr.length?Yt(At):gr>256?(tr.splice(0,gr),At.bufferedIndex=0):At.bufferedIndex=gr}At.bufferProcessing=!1}ir.prototype._write=function(St,At,tr){if(this._writev)this._writev([{chunk:St,encoding:At}],tr);else throw new ht("_write()")},ir.prototype._writev=null,ir.prototype.end=function(St,At,tr){const ur=this._writableState;typeof St=="function"?(tr=St,St=null,At=null):typeof At=="function"&&(tr=At,At=null);let fr;if(St!=null){const xr=rr(this,St,At);xr instanceof o&&(fr=xr)}return ur.corked&&(ur.corked=1,this.uncork()),fr||(!ur.errored&&!ur.ending?(ur.ending=!0,Cr(this,ur,!0),ur.ended=!0):ur.finished?fr=new gt("end"):ur.destroyed&&(fr=new bt("end"))),typeof tr=="function"&&(fr||ur.finished?a.nextTick(tr,fr):ur[Mt].push(tr)),this};function Ar(St){return St.ending&&!St.destroyed&&St.constructed&&St.length===0&&!St.errored&&St.buffered.length===0&&!St.finished&&!St.writing&&!St.errorEmitted&&!St.closeEmitted}function wr(St,At){let tr=!1;function ur(fr){if(tr){jt(St,fr??lt());return}if(tr=!0,At.pendingcb--,fr){const xr=At[Mt].splice(0);for(let gr=0;gr<xr.length;gr++)xr[gr](fr);jt(St,fr,At.sync)}else Ar(At)&&(At.prefinished=!0,St.emit("prefinish"),At.pendingcb++,a.nextTick($r,St,At))}At.sync=!0,At.pendingcb++;try{St._final(ur)}catch(fr){ur(fr)}At.sync=!1}function Pr(St,At){!At.prefinished&&!At.finalCalled&&(typeof St._final=="function"&&!At.destroyed?(At.finalCalled=!0,wr(St,At)):(At.prefinished=!0,St.emit("prefinish")))}function Cr(St,At,tr){Ar(At)&&(Pr(St,At),At.pendingcb===0&&(tr?(At.pendingcb++,a.nextTick((ur,fr)=>{Ar(fr)?$r(ur,fr):fr.pendingcb--},St,At)):Ar(At)&&(At.pendingcb++,$r(St,At))))}function $r(St,At){At.pendingcb--,At.finished=!0;const tr=At[Mt].splice(0);for(let ur=0;ur<tr.length;ur++)tr[ur]();if(St.emit("finish"),At.autoDestroy){const ur=St._readableState;(!ur||ur.autoDestroy&&(ur.endEmitted||ur.readable===!1))&&St.destroy()}}h(ir.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(St){this._writableState&&(this._writableState.destroyed=St)}},writable:{__proto__:null,get(){const St=this._writableState;return!!St&&St.writable!==!1&&!St.destroyed&&!St.errored&&!St.ending&&!St.ended},set(St){this._writableState&&(this._writableState.writable=!!St)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){const St=this._writableState;return St?!St.destroyed&&!St.ending&&St.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});const Br=nt.destroy;ir.prototype.destroy=function(St,At){const tr=this._writableState;return!tr.destroyed&&(tr.bufferedIndex<tr.buffered.length||tr[Mt].length)&&a.nextTick(nr,tr),Br.call(this,St,At),this},ir.prototype._undestroy=nt.undestroy,ir.prototype._destroy=function(St,At){At(St)},ir.prototype[_e.captureRejectionSymbol]=function(St){this.destroy(St)};let Hr;function Or(){return Hr===void 0&&(Hr={}),Hr}return ir.fromWeb=function(St,At){return Or().newStreamWritableFromWritableStream(St,At)},ir.toWeb=function(St){return Or().newWritableStreamFromStreamWritable(St)},writable}var duplexify,hasRequiredDuplexify;function requireDuplexify(){if(hasRequiredDuplexify)return duplexify;hasRequiredDuplexify=1;const a=browserExports$1,s=buffer,{isReadable:o,isWritable:c,isIterable:d,isNodeStream:h,isReadableNodeStream:g,isWritableNodeStream:b,isDuplexNodeStream:_,isReadableStream:$,isWritableStream:_e}=utils,tt=endOfStreamExports,{AbortError:et,codes:{ERR_INVALID_ARG_TYPE:nt,ERR_INVALID_RETURN_VALUE:ot}}=errors,{destroyer:st}=destroy_1,pt=requireDuplex(),at=requireReadable(),ht=requireWritable(),{createDeferredPromise:lt}=utilExports,yt=from_1,bt=globalThis.Blob||s.Blob,gt=typeof bt<"u"?function(Pt){return Pt instanceof bt}:function(Pt){return!1},dt=globalThis.AbortController||requireBrowser().AbortController,{FunctionPrototypeCall:vt}=primordials;class kt extends pt{constructor(Pt){super(Pt),(Pt==null?void 0:Pt.readable)===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),(Pt==null?void 0:Pt.writable)===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}duplexify=function Mt(Pt,Yt){if(_(Pt))return Pt;if(g(Pt))return Lt({readable:Pt});if(b(Pt))return Lt({writable:Pt});if(h(Pt))return Lt({writable:!1,readable:!1});if($(Pt))return Lt({readable:at.fromWeb(Pt)});if(_e(Pt))return Lt({writable:ht.fromWeb(Pt)});if(typeof Pt=="function"){const{value:rr,write:dr,final:Rt,destroy:er}=jt(Pt);if(d(rr))return yt(kt,rr,{objectMode:!0,write:dr,final:Rt,destroy:er});const sr=rr==null?void 0:rr.then;if(typeof sr=="function"){let zt;const lr=vt(sr,rr,nr=>{if(nr!=null)throw new ot("nully","body",nr)},nr=>{st(zt,nr)});return zt=new kt({objectMode:!0,readable:!1,write:dr,final(nr){Rt(async()=>{try{await lr,a.nextTick(nr,null)}catch(mr){a.nextTick(nr,mr)}})},destroy:er})}throw new ot("Iterable, AsyncIterable or AsyncFunction",Yt,rr)}if(gt(Pt))return Mt(Pt.arrayBuffer());if(d(Pt))return yt(kt,Pt,{objectMode:!0,writable:!1});if($(Pt==null?void 0:Pt.readable)&&_e(Pt==null?void 0:Pt.writable))return kt.fromWeb(Pt);if(typeof(Pt==null?void 0:Pt.writable)=="object"||typeof(Pt==null?void 0:Pt.readable)=="object"){const rr=Pt!=null&&Pt.readable?g(Pt==null?void 0:Pt.readable)?Pt==null?void 0:Pt.readable:Mt(Pt.readable):void 0,dr=Pt!=null&&Pt.writable?b(Pt==null?void 0:Pt.writable)?Pt==null?void 0:Pt.writable:Mt(Pt.writable):void 0;return Lt({readable:rr,writable:dr})}const ir=Pt==null?void 0:Pt.then;if(typeof ir=="function"){let rr;return vt(ir,Pt,dr=>{dr!=null&&rr.push(dr),rr.push(null)},dr=>{st(rr,dr)}),rr=new kt({objectMode:!0,writable:!1,read(){}})}throw new nt(Yt,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],Pt)};function jt(Mt){let{promise:Pt,resolve:Yt}=lt();const ir=new dt,rr=ir.signal;return{value:Mt(async function*(){for(;;){const Rt=Pt;Pt=null;const{chunk:er,done:sr,cb:zt}=await Rt;if(a.nextTick(zt),sr)return;if(rr.aborted)throw new et(void 0,{cause:rr.reason});({promise:Pt,resolve:Yt}=lt()),yield er}}(),{signal:rr}),write(Rt,er,sr){const zt=Yt;Yt=null,zt({chunk:Rt,done:!1,cb:sr})},final(Rt){const er=Yt;Yt=null,er({done:!0,cb:Rt})},destroy(Rt,er){ir.abort(),er(Rt)}}}function Lt(Mt){const Pt=Mt.readable&&typeof Mt.readable.read!="function"?at.wrap(Mt.readable):Mt.readable,Yt=Mt.writable;let ir=!!o(Pt),rr=!!c(Yt),dr,Rt,er,sr,zt;function lr(nr){const mr=sr;sr=null,mr?mr(nr):nr&&zt.destroy(nr)}return zt=new kt({readableObjectMode:!!(Pt!=null&&Pt.readableObjectMode),writableObjectMode:!!(Yt!=null&&Yt.writableObjectMode),readable:ir,writable:rr}),rr&&(tt(Yt,nr=>{rr=!1,nr&&st(Pt,nr),lr(nr)}),zt._write=function(nr,mr,Ar){Yt.write(nr,mr)?Ar():dr=Ar},zt._final=function(nr){Yt.end(),Rt=nr},Yt.on("drain",function(){if(dr){const nr=dr;dr=null,nr()}}),Yt.on("finish",function(){if(Rt){const nr=Rt;Rt=null,nr()}})),ir&&(tt(Pt,nr=>{ir=!1,nr&&st(Pt,nr),lr(nr)}),Pt.on("readable",function(){if(er){const nr=er;er=null,nr()}}),Pt.on("end",function(){zt.push(null)}),zt._read=function(){for(;;){const nr=Pt.read();if(nr===null){er=zt._read;return}if(!zt.push(nr))return}}),zt._destroy=function(nr,mr){!nr&&sr!==null&&(nr=new et),er=null,dr=null,Rt=null,sr===null?mr(nr):(sr=mr,st(Yt,nr),st(Pt,nr))},zt}return duplexify}var duplex,hasRequiredDuplex;function requireDuplex(){if(hasRequiredDuplex)return duplex;hasRequiredDuplex=1;const{ObjectDefineProperties:a,ObjectGetOwnPropertyDescriptor:s,ObjectKeys:o,ObjectSetPrototypeOf:c}=primordials;duplex=g;const d=requireReadable(),h=requireWritable();c(g.prototype,d.prototype),c(g,d);{const _e=o(h.prototype);for(let tt=0;tt<_e.length;tt++){const et=_e[tt];g.prototype[et]||(g.prototype[et]=h.prototype[et])}}function g(_e){if(!(this instanceof g))return new g(_e);d.call(this,_e),h.call(this,_e),_e?(this.allowHalfOpen=_e.allowHalfOpen!==!1,_e.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),_e.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}a(g.prototype,{writable:{__proto__:null,...s(h.prototype,"writable")},writableHighWaterMark:{__proto__:null,...s(h.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...s(h.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...s(h.prototype,"writableBuffer")},writableLength:{__proto__:null,...s(h.prototype,"writableLength")},writableFinished:{__proto__:null,...s(h.prototype,"writableFinished")},writableCorked:{__proto__:null,...s(h.prototype,"writableCorked")},writableEnded:{__proto__:null,...s(h.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...s(h.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(_e){this._readableState&&this._writableState&&(this._readableState.destroyed=_e,this._writableState.destroyed=_e)}}});let b;function _(){return b===void 0&&(b={}),b}g.fromWeb=function(_e,tt){return _().newStreamDuplexFromReadableWritablePair(_e,tt)},g.toWeb=function(_e){return _().newReadableWritablePairFromDuplex(_e)};let $;return g.from=function(_e){return $||($=requireDuplexify()),$(_e,"body")},duplex}const{ObjectSetPrototypeOf:ObjectSetPrototypeOf$1,Symbol:Symbol$2}=primordials;var transform=Transform$1;const{ERR_METHOD_NOT_IMPLEMENTED}=errors.codes,Duplex$2=requireDuplex(),{getHighWaterMark}=state;ObjectSetPrototypeOf$1(Transform$1.prototype,Duplex$2.prototype);ObjectSetPrototypeOf$1(Transform$1,Duplex$2);const kCallback=Symbol$2("kCallback");function Transform$1(a){if(!(this instanceof Transform$1))return new Transform$1(a);const s=a?getHighWaterMark(this,a,"readableHighWaterMark",!0):null;s===0&&(a={...a,highWaterMark:null,readableHighWaterMark:s,writableHighWaterMark:a.writableHighWaterMark||0}),Duplex$2.call(this,a),this._readableState.sync=!1,this[kCallback]=null,a&&(typeof a.transform=="function"&&(this._transform=a.transform),typeof a.flush=="function"&&(this._flush=a.flush)),this.on("prefinish",prefinish)}function final(a){typeof this._flush=="function"&&!this.destroyed?this._flush((s,o)=>{if(s){a?a(s):this.destroy(s);return}o!=null&&this.push(o),this.push(null),a&&a()}):(this.push(null),a&&a())}function prefinish(){this._final!==final&&final.call(this)}Transform$1.prototype._final=final;Transform$1.prototype._transform=function(a,s,o){throw new ERR_METHOD_NOT_IMPLEMENTED("_transform()")};Transform$1.prototype._write=function(a,s,o){const c=this._readableState,d=this._writableState,h=c.length;this._transform(a,s,(g,b)=>{if(g){o(g);return}b!=null&&this.push(b),d.ended||h===c.length||c.length<c.highWaterMark?o():this[kCallback]=o})};Transform$1.prototype._read=function(){if(this[kCallback]){const a=this[kCallback];this[kCallback]=null,a()}};const{ObjectSetPrototypeOf}=primordials;var passthrough=PassThrough$1;const Transform=transform;ObjectSetPrototypeOf(PassThrough$1.prototype,Transform.prototype);ObjectSetPrototypeOf(PassThrough$1,Transform);function PassThrough$1(a){if(!(this instanceof PassThrough$1))return new PassThrough$1(a);Transform.call(this,a)}PassThrough$1.prototype._transform=function(a,s,o){o(null,a)};const process$1=browserExports$1,{ArrayIsArray,Promise:Promise$2,SymbolAsyncIterator,SymbolDispose}=primordials,eos$1=endOfStreamExports,{once}=utilExports,destroyImpl=destroy_1,Duplex$1=requireDuplex(),{aggregateTwoErrors,codes:{ERR_INVALID_ARG_TYPE:ERR_INVALID_ARG_TYPE$1,ERR_INVALID_RETURN_VALUE,ERR_MISSING_ARGS:ERR_MISSING_ARGS$2,ERR_STREAM_DESTROYED,ERR_STREAM_PREMATURE_CLOSE},AbortError:AbortError$2}=errors,{validateFunction,validateAbortSignal:validateAbortSignal$1}=validators,{isIterable,isReadable:isReadable$1,isReadableNodeStream,isNodeStream:isNodeStream$2,isTransformStream:isTransformStream$1,isWebStream:isWebStream$1,isReadableStream:isReadableStream$1,isReadableFinished}=utils,AbortController$2=globalThis.AbortController||requireBrowser().AbortController;let PassThrough,Readable,addAbortListener;function destroyer$1(a,s,o){let c=!1;a.on("close",()=>{c=!0});const d=eos$1(a,{readable:s,writable:o},h=>{c=!h});return{destroy:h=>{c||(c=!0,destroyImpl.destroyer(a,h||new ERR_STREAM_DESTROYED("pipe")))},cleanup:d}}function popCallback(a){return validateFunction(a[a.length-1],"streams[stream.length - 1]"),a.pop()}function makeAsyncIterable(a){if(isIterable(a))return a;if(isReadableNodeStream(a))return fromReadable(a);throw new ERR_INVALID_ARG_TYPE$1("val",["Readable","Iterable","AsyncIterable"],a)}async function*fromReadable(a){Readable||(Readable=requireReadable()),yield*Readable.prototype[SymbolAsyncIterator].call(a)}async function pumpToNode(a,s,o,{end:c}){let d,h=null;const g=$=>{if($&&(d=$),h){const _e=h;h=null,_e()}},b=()=>new Promise$2(($,_e)=>{d?_e(d):h=()=>{d?_e(d):$()}});s.on("drain",g);const _=eos$1(s,{readable:!1},g);try{s.writableNeedDrain&&await b();for await(const $ of a)s.write($)||await b();c&&(s.end(),await b()),o()}catch($){o(d!==$?aggregateTwoErrors(d,$):$)}finally{_(),s.off("drain",g)}}async function pumpToWeb(a,s,o,{end:c}){isTransformStream$1(s)&&(s=s.writable);const d=s.getWriter();try{for await(const h of a)await d.ready,d.write(h).catch(()=>{});await d.ready,c&&await d.close(),o()}catch(h){try{await d.abort(h),o(h)}catch(g){o(g)}}}function pipeline$1(...a){return pipelineImpl(a,once(popCallback(a)))}function pipelineImpl(a,s,o){if(a.length===1&&ArrayIsArray(a[0])&&(a=a[0]),a.length<2)throw new ERR_MISSING_ARGS$2("streams");const c=new AbortController$2,d=c.signal,h=o==null?void 0:o.signal,g=[];validateAbortSignal$1(h,"options.signal");function b(){ot(new AbortError$2)}addAbortListener=addAbortListener||utilExports.addAbortListener;let _;h&&(_=addAbortListener(h,b));let $,_e;const tt=[];let et=0;function nt(lt){ot(lt,--et===0)}function ot(lt,yt){var bt;if(lt&&(!$||$.code==="ERR_STREAM_PREMATURE_CLOSE")&&($=lt),!(!$&&!yt)){for(;tt.length;)tt.shift()($);(bt=_)===null||bt===void 0||bt[SymbolDispose](),c.abort(),yt&&($||g.forEach(gt=>gt()),process$1.nextTick(s,$,_e))}}let st;for(let lt=0;lt<a.length;lt++){const yt=a[lt],bt=lt<a.length-1,gt=lt>0,dt=bt||(o==null?void 0:o.end)!==!1,vt=lt===a.length-1;if(isNodeStream$2(yt)){let kt=function(jt){jt&&jt.name!=="AbortError"&&jt.code!=="ERR_STREAM_PREMATURE_CLOSE"&&nt(jt)};var ht=kt;if(dt){const{destroy:jt,cleanup:Lt}=destroyer$1(yt,bt,gt);tt.push(jt),isReadable$1(yt)&&vt&&g.push(Lt)}yt.on("error",kt),isReadable$1(yt)&&vt&&g.push(()=>{yt.removeListener("error",kt)})}if(lt===0)if(typeof yt=="function"){if(st=yt({signal:d}),!isIterable(st))throw new ERR_INVALID_RETURN_VALUE("Iterable, AsyncIterable or Stream","source",st)}else isIterable(yt)||isReadableNodeStream(yt)||isTransformStream$1(yt)?st=yt:st=Duplex$1.from(yt);else if(typeof yt=="function"){if(isTransformStream$1(st)){var pt;st=makeAsyncIterable((pt=st)===null||pt===void 0?void 0:pt.readable)}else st=makeAsyncIterable(st);if(st=yt(st,{signal:d}),bt){if(!isIterable(st,!0))throw new ERR_INVALID_RETURN_VALUE("AsyncIterable",`transform[${lt-1}]`,st)}else{var at;PassThrough||(PassThrough=passthrough);const kt=new PassThrough({objectMode:!0}),jt=(at=st)===null||at===void 0?void 0:at.then;if(typeof jt=="function")et++,jt.call(st,Pt=>{_e=Pt,Pt!=null&&kt.write(Pt),dt&&kt.end(),process$1.nextTick(nt)},Pt=>{kt.destroy(Pt),process$1.nextTick(nt,Pt)});else if(isIterable(st,!0))et++,pumpToNode(st,kt,nt,{end:dt});else if(isReadableStream$1(st)||isTransformStream$1(st)){const Pt=st.readable||st;et++,pumpToNode(Pt,kt,nt,{end:dt})}else throw new ERR_INVALID_RETURN_VALUE("AsyncIterable or Promise","destination",st);st=kt;const{destroy:Lt,cleanup:Mt}=destroyer$1(st,!1,!0);tt.push(Lt),vt&&g.push(Mt)}}else if(isNodeStream$2(yt)){if(isReadableNodeStream(st)){et+=2;const kt=pipe(st,yt,nt,{end:dt});isReadable$1(yt)&&vt&&g.push(kt)}else if(isTransformStream$1(st)||isReadableStream$1(st)){const kt=st.readable||st;et++,pumpToNode(kt,yt,nt,{end:dt})}else if(isIterable(st))et++,pumpToNode(st,yt,nt,{end:dt});else throw new ERR_INVALID_ARG_TYPE$1("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],st);st=yt}else if(isWebStream$1(yt)){if(isReadableNodeStream(st))et++,pumpToWeb(makeAsyncIterable(st),yt,nt,{end:dt});else if(isReadableStream$1(st)||isIterable(st))et++,pumpToWeb(st,yt,nt,{end:dt});else if(isTransformStream$1(st))et++,pumpToWeb(st.readable,yt,nt,{end:dt});else throw new ERR_INVALID_ARG_TYPE$1("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],st);st=yt}else st=Duplex$1.from(yt)}return(d!=null&&d.aborted||h!=null&&h.aborted)&&process$1.nextTick(b),st}function pipe(a,s,o,{end:c}){let d=!1;if(s.on("close",()=>{d||o(new ERR_STREAM_PREMATURE_CLOSE)}),a.pipe(s,{end:!1}),c){let g=function(){d=!0,s.end()};var h=g;isReadableFinished(a)?process$1.nextTick(g):a.once("end",g)}else o();return eos$1(a,{readable:!0,writable:!1},g=>{const b=a._readableState;g&&g.code==="ERR_STREAM_PREMATURE_CLOSE"&&b&&b.ended&&!b.errored&&!b.errorEmitted?a.once("end",o).once("error",o):o(g)}),eos$1(s,{readable:!1,writable:!0},o)}var pipeline_1={pipelineImpl,pipeline:pipeline$1};const{pipeline}=pipeline_1,Duplex=requireDuplex(),{destroyer}=destroy_1,{isNodeStream:isNodeStream$1,isReadable,isWritable:isWritable$1,isWebStream,isTransformStream,isWritableStream,isReadableStream}=utils,{AbortError:AbortError$1,codes:{ERR_INVALID_ARG_VALUE:ERR_INVALID_ARG_VALUE$1,ERR_MISSING_ARGS:ERR_MISSING_ARGS$1}}=errors,eos=endOfStreamExports;var compose$1=function a(...s){if(s.length===0)throw new ERR_MISSING_ARGS$1("streams");if(s.length===1)return Duplex.from(s[0]);const o=[...s];if(typeof s[0]=="function"&&(s[0]=Duplex.from(s[0])),typeof s[s.length-1]=="function"){const nt=s.length-1;s[nt]=Duplex.from(s[nt])}for(let nt=0;nt<s.length;++nt)if(!(!isNodeStream$1(s[nt])&&!isWebStream(s[nt]))){if(nt<s.length-1&&!(isReadable(s[nt])||isReadableStream(s[nt])||isTransformStream(s[nt])))throw new ERR_INVALID_ARG_VALUE$1(`streams[${nt}]`,o[nt],"must be readable");if(nt>0&&!(isWritable$1(s[nt])||isWritableStream(s[nt])||isTransformStream(s[nt])))throw new ERR_INVALID_ARG_VALUE$1(`streams[${nt}]`,o[nt],"must be writable")}let c,d,h,g,b;function _(nt){const ot=g;g=null,ot?ot(nt):nt?b.destroy(nt):!et&&!tt&&b.destroy()}const $=s[0],_e=pipeline(s,_),tt=!!(isWritable$1($)||isWritableStream($)||isTransformStream($)),et=!!(isReadable(_e)||isReadableStream(_e)||isTransformStream(_e));if(b=new Duplex({writableObjectMode:!!($!=null&&$.writableObjectMode),readableObjectMode:!!(_e!=null&&_e.readableObjectMode),writable:tt,readable:et}),tt){if(isNodeStream$1($))b._write=function(ot,st,pt){$.write(ot,st)?pt():c=pt},b._final=function(ot){$.end(),d=ot},$.on("drain",function(){if(c){const ot=c;c=null,ot()}});else if(isWebStream($)){const st=(isTransformStream($)?$.writable:$).getWriter();b._write=async function(pt,at,ht){try{await st.ready,st.write(pt).catch(()=>{}),ht()}catch(lt){ht(lt)}},b._final=async function(pt){try{await st.ready,st.close().catch(()=>{}),d=pt}catch(at){pt(at)}}}const nt=isTransformStream(_e)?_e.readable:_e;eos(nt,()=>{if(d){const ot=d;d=null,ot()}})}if(et){if(isNodeStream$1(_e))_e.on("readable",function(){if(h){const nt=h;h=null,nt()}}),_e.on("end",function(){b.push(null)}),b._read=function(){for(;;){const nt=_e.read();if(nt===null){h=b._read;return}if(!b.push(nt))return}};else if(isWebStream(_e)){const ot=(isTransformStream(_e)?_e.readable:_e).getReader();b._read=async function(){for(;;)try{const{value:st,done:pt}=await ot.read();if(!b.push(st))return;if(pt){b.push(null);return}}catch{return}}}}return b._destroy=function(nt,ot){!nt&&g!==null&&(nt=new AbortError$1),h=null,c=null,d=null,g===null?ot(nt):(g=ot,isNodeStream$1(_e)&&destroyer(_e,nt))},b};const AbortController$1=globalThis.AbortController||requireBrowser().AbortController,{codes:{ERR_INVALID_ARG_VALUE,ERR_INVALID_ARG_TYPE,ERR_MISSING_ARGS,ERR_OUT_OF_RANGE},AbortError}=errors,{validateAbortSignal,validateInteger,validateObject}=validators,kWeakHandler=primordials.Symbol("kWeak"),kResistStopPropagation=primordials.Symbol("kResistStopPropagation"),{finished}=endOfStreamExports,staticCompose=compose$1,{addAbortSignalNoValidate}=addAbortSignalExports,{isWritable,isNodeStream}=utils,{deprecate}=utilExports,{ArrayPrototypePush,Boolean:Boolean$1,MathFloor,Number:Number$1,NumberIsNaN,Promise:Promise$1,PromiseReject,PromiseResolve,PromisePrototypeThen,Symbol:Symbol$1}=primordials,kEmpty=Symbol$1("kEmpty"),kEof=Symbol$1("kEof");function compose(a,s){if(s!=null&&validateObject(s,"options"),(s==null?void 0:s.signal)!=null&&validateAbortSignal(s.signal,"options.signal"),isNodeStream(a)&&!isWritable(a))throw new ERR_INVALID_ARG_VALUE("stream",a,"must be writable");const o=staticCompose(this,a);return s!=null&&s.signal&&addAbortSignalNoValidate(s.signal,o),o}function map(a,s){if(typeof a!="function")throw new ERR_INVALID_ARG_TYPE("fn",["Function","AsyncFunction"],a);s!=null&&validateObject(s,"options"),(s==null?void 0:s.signal)!=null&&validateAbortSignal(s.signal,"options.signal");let o=1;(s==null?void 0:s.concurrency)!=null&&(o=MathFloor(s.concurrency));let c=o-1;return(s==null?void 0:s.highWaterMark)!=null&&(c=MathFloor(s.highWaterMark)),validateInteger(o,"options.concurrency",1),validateInteger(c,"options.highWaterMark",0),c+=o,(async function*(){const h=utilExports.AbortSignalAny([s==null?void 0:s.signal].filter(Boolean$1)),g=this,b=[],_={signal:h};let $,_e,tt=!1,et=0;function nt(){tt=!0,ot()}function ot(){et-=1,st()}function st(){_e&&!tt&&et<o&&b.length<c&&(_e(),_e=null)}async function pt(){try{for await(let at of g){if(tt)return;if(h.aborted)throw new AbortError;try{if(at=a(at,_),at===kEmpty)continue;at=PromiseResolve(at)}catch(ht){at=PromiseReject(ht)}et+=1,PromisePrototypeThen(at,ot,nt),b.push(at),$&&($(),$=null),!tt&&(b.length>=c||et>=o)&&await new Promise$1(ht=>{_e=ht})}b.push(kEof)}catch(at){const ht=PromiseReject(at);PromisePrototypeThen(ht,ot,nt),b.push(ht)}finally{tt=!0,$&&($(),$=null)}}pt();try{for(;;){for(;b.length>0;){const at=await b[0];if(at===kEof)return;if(h.aborted)throw new AbortError;at!==kEmpty&&(yield at),b.shift(),st()}await new Promise$1(at=>{$=at})}}finally{tt=!0,_e&&(_e(),_e=null)}}).call(this)}function asIndexedPairs(a=void 0){return a!=null&&validateObject(a,"options"),(a==null?void 0:a.signal)!=null&&validateAbortSignal(a.signal,"options.signal"),(async function*(){let o=0;for await(const d of this){var c;if(a!=null&&(c=a.signal)!==null&&c!==void 0&&c.aborted)throw new AbortError({cause:a.signal.reason});yield[o++,d]}}).call(this)}async function some(a,s=void 0){for await(const o of filter.call(this,a,s))return!0;return!1}async function every(a,s=void 0){if(typeof a!="function")throw new ERR_INVALID_ARG_TYPE("fn",["Function","AsyncFunction"],a);return!await some.call(this,async(...o)=>!await a(...o),s)}async function find(a,s){for await(const o of filter.call(this,a,s))return o}async function forEach(a,s){if(typeof a!="function")throw new ERR_INVALID_ARG_TYPE("fn",["Function","AsyncFunction"],a);async function o(c,d){return await a(c,d),kEmpty}for await(const c of map.call(this,o,s));}function filter(a,s){if(typeof a!="function")throw new ERR_INVALID_ARG_TYPE("fn",["Function","AsyncFunction"],a);async function o(c,d){return await a(c,d)?c:kEmpty}return map.call(this,o,s)}class ReduceAwareErrMissingArgs extends ERR_MISSING_ARGS{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}async function reduce(a,s,o){var c;if(typeof a!="function")throw new ERR_INVALID_ARG_TYPE("reducer",["Function","AsyncFunction"],a);o!=null&&validateObject(o,"options"),(o==null?void 0:o.signal)!=null&&validateAbortSignal(o.signal,"options.signal");let d=arguments.length>1;if(o!=null&&(c=o.signal)!==null&&c!==void 0&&c.aborted){const $=new AbortError(void 0,{cause:o.signal.reason});throw this.once("error",()=>{}),await finished(this.destroy($)),$}const h=new AbortController$1,g=h.signal;if(o!=null&&o.signal){const $={once:!0,[kWeakHandler]:this,[kResistStopPropagation]:!0};o.signal.addEventListener("abort",()=>h.abort(),$)}let b=!1;try{for await(const $ of this){var _;if(b=!0,o!=null&&(_=o.signal)!==null&&_!==void 0&&_.aborted)throw new AbortError;d?s=await a(s,$,{signal:g}):(s=$,d=!0)}if(!b&&!d)throw new ReduceAwareErrMissingArgs}finally{h.abort()}return s}async function toArray$1(a){a!=null&&validateObject(a,"options"),(a==null?void 0:a.signal)!=null&&validateAbortSignal(a.signal,"options.signal");const s=[];for await(const c of this){var o;if(a!=null&&(o=a.signal)!==null&&o!==void 0&&o.aborted)throw new AbortError(void 0,{cause:a.signal.reason});ArrayPrototypePush(s,c)}return s}function flatMap(a,s){const o=map.call(this,a,s);return(async function*(){for await(const d of o)yield*d}).call(this)}function toIntegerOrInfinity(a){if(a=Number$1(a),NumberIsNaN(a))return 0;if(a<0)throw new ERR_OUT_OF_RANGE("number",">= 0",a);return a}function drop(a,s=void 0){return s!=null&&validateObject(s,"options"),(s==null?void 0:s.signal)!=null&&validateAbortSignal(s.signal,"options.signal"),a=toIntegerOrInfinity(a),(async function*(){var c;if(s!=null&&(c=s.signal)!==null&&c!==void 0&&c.aborted)throw new AbortError;for await(const h of this){var d;if(s!=null&&(d=s.signal)!==null&&d!==void 0&&d.aborted)throw new AbortError;a--<=0&&(yield h)}}).call(this)}function take(a,s=void 0){return s!=null&&validateObject(s,"options"),(s==null?void 0:s.signal)!=null&&validateAbortSignal(s.signal,"options.signal"),a=toIntegerOrInfinity(a),(async function*(){var c;if(s!=null&&(c=s.signal)!==null&&c!==void 0&&c.aborted)throw new AbortError;for await(const h of this){var d;if(s!=null&&(d=s.signal)!==null&&d!==void 0&&d.aborted)throw new AbortError;if(a-- >0&&(yield h),a<=0)return}}).call(this)}operators.streamReturningOperators={asIndexedPairs:deprecate(asIndexedPairs,"readable.asIndexedPairs will be removed in a future version."),drop,filter,flatMap,map,take,compose};operators.promiseReturningOperators={every,forEach,reduce,toArray:toArray$1,some,find};var promises,hasRequiredPromises;function requirePromises(){if(hasRequiredPromises)return promises;hasRequiredPromises=1;const{ArrayPrototypePop:a,Promise:s}=primordials,{isIterable:o,isNodeStream:c,isWebStream:d}=utils,{pipelineImpl:h}=pipeline_1,{finished:g}=endOfStreamExports;requireStream();function b(..._){return new s(($,_e)=>{let tt,et;const nt=_[_.length-1];if(nt&&typeof nt=="object"&&!c(nt)&&!o(nt)&&!d(nt)){const ot=a(_);tt=ot.signal,et=ot.end}h(_,(ot,st)=>{ot?_e(ot):$(st)},{signal:tt,end:et})})}return promises={finished:g,pipeline:b},promises}var hasRequiredStream;function requireStream(){if(hasRequiredStream)return stream.exports;hasRequiredStream=1;const{Buffer:a}=buffer,{ObjectDefineProperty:s,ObjectKeys:o,ReflectApply:c}=primordials,{promisify:{custom:d}}=utilExports,{streamReturningOperators:h,promiseReturningOperators:g}=operators,{codes:{ERR_ILLEGAL_CONSTRUCTOR:b}}=errors,_=compose$1,{setDefaultHighWaterMark:$,getDefaultHighWaterMark:_e}=state,{pipeline:tt}=pipeline_1,{destroyer:et}=destroy_1,nt=endOfStreamExports,ot=requirePromises(),st=utils,pt=stream.exports=legacy.Stream;pt.isDestroyed=st.isDestroyed,pt.isDisturbed=st.isDisturbed,pt.isErrored=st.isErrored,pt.isReadable=st.isReadable,pt.isWritable=st.isWritable,pt.Readable=requireReadable();for(const lt of o(h)){let bt=function(...gt){if(new.target)throw b();return pt.Readable.from(c(yt,this,gt))};var ht=bt;const yt=h[lt];s(bt,"name",{__proto__:null,value:yt.name}),s(bt,"length",{__proto__:null,value:yt.length}),s(pt.Readable.prototype,lt,{__proto__:null,value:bt,enumerable:!1,configurable:!0,writable:!0})}for(const lt of o(g)){let bt=function(...dt){if(new.target)throw b();return c(yt,this,dt)};var ht=bt;const yt=g[lt];s(bt,"name",{__proto__:null,value:yt.name}),s(bt,"length",{__proto__:null,value:yt.length}),s(pt.Readable.prototype,lt,{__proto__:null,value:bt,enumerable:!1,configurable:!0,writable:!0})}pt.Writable=requireWritable(),pt.Duplex=requireDuplex(),pt.Transform=transform,pt.PassThrough=passthrough,pt.pipeline=tt;const{addAbortSignal:at}=addAbortSignalExports;return pt.addAbortSignal=at,pt.finished=nt,pt.destroy=et,pt.compose=_,pt.setDefaultHighWaterMark=$,pt.getDefaultHighWaterMark=_e,s(pt,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return ot}}),s(tt,d,{__proto__:null,enumerable:!0,get(){return ot.pipeline}}),s(nt,d,{__proto__:null,enumerable:!0,get(){return ot.finished}}),pt.Stream=pt,pt._isUint8Array=function(yt){return yt instanceof Uint8Array},pt._uint8ArrayToBuffer=function(yt){return a.from(yt.buffer,yt.byteOffset,yt.byteLength)},stream.exports}(function(a){const s=requireStream(),o=requirePromises(),c=s.Readable.destroy;a.exports=s.Readable,a.exports._uint8ArrayToBuffer=s._uint8ArrayToBuffer,a.exports._isUint8Array=s._isUint8Array,a.exports.isDisturbed=s.isDisturbed,a.exports.isErrored=s.isErrored,a.exports.isReadable=s.isReadable,a.exports.Readable=s.Readable,a.exports.Writable=s.Writable,a.exports.Duplex=s.Duplex,a.exports.Transform=s.Transform,a.exports.PassThrough=s.PassThrough,a.exports.addAbortSignal=s.addAbortSignal,a.exports.finished=s.finished,a.exports.destroy=s.destroy,a.exports.destroy=c,a.exports.pipeline=s.pipeline,a.exports.compose=s.compose,Object.defineProperty(s,"promises",{configurable:!0,enumerable:!0,get(){return o}}),a.exports.Stream=s.Stream,a.exports.default=a.exports})(browser$2);var browserExports=browser$2.exports;Object.defineProperty(lib,"__esModule",{value:!0});lib.ReadableWebToNodeStream=void 0;const readable_stream_1=browserExports;class ReadableWebToNodeStream extends readable_stream_1.Readable{constructor(s){super(),this.bytesRead=0,this.released=!1,this.reader=s.getReader()}_read(){if(this.released){this.push(null);return}this.pendingRead=this.reader.read().then(s=>{delete this.pendingRead,s.done||this.released?this.push(null):(this.bytesRead+=s.value.length,this.push(s.value))}).catch(s=>{this.destroy(s)})}async waitForReadToComplete(){this.pendingRead&&await this.pendingRead}async close(){await this.syncAndRelease()}async syncAndRelease(){this.released=!0,await this.waitForReadToComplete(),await this.reader.releaseLock()}}lib.ReadableWebToNodeStream=ReadableWebToNodeStream;(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.fetchFromUrl=a.parseBlob=a.parseReadableStream=a.parseNodeStream=a.selectCover=a.ratingToStars=a.orderTags=a.parseFromTokenizer=a.parseBuffer=void 0;const s=browserExports$2,o=core$2,c=lib,d=s("music-metadata-browser:main");var h=core$2;Object.defineProperty(a,"parseBuffer",{enumerable:!0,get:function(){return h.parseBuffer}}),Object.defineProperty(a,"parseFromTokenizer",{enumerable:!0,get:function(){return h.parseFromTokenizer}}),Object.defineProperty(a,"orderTags",{enumerable:!0,get:function(){return h.orderTags}}),Object.defineProperty(a,"ratingToStars",{enumerable:!0,get:function(){return h.ratingToStars}}),Object.defineProperty(a,"selectCover",{enumerable:!0,get:function(){return h.selectCover}}),a.parseNodeStream=o.parseStream;async function g(_e,tt,et){const nt=new c.ReadableWebToNodeStream(_e),ot=await(0,a.parseNodeStream)(nt,typeof tt=="string"?{mimeType:tt}:tt,et);return await nt.close(),ot}a.parseReadableStream=g;async function b(_e,tt){_e.type,_e.size,_e instanceof File&&_e.name;const et=_e.stream?_e.stream():_(_e);return g(et,{mimeType:_e.type,size:_e.size},tt)}a.parseBlob=b;function _(_e){const tt=new FileReader;return new ReadableStream({start(et){tt.onloadend=nt=>{let ot=nt.target.result;ot instanceof ArrayBuffer&&(ot=new Uint8Array(ot)),et.enqueue(ot),et.close()},tt.onerror=nt=>{et.close()},tt.onabort=nt=>{et.close()},tt.readAsArrayBuffer(_e)}})}async function $(_e,tt){const et=await fetch(_e),nt={size:parseInt(et.headers.get("Content-Length"),10),mimeType:et.headers.get("Content-Type")};if(et.ok)if(et.body){const ot=await g(et.body,nt,tt);return d("Closing HTTP-readable-stream..."),et.body.locked||await et.body.cancel(),d("HTTP-readable-stream closed."),ot}else return b(await et.blob(),tt);else throw new Error(`HTTP error status=${et.status}: ${et.statusText}`)}a.fetchFromUrl=$})(lib$3);const AudioPlayer=({src:a,title:s,artist:o,className:c=""})=>{const d=reactExports.useRef(null),[h,g]=reactExports.useState(!1),[b,_]=reactExports.useState(0),[$,_e]=reactExports.useState(0),[tt,et]=reactExports.useState(!1),[nt,ot]=reactExports.useState({title:s||"Loading...",artist:o||"Loading..."}),[st,pt]=reactExports.useState(!1),[at,ht]=reactExports.useState(!1);reactExports.useEffect(()=>{(async()=>{try{const Lt=await(await fetch(a)).blob(),Mt=await lib$3.parseBlob(Lt);let Pt;if(Mt.common.picture&&Mt.common.picture.length>0){const Yt=Mt.common.picture[0],ir=btoa(new Uint8Array(Yt.data).reduce((rr,dr)=>rr+String.fromCharCode(dr),""));Pt=`data:${Yt.format};base64,${ir}`}ot({title:Mt.common.title||s||"Unknown Track",artist:Mt.common.artist||o||"Unknown Artist",album:Mt.common.album,artwork:Pt}),pt(!0)}catch(jt){console.error("Error extracting metadata:",jt),ot({title:s||"Smooth Operator",artist:o||"Sade"}),pt(!0)}})()},[a,s,o]),reactExports.useEffect(()=>{const kt=d.current;if(!kt)return;const jt=()=>_(kt.currentTime),Lt=()=>_e(kt.duration),Mt=()=>{kt.currentTime=0,kt.play()},Pt=()=>pt(!0);return kt.addEventListener("timeupdate",jt),kt.addEventListener("loadedmetadata",Lt),kt.addEventListener("ended",Mt),kt.addEventListener("canplaythrough",Pt),()=>{kt.removeEventListener("timeupdate",jt),kt.removeEventListener("loadedmetadata",Lt),kt.removeEventListener("ended",Mt),kt.removeEventListener("canplaythrough",Pt)}},[]);const lt=()=>{if(!at){ht(!0);const kt=d.current;kt&&kt.play().then(()=>{g(!0)}).catch(jt=>{console.log("Autoplay prevented:",jt)})}},yt=kt=>{kt.stopPropagation();const jt=d.current;jt&&(h?jt.pause():jt.play().catch(Lt=>console.log("Play error:",Lt)),g(!h),ht(!0))},bt=kt=>{kt.stopPropagation();const jt=d.current;jt&&(jt.muted=!tt,et(!tt))},gt=kt=>{kt.stopPropagation();const jt=d.current;if(!jt||!$)return;const Lt=kt.currentTarget.getBoundingClientRect(),Mt=(kt.clientX-Lt.left)/Lt.width;jt.currentTime=Mt*$},dt=kt=>{if(!kt||isNaN(kt))return"0:00";const jt=Math.floor(kt/60),Lt=Math.floor(kt%60);return`${jt}:${Lt.toString().padStart(2,"0")}`},vt=$?b/$*100:0;return jsxRuntimeExports.jsxs("div",{className:`rounded-xl overflow-hidden cursor-pointer ${c}`,style:{backgroundColor:"hsl(0 0% 12%)"},onClick:lt,children:[jsxRuntimeExports.jsx("audio",{ref:d,src:a,preload:"auto"}),jsxRuntimeExports.jsxs("div",{className:"relative aspect-square w-full max-w-[200px] mx-auto mt-3",children:[nt.artwork?jsxRuntimeExports.jsx("img",{src:nt.artwork,alt:nt.album||nt.title,className:"w-full h-full object-cover rounded-lg shadow-lg"}):jsxRuntimeExports.jsx("div",{className:"w-full h-full rounded-lg flex items-center justify-center",style:{backgroundColor:"hsl(270 50% 25%)"},children:jsxRuntimeExports.jsx(Music,{className:"w-16 h-16 text-purple-300/50"})}),!at&&jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-black/40 rounded-lg flex items-center justify-center",children:jsxRuntimeExports.jsx("div",{className:"w-12 h-12 rounded-full bg-white/90 flex items-center justify-center",children:jsxRuntimeExports.jsx(Play,{className:"w-6 h-6 text-black ml-0.5"})})})]}),jsxRuntimeExports.jsxs("div",{className:"px-3 pt-3",children:[jsxRuntimeExports.jsx("div",{className:"h-1 bg-gray-700 rounded-full cursor-pointer group",onClick:gt,children:jsxRuntimeExports.jsx("div",{className:"h-full rounded-full relative transition-all",style:{width:`${vt}%`,background:"linear-gradient(to right, #f97316, #ea580c)"},children:jsxRuntimeExports.jsx("div",{className:"absolute right-0 top-1/2 -translate-y-1/2 w-2.5 h-2.5 bg-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity shadow-md"})})}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-[10px] text-gray-400 mt-1",children:[jsxRuntimeExports.jsx("span",{children:dt(b)}),jsxRuntimeExports.jsx("span",{children:dt($)})]})]}),jsxRuntimeExports.jsx("div",{className:"p-3 pt-2",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"min-w-0 flex-1",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-semibold text-white truncate",children:nt.title}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-gray-400 truncate",children:[nt.artist,nt.album?`  ${nt.album}`:""]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 ml-3",children:[jsxRuntimeExports.jsx("button",{onClick:yt,className:"w-8 h-8 rounded-full bg-white flex items-center justify-center text-black hover:scale-105 transition-transform",children:h?jsxRuntimeExports.jsx(Pause,{className:"w-4 h-4"}):jsxRuntimeExports.jsx(Play,{className:"w-4 h-4 ml-0.5"})}),jsxRuntimeExports.jsx("button",{onClick:bt,className:"w-8 h-8 flex items-center justify-center text-gray-400 hover:text-white transition-colors",children:tt?jsxRuntimeExports.jsx(VolumeX,{className:"w-4 h-4"}):jsxRuntimeExports.jsx(Volume2,{className:"w-4 h-4"})})]})]})})]})};function __rest(a,s){var o={};for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&s.indexOf(c)<0&&(o[c]=a[c]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var d=0,c=Object.getOwnPropertySymbols(a);d<c.length;d++)s.indexOf(c[d])<0&&Object.prototype.propertyIsEnumerable.call(a,c[d])&&(o[c[d]]=a[c[d]]);return o}function __awaiter(a,s,o,c){function d(h){return h instanceof o?h:new o(function(g){g(h)})}return new(o||(o=Promise))(function(h,g){function b(_e){try{$(c.next(_e))}catch(tt){g(tt)}}function _(_e){try{$(c.throw(_e))}catch(tt){g(tt)}}function $(_e){_e.done?h(_e.value):d(_e.value).then(b,_)}$((c=c.apply(a,s||[])).next())})}typeof SuppressedError=="function"&&SuppressedError;const resolveFetch$3=a=>a?(...s)=>a(...s):(...s)=>fetch(...s);class FunctionsError extends Error{constructor(s,o="FunctionsError",c){super(s),this.name=o,this.context=c}}class FunctionsFetchError extends FunctionsError{constructor(s){super("Failed to send a request to the Edge Function","FunctionsFetchError",s)}}class FunctionsRelayError extends FunctionsError{constructor(s){super("Relay Error invoking the Edge Function","FunctionsRelayError",s)}}class FunctionsHttpError extends FunctionsError{constructor(s){super("Edge Function returned a non-2xx status code","FunctionsHttpError",s)}}var FunctionRegion;(function(a){a.Any="any",a.ApNortheast1="ap-northeast-1",a.ApNortheast2="ap-northeast-2",a.ApSouth1="ap-south-1",a.ApSoutheast1="ap-southeast-1",a.ApSoutheast2="ap-southeast-2",a.CaCentral1="ca-central-1",a.EuCentral1="eu-central-1",a.EuWest1="eu-west-1",a.EuWest2="eu-west-2",a.EuWest3="eu-west-3",a.SaEast1="sa-east-1",a.UsEast1="us-east-1",a.UsWest1="us-west-1",a.UsWest2="us-west-2"})(FunctionRegion||(FunctionRegion={}));class FunctionsClient{constructor(s,{headers:o={},customFetch:c,region:d=FunctionRegion.Any}={}){this.url=s,this.headers=o,this.region=d,this.fetch=resolveFetch$3(c)}setAuth(s){this.headers.Authorization=`Bearer ${s}`}invoke(s){return __awaiter(this,arguments,void 0,function*(o,c={}){var d;let h,g;try{const{headers:b,method:_,body:$,signal:_e,timeout:tt}=c;let et={},{region:nt}=c;nt||(nt=this.region);const ot=new URL(`${this.url}/${o}`);nt&&nt!=="any"&&(et["x-region"]=nt,ot.searchParams.set("forceFunctionRegion",nt));let st;$&&(b&&!Object.prototype.hasOwnProperty.call(b,"Content-Type")||!b)?typeof Blob<"u"&&$ instanceof Blob||$ instanceof ArrayBuffer?(et["Content-Type"]="application/octet-stream",st=$):typeof $=="string"?(et["Content-Type"]="text/plain",st=$):typeof FormData<"u"&&$ instanceof FormData?st=$:(et["Content-Type"]="application/json",st=JSON.stringify($)):st=$;let pt=_e;tt&&(g=new AbortController,h=setTimeout(()=>g.abort(),tt),_e?(pt=g.signal,_e.addEventListener("abort",()=>g.abort())):pt=g.signal);const at=yield this.fetch(ot.toString(),{method:_||"POST",headers:Object.assign(Object.assign(Object.assign({},et),this.headers),b),body:st,signal:pt}).catch(bt=>{throw new FunctionsFetchError(bt)}),ht=at.headers.get("x-relay-error");if(ht&&ht==="true")throw new FunctionsRelayError(at);if(!at.ok)throw new FunctionsHttpError(at);let lt=((d=at.headers.get("Content-Type"))!==null&&d!==void 0?d:"text/plain").split(";")[0].trim(),yt;return lt==="application/json"?yt=yield at.json():lt==="application/octet-stream"||lt==="application/pdf"?yt=yield at.blob():lt==="text/event-stream"?yt=at:lt==="multipart/form-data"?yt=yield at.formData():yt=yield at.text(),{data:yt,error:null,response:at}}catch(b){return{data:null,error:b,response:b instanceof FunctionsHttpError||b instanceof FunctionsRelayError?b.context:void 0}}finally{h&&clearTimeout(h)}})}}var PostgrestError=class extends Error{constructor(a){super(a.message),this.name="PostgrestError",this.details=a.details,this.hint=a.hint,this.code=a.code}},PostgrestBuilder=class{constructor(a){var s,o;this.shouldThrowOnError=!1,this.method=a.method,this.url=a.url,this.headers=new Headers(a.headers),this.schema=a.schema,this.body=a.body,this.shouldThrowOnError=(s=a.shouldThrowOnError)!==null&&s!==void 0?s:!1,this.signal=a.signal,this.isMaybeSingle=(o=a.isMaybeSingle)!==null&&o!==void 0?o:!1,a.fetch?this.fetch=a.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(a,s){return this.headers=new Headers(this.headers),this.headers.set(a,s),this}then(a,s){var o=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const c=this.fetch;let d=c(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async h=>{let g=null,b=null,_=null,$=h.status,_e=h.statusText;if(h.ok){var tt,et;if(o.method!=="HEAD"){var nt;const at=await h.text();at===""||(o.headers.get("Accept")==="text/csv"||o.headers.get("Accept")&&(!((nt=o.headers.get("Accept"))===null||nt===void 0)&&nt.includes("application/vnd.pgrst.plan+text"))?b=at:b=JSON.parse(at))}const st=(tt=o.headers.get("Prefer"))===null||tt===void 0?void 0:tt.match(/count=(exact|planned|estimated)/),pt=(et=h.headers.get("content-range"))===null||et===void 0?void 0:et.split("/");st&&pt&&pt.length>1&&(_=parseInt(pt[1])),o.isMaybeSingle&&o.method==="GET"&&Array.isArray(b)&&(b.length>1?(g={code:"PGRST116",details:`Results contain ${b.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},b=null,_=null,$=406,_e="Not Acceptable"):b.length===1?b=b[0]:b=null)}else{var ot;const st=await h.text();try{g=JSON.parse(st),Array.isArray(g)&&h.status===404&&(b=[],g=null,$=200,_e="OK")}catch{h.status===404&&st===""?($=204,_e="No Content"):g={message:st}}if(g&&o.isMaybeSingle&&(!(g==null||(ot=g.details)===null||ot===void 0)&&ot.includes("0 rows"))&&(g=null,$=200,_e="OK"),g&&o.shouldThrowOnError)throw new PostgrestError(g)}return{error:g,data:b,count:_,status:$,statusText:_e}});return this.shouldThrowOnError||(d=d.catch(h=>{var g;let b="";const _=h==null?void 0:h.cause;if(_){var $,_e,tt,et;const ot=($=_==null?void 0:_.message)!==null&&$!==void 0?$:"",st=(_e=_==null?void 0:_.code)!==null&&_e!==void 0?_e:"";b=`${(tt=h==null?void 0:h.name)!==null&&tt!==void 0?tt:"FetchError"}: ${h==null?void 0:h.message}`,b+=`

Caused by: ${(et=_==null?void 0:_.name)!==null&&et!==void 0?et:"Error"}: ${ot}`,st&&(b+=` (${st})`),_!=null&&_.stack&&(b+=`
${_.stack}`)}else{var nt;b=(nt=h==null?void 0:h.stack)!==null&&nt!==void 0?nt:""}return{error:{message:`${(g=h==null?void 0:h.name)!==null&&g!==void 0?g:"FetchError"}: ${h==null?void 0:h.message}`,details:b,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),d.then(a,s)}returns(){return this}overrideTypes(){return this}},PostgrestTransformBuilder=class extends PostgrestBuilder{select(a){let s=!1;const o=(a??"*").split("").map(c=>/\s/.test(c)&&!s?"":(c==='"'&&(s=!s),c)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(a,{ascending:s=!0,nullsFirst:o,foreignTable:c,referencedTable:d=c}={}){const h=d?`${d}.order`:"order",g=this.url.searchParams.get(h);return this.url.searchParams.set(h,`${g?`${g},`:""}${a}.${s?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:s,referencedTable:o=s}={}){const c=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(c,`${a}`),this}range(a,s,{foreignTable:o,referencedTable:c=o}={}){const d=typeof c>"u"?"offset":`${c}.offset`,h=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(d,`${a}`),this.url.searchParams.set(h,`${s-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:a=!1,verbose:s=!1,settings:o=!1,buffers:c=!1,wal:d=!1,format:h="text"}={}){var g;const b=[a?"analyze":null,s?"verbose":null,o?"settings":null,c?"buffers":null,d?"wal":null].filter(Boolean).join("|"),_=(g=this.headers.get("Accept"))!==null&&g!==void 0?g:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${h}; for="${_}"; options=${b};`),h==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(a){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${a}`),this}};const PostgrestReservedCharsRegexp=new RegExp("[,()]");var PostgrestFilterBuilder=class extends PostgrestTransformBuilder{eq(a,s){return this.url.searchParams.append(a,`eq.${s}`),this}neq(a,s){return this.url.searchParams.append(a,`neq.${s}`),this}gt(a,s){return this.url.searchParams.append(a,`gt.${s}`),this}gte(a,s){return this.url.searchParams.append(a,`gte.${s}`),this}lt(a,s){return this.url.searchParams.append(a,`lt.${s}`),this}lte(a,s){return this.url.searchParams.append(a,`lte.${s}`),this}like(a,s){return this.url.searchParams.append(a,`like.${s}`),this}likeAllOf(a,s){return this.url.searchParams.append(a,`like(all).{${s.join(",")}}`),this}likeAnyOf(a,s){return this.url.searchParams.append(a,`like(any).{${s.join(",")}}`),this}ilike(a,s){return this.url.searchParams.append(a,`ilike.${s}`),this}ilikeAllOf(a,s){return this.url.searchParams.append(a,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(a,s){return this.url.searchParams.append(a,`ilike(any).{${s.join(",")}}`),this}regexMatch(a,s){return this.url.searchParams.append(a,`match.${s}`),this}regexIMatch(a,s){return this.url.searchParams.append(a,`imatch.${s}`),this}is(a,s){return this.url.searchParams.append(a,`is.${s}`),this}isDistinct(a,s){return this.url.searchParams.append(a,`isdistinct.${s}`),this}in(a,s){const o=Array.from(new Set(s)).map(c=>typeof c=="string"&&PostgrestReservedCharsRegexp.test(c)?`"${c}"`:`${c}`).join(",");return this.url.searchParams.append(a,`in.(${o})`),this}notIn(a,s){const o=Array.from(new Set(s)).map(c=>typeof c=="string"&&PostgrestReservedCharsRegexp.test(c)?`"${c}"`:`${c}`).join(",");return this.url.searchParams.append(a,`not.in.(${o})`),this}contains(a,s){return typeof s=="string"?this.url.searchParams.append(a,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(a,`cs.{${s.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(s)}`),this}containedBy(a,s){return typeof s=="string"?this.url.searchParams.append(a,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(a,`cd.{${s.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(s)}`),this}rangeGt(a,s){return this.url.searchParams.append(a,`sr.${s}`),this}rangeGte(a,s){return this.url.searchParams.append(a,`nxl.${s}`),this}rangeLt(a,s){return this.url.searchParams.append(a,`sl.${s}`),this}rangeLte(a,s){return this.url.searchParams.append(a,`nxr.${s}`),this}rangeAdjacent(a,s){return this.url.searchParams.append(a,`adj.${s}`),this}overlaps(a,s){return typeof s=="string"?this.url.searchParams.append(a,`ov.${s}`):this.url.searchParams.append(a,`ov.{${s.join(",")}}`),this}textSearch(a,s,{config:o,type:c}={}){let d="";c==="plain"?d="pl":c==="phrase"?d="ph":c==="websearch"&&(d="w");const h=o===void 0?"":`(${o})`;return this.url.searchParams.append(a,`${d}fts${h}.${s}`),this}match(a){return Object.entries(a).forEach(([s,o])=>{this.url.searchParams.append(s,`eq.${o}`)}),this}not(a,s,o){return this.url.searchParams.append(a,`not.${s}.${o}`),this}or(a,{foreignTable:s,referencedTable:o=s}={}){const c=o?`${o}.or`:"or";return this.url.searchParams.append(c,`(${a})`),this}filter(a,s,o){return this.url.searchParams.append(a,`${s}.${o}`),this}},PostgrestQueryBuilder=class{constructor(a,{headers:s={},schema:o,fetch:c}){this.url=a,this.headers=new Headers(s),this.schema=o,this.fetch=c}select(a,s){const{head:o=!1,count:c}=s??{},d=o?"HEAD":"GET";let h=!1;const g=(a??"*").split("").map(b=>/\s/.test(b)&&!h?"":(b==='"'&&(h=!h),b)).join("");return this.url.searchParams.set("select",g),c&&this.headers.append("Prefer",`count=${c}`),new PostgrestFilterBuilder({method:d,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(a,{count:s,defaultToNull:o=!0}={}){var c;const d="POST";if(s&&this.headers.append("Prefer",`count=${s}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const h=a.reduce((g,b)=>g.concat(Object.keys(b)),[]);if(h.length>0){const g=[...new Set(h)].map(b=>`"${b}"`);this.url.searchParams.set("columns",g.join(","))}}return new PostgrestFilterBuilder({method:d,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}upsert(a,{onConflict:s,ignoreDuplicates:o=!1,count:c,defaultToNull:d=!0}={}){var h;const g="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),s!==void 0&&this.url.searchParams.set("on_conflict",s),c&&this.headers.append("Prefer",`count=${c}`),d||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const b=a.reduce((_,$)=>_.concat(Object.keys($)),[]);if(b.length>0){const _=[...new Set(b)].map($=>`"${$}"`);this.url.searchParams.set("columns",_.join(","))}}return new PostgrestFilterBuilder({method:g,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}update(a,{count:s}={}){var o;const c="PATCH";return s&&this.headers.append("Prefer",`count=${s}`),new PostgrestFilterBuilder({method:c,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:a}={}){var s;const o="DELETE";return a&&this.headers.append("Prefer",`count=${a}`),new PostgrestFilterBuilder({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}},PostgrestClient=class Yn{constructor(s,{headers:o={},schema:c,fetch:d}={}){this.url=s,this.headers=new Headers(o),this.schemaName=c,this.fetch=d}from(s){if(!s||typeof s!="string"||s.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new PostgrestQueryBuilder(new URL(`${this.url}/${s}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(s){return new Yn(this.url,{headers:this.headers,schema:s,fetch:this.fetch})}rpc(s,o={},{head:c=!1,get:d=!1,count:h}={}){var g;let b;const _=new URL(`${this.url}/rpc/${s}`);let $;c||d?(b=c?"HEAD":"GET",Object.entries(o).filter(([tt,et])=>et!==void 0).map(([tt,et])=>[tt,Array.isArray(et)?`{${et.join(",")}}`:`${et}`]).forEach(([tt,et])=>{_.searchParams.append(tt,et)})):(b="POST",$=o);const _e=new Headers(this.headers);return h&&_e.set("Prefer",`count=${h}`),new PostgrestFilterBuilder({method:b,url:_,headers:_e,schema:this.schemaName,body:$,fetch:(g=this.fetch)!==null&&g!==void 0?g:fetch})}};class WebSocketFactory{constructor(){}static detectEnvironment(){var s;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((s=navigator.userAgent)===null||s===void 0)&&s.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const o=process.versions;if(o&&o.node){const c=o.node,d=parseInt(c.replace(/^v/,"").split(".")[0]);return d>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${d} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${d} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const s=this.detectEnvironment();if(s.constructor)return s.constructor;let o=s.error||"WebSocket not supported in this environment.";throw s.workaround&&(o+=`

Suggested solution: ${s.workaround}`),new Error(o)}static createWebSocket(s,o){const c=this.getWebSocketConstructor();return new c(s,o)}static isWebSocketSupported(){try{const s=this.detectEnvironment();return s.type==="native"||s.type==="ws"}catch{return!1}}}const version$3="2.89.0",DEFAULT_VERSION=`realtime-js/${version$3}`,VSN_1_0_0="1.0.0",VSN_2_0_0="2.0.0",DEFAULT_VSN=VSN_1_0_0,DEFAULT_TIMEOUT=1e4,WS_CLOSE_NORMAL=1e3,MAX_PUSH_BUFFER_SIZE=100;var SOCKET_STATES;(function(a){a[a.connecting=0]="connecting",a[a.open=1]="open",a[a.closing=2]="closing",a[a.closed=3]="closed"})(SOCKET_STATES||(SOCKET_STATES={}));var CHANNEL_STATES;(function(a){a.closed="closed",a.errored="errored",a.joined="joined",a.joining="joining",a.leaving="leaving"})(CHANNEL_STATES||(CHANNEL_STATES={}));var CHANNEL_EVENTS;(function(a){a.close="phx_close",a.error="phx_error",a.join="phx_join",a.reply="phx_reply",a.leave="phx_leave",a.access_token="access_token"})(CHANNEL_EVENTS||(CHANNEL_EVENTS={}));var TRANSPORTS;(function(a){a.websocket="websocket"})(TRANSPORTS||(TRANSPORTS={}));var CONNECTION_STATE;(function(a){a.Connecting="connecting",a.Open="open",a.Closing="closing",a.Closed="closed"})(CONNECTION_STATE||(CONNECTION_STATE={}));class Serializer{constructor(s){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=s??[]}encode(s,o){if(s.event===this.BROADCAST_EVENT&&!(s.payload instanceof ArrayBuffer)&&typeof s.payload.event=="string")return o(this._binaryEncodeUserBroadcastPush(s));let c=[s.join_ref,s.ref,s.topic,s.event,s.payload];return o(JSON.stringify(c))}_binaryEncodeUserBroadcastPush(s){var o;return this._isArrayBuffer((o=s.payload)===null||o===void 0?void 0:o.payload)?this._encodeBinaryUserBroadcastPush(s):this._encodeJsonUserBroadcastPush(s)}_encodeBinaryUserBroadcastPush(s){var o,c;const d=(c=(o=s.payload)===null||o===void 0?void 0:o.payload)!==null&&c!==void 0?c:new ArrayBuffer(0);return this._encodeUserBroadcastPush(s,this.BINARY_ENCODING,d)}_encodeJsonUserBroadcastPush(s){var o,c;const d=(c=(o=s.payload)===null||o===void 0?void 0:o.payload)!==null&&c!==void 0?c:{},g=new TextEncoder().encode(JSON.stringify(d)).buffer;return this._encodeUserBroadcastPush(s,this.JSON_ENCODING,g)}_encodeUserBroadcastPush(s,o,c){var d,h;const g=s.topic,b=(d=s.ref)!==null&&d!==void 0?d:"",_=(h=s.join_ref)!==null&&h!==void 0?h:"",$=s.payload.event,_e=this.allowedMetadataKeys?this._pick(s.payload,this.allowedMetadataKeys):{},tt=Object.keys(_e).length===0?"":JSON.stringify(_e);if(_.length>255)throw new Error(`joinRef length ${_.length} exceeds maximum of 255`);if(b.length>255)throw new Error(`ref length ${b.length} exceeds maximum of 255`);if(g.length>255)throw new Error(`topic length ${g.length} exceeds maximum of 255`);if($.length>255)throw new Error(`userEvent length ${$.length} exceeds maximum of 255`);if(tt.length>255)throw new Error(`metadata length ${tt.length} exceeds maximum of 255`);const et=this.USER_BROADCAST_PUSH_META_LENGTH+_.length+b.length+g.length+$.length+tt.length,nt=new ArrayBuffer(this.HEADER_LENGTH+et);let ot=new DataView(nt),st=0;ot.setUint8(st++,this.KINDS.userBroadcastPush),ot.setUint8(st++,_.length),ot.setUint8(st++,b.length),ot.setUint8(st++,g.length),ot.setUint8(st++,$.length),ot.setUint8(st++,tt.length),ot.setUint8(st++,o),Array.from(_,at=>ot.setUint8(st++,at.charCodeAt(0))),Array.from(b,at=>ot.setUint8(st++,at.charCodeAt(0))),Array.from(g,at=>ot.setUint8(st++,at.charCodeAt(0))),Array.from($,at=>ot.setUint8(st++,at.charCodeAt(0))),Array.from(tt,at=>ot.setUint8(st++,at.charCodeAt(0)));var pt=new Uint8Array(nt.byteLength+c.byteLength);return pt.set(new Uint8Array(nt),0),pt.set(new Uint8Array(c),nt.byteLength),pt.buffer}decode(s,o){if(this._isArrayBuffer(s)){let c=this._binaryDecode(s);return o(c)}if(typeof s=="string"){const c=JSON.parse(s),[d,h,g,b,_]=c;return o({join_ref:d,ref:h,topic:g,event:b,payload:_})}return o({})}_binaryDecode(s){const o=new DataView(s),c=o.getUint8(0),d=new TextDecoder;switch(c){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(s,o,d)}}_decodeUserBroadcast(s,o,c){const d=o.getUint8(1),h=o.getUint8(2),g=o.getUint8(3),b=o.getUint8(4);let _=this.HEADER_LENGTH+4;const $=c.decode(s.slice(_,_+d));_=_+d;const _e=c.decode(s.slice(_,_+h));_=_+h;const tt=c.decode(s.slice(_,_+g));_=_+g;const et=s.slice(_,s.byteLength),nt=b===this.JSON_ENCODING?JSON.parse(c.decode(et)):et,ot={type:this.BROADCAST_EVENT,event:_e,payload:nt};return g>0&&(ot.meta=JSON.parse(tt)),{join_ref:null,ref:null,topic:$,event:this.BROADCAST_EVENT,payload:ot}}_isArrayBuffer(s){var o;return s instanceof ArrayBuffer||((o=s==null?void 0:s.constructor)===null||o===void 0?void 0:o.name)==="ArrayBuffer"}_pick(s,o){return!s||typeof s!="object"?{}:Object.fromEntries(Object.entries(s).filter(([c])=>o.includes(c)))}}class Timer{constructor(s,o){this.callback=s,this.timerCalc=o,this.timer=void 0,this.tries=0,this.callback=s,this.timerCalc=o}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var PostgresTypes;(function(a){a.abstime="abstime",a.bool="bool",a.date="date",a.daterange="daterange",a.float4="float4",a.float8="float8",a.int2="int2",a.int4="int4",a.int4range="int4range",a.int8="int8",a.int8range="int8range",a.json="json",a.jsonb="jsonb",a.money="money",a.numeric="numeric",a.oid="oid",a.reltime="reltime",a.text="text",a.time="time",a.timestamp="timestamp",a.timestamptz="timestamptz",a.timetz="timetz",a.tsrange="tsrange",a.tstzrange="tstzrange"})(PostgresTypes||(PostgresTypes={}));const convertChangeData=(a,s,o={})=>{var c;const d=(c=o.skipTypes)!==null&&c!==void 0?c:[];return s?Object.keys(s).reduce((h,g)=>(h[g]=convertColumn(g,a,s,d),h),{}):{}},convertColumn=(a,s,o,c)=>{const d=s.find(b=>b.name===a),h=d==null?void 0:d.type,g=o[a];return h&&!c.includes(h)?convertCell(h,g):noop$1(g)},convertCell=(a,s)=>{if(a.charAt(0)==="_"){const o=a.slice(1,a.length);return toArray(s,o)}switch(a){case PostgresTypes.bool:return toBoolean(s);case PostgresTypes.float4:case PostgresTypes.float8:case PostgresTypes.int2:case PostgresTypes.int4:case PostgresTypes.int8:case PostgresTypes.numeric:case PostgresTypes.oid:return toNumber(s);case PostgresTypes.json:case PostgresTypes.jsonb:return toJson(s);case PostgresTypes.timestamp:return toTimestampString(s);case PostgresTypes.abstime:case PostgresTypes.date:case PostgresTypes.daterange:case PostgresTypes.int4range:case PostgresTypes.int8range:case PostgresTypes.money:case PostgresTypes.reltime:case PostgresTypes.text:case PostgresTypes.time:case PostgresTypes.timestamptz:case PostgresTypes.timetz:case PostgresTypes.tsrange:case PostgresTypes.tstzrange:return noop$1(s);default:return noop$1(s)}},noop$1=a=>a,toBoolean=a=>{switch(a){case"t":return!0;case"f":return!1;default:return a}},toNumber=a=>{if(typeof a=="string"){const s=parseFloat(a);if(!Number.isNaN(s))return s}return a},toJson=a=>{if(typeof a=="string")try{return JSON.parse(a)}catch{return a}return a},toArray=(a,s)=>{if(typeof a!="string")return a;const o=a.length-1,c=a[o];if(a[0]==="{"&&c==="}"){let h;const g=a.slice(1,o);try{h=JSON.parse("["+g+"]")}catch{h=g?g.split(","):[]}return h.map(b=>convertCell(s,b))}return a},toTimestampString=a=>typeof a=="string"?a.replace(" ","T"):a,httpEndpointURL=a=>{const s=new URL(a);return s.protocol=s.protocol.replace(/^ws/i,"http"),s.pathname=s.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),s.pathname===""||s.pathname==="/"?s.pathname="/api/broadcast":s.pathname=s.pathname+"/api/broadcast",s.href};class Push{constructor(s,o,c={},d=DEFAULT_TIMEOUT){this.channel=s,this.event=o,this.payload=c,this.timeout=d,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(s){this.timeout=s,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(s){this.payload=Object.assign(Object.assign({},this.payload),s)}receive(s,o){var c;return this._hasReceived(s)&&o((c=this.receivedResp)===null||c===void 0?void 0:c.response),this.recHooks.push({status:s,callback:o}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const s=o=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=o,this._matchReceive(o)};this.channel._on(this.refEvent,{},s),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(s,o){this.refEvent&&this.channel._trigger(this.refEvent,{status:s,response:o})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:s,response:o}){this.recHooks.filter(c=>c.status===s).forEach(c=>c.callback(o))}_hasReceived(s){return this.receivedResp&&this.receivedResp.status===s}}var REALTIME_PRESENCE_LISTEN_EVENTS;(function(a){a.SYNC="sync",a.JOIN="join",a.LEAVE="leave"})(REALTIME_PRESENCE_LISTEN_EVENTS||(REALTIME_PRESENCE_LISTEN_EVENTS={}));class RealtimePresence{constructor(s,o){this.channel=s,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const c=(o==null?void 0:o.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(c.state,{},d=>{const{onJoin:h,onLeave:g,onSync:b}=this.caller;this.joinRef=this.channel._joinRef(),this.state=RealtimePresence.syncState(this.state,d,h,g),this.pendingDiffs.forEach(_=>{this.state=RealtimePresence.syncDiff(this.state,_,h,g)}),this.pendingDiffs=[],b()}),this.channel._on(c.diff,{},d=>{const{onJoin:h,onLeave:g,onSync:b}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(d):(this.state=RealtimePresence.syncDiff(this.state,d,h,g),b())}),this.onJoin((d,h,g)=>{this.channel._trigger("presence",{event:"join",key:d,currentPresences:h,newPresences:g})}),this.onLeave((d,h,g)=>{this.channel._trigger("presence",{event:"leave",key:d,currentPresences:h,leftPresences:g})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(s,o,c,d){const h=this.cloneDeep(s),g=this.transformState(o),b={},_={};return this.map(h,($,_e)=>{g[$]||(_[$]=_e)}),this.map(g,($,_e)=>{const tt=h[$];if(tt){const et=_e.map(pt=>pt.presence_ref),nt=tt.map(pt=>pt.presence_ref),ot=_e.filter(pt=>nt.indexOf(pt.presence_ref)<0),st=tt.filter(pt=>et.indexOf(pt.presence_ref)<0);ot.length>0&&(b[$]=ot),st.length>0&&(_[$]=st)}else b[$]=_e}),this.syncDiff(h,{joins:b,leaves:_},c,d)}static syncDiff(s,o,c,d){const{joins:h,leaves:g}={joins:this.transformState(o.joins),leaves:this.transformState(o.leaves)};return c||(c=()=>{}),d||(d=()=>{}),this.map(h,(b,_)=>{var $;const _e=($=s[b])!==null&&$!==void 0?$:[];if(s[b]=this.cloneDeep(_),_e.length>0){const tt=s[b].map(nt=>nt.presence_ref),et=_e.filter(nt=>tt.indexOf(nt.presence_ref)<0);s[b].unshift(...et)}c(b,_e,_)}),this.map(g,(b,_)=>{let $=s[b];if(!$)return;const _e=_.map(tt=>tt.presence_ref);$=$.filter(tt=>_e.indexOf(tt.presence_ref)<0),s[b]=$,d(b,$,_),$.length===0&&delete s[b]}),s}static map(s,o){return Object.getOwnPropertyNames(s).map(c=>o(c,s[c]))}static transformState(s){return s=this.cloneDeep(s),Object.getOwnPropertyNames(s).reduce((o,c)=>{const d=s[c];return"metas"in d?o[c]=d.metas.map(h=>(h.presence_ref=h.phx_ref,delete h.phx_ref,delete h.phx_ref_prev,h)):o[c]=d,o},{})}static cloneDeep(s){return JSON.parse(JSON.stringify(s))}onJoin(s){this.caller.onJoin=s}onLeave(s){this.caller.onLeave=s}onSync(s){this.caller.onSync=s}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var REALTIME_POSTGRES_CHANGES_LISTEN_EVENT;(function(a){a.ALL="*",a.INSERT="INSERT",a.UPDATE="UPDATE",a.DELETE="DELETE"})(REALTIME_POSTGRES_CHANGES_LISTEN_EVENT||(REALTIME_POSTGRES_CHANGES_LISTEN_EVENT={}));var REALTIME_LISTEN_TYPES;(function(a){a.BROADCAST="broadcast",a.PRESENCE="presence",a.POSTGRES_CHANGES="postgres_changes",a.SYSTEM="system"})(REALTIME_LISTEN_TYPES||(REALTIME_LISTEN_TYPES={}));var REALTIME_SUBSCRIBE_STATES;(function(a){a.SUBSCRIBED="SUBSCRIBED",a.TIMED_OUT="TIMED_OUT",a.CLOSED="CLOSED",a.CHANNEL_ERROR="CHANNEL_ERROR"})(REALTIME_SUBSCRIBE_STATES||(REALTIME_SUBSCRIBE_STATES={}));class RealtimeChannel{constructor(s,o={config:{}},c){var d,h;if(this.topic=s,this.params=o,this.socket=c,this.bindings={},this.state=CHANNEL_STATES.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=s.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},o.config),this.timeout=this.socket.timeout,this.joinPush=new Push(this,CHANNEL_EVENTS.join,this.params,this.timeout),this.rejoinTimer=new Timer(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=CHANNEL_STATES.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(g=>g.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=CHANNEL_STATES.closed,this.socket._remove(this)}),this._onError(g=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,g),this.state=CHANNEL_STATES.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=CHANNEL_STATES.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",g=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,g),this.state=CHANNEL_STATES.errored,this.rejoinTimer.scheduleTimeout())}),this._on(CHANNEL_EVENTS.reply,{},(g,b)=>{this._trigger(this._replyEventName(b),g)}),this.presence=new RealtimePresence(this),this.broadcastEndpointURL=httpEndpointURL(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((h=(d=this.params.config)===null||d===void 0?void 0:d.broadcast)===null||h===void 0)&&h.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(s,o=this.timeout){var c,d,h;if(this.socket.isConnected()||this.socket.connect(),this.state==CHANNEL_STATES.closed){const{config:{broadcast:g,presence:b,private:_}}=this.params,$=(d=(c=this.bindings.postgres_changes)===null||c===void 0?void 0:c.map(nt=>nt.filter))!==null&&d!==void 0?d:[],_e=!!this.bindings[REALTIME_LISTEN_TYPES.PRESENCE]&&this.bindings[REALTIME_LISTEN_TYPES.PRESENCE].length>0||((h=this.params.config.presence)===null||h===void 0?void 0:h.enabled)===!0,tt={},et={broadcast:g,presence:Object.assign(Object.assign({},b),{enabled:_e}),postgres_changes:$,private:_};this.socket.accessTokenValue&&(tt.access_token=this.socket.accessTokenValue),this._onError(nt=>s==null?void 0:s(REALTIME_SUBSCRIBE_STATES.CHANNEL_ERROR,nt)),this._onClose(()=>s==null?void 0:s(REALTIME_SUBSCRIBE_STATES.CLOSED)),this.updateJoinPayload(Object.assign({config:et},tt)),this.joinedOnce=!0,this._rejoin(o),this.joinPush.receive("ok",async({postgres_changes:nt})=>{var ot;if(this.socket._isManualToken()||this.socket.setAuth(),nt===void 0){s==null||s(REALTIME_SUBSCRIBE_STATES.SUBSCRIBED);return}else{const st=this.bindings.postgres_changes,pt=(ot=st==null?void 0:st.length)!==null&&ot!==void 0?ot:0,at=[];for(let ht=0;ht<pt;ht++){const lt=st[ht],{filter:{event:yt,schema:bt,table:gt,filter:dt}}=lt,vt=nt&&nt[ht];if(vt&&vt.event===yt&&RealtimeChannel.isFilterValueEqual(vt.schema,bt)&&RealtimeChannel.isFilterValueEqual(vt.table,gt)&&RealtimeChannel.isFilterValueEqual(vt.filter,dt))at.push(Object.assign(Object.assign({},lt),{id:vt.id}));else{this.unsubscribe(),this.state=CHANNEL_STATES.errored,s==null||s(REALTIME_SUBSCRIBE_STATES.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=at,s&&s(REALTIME_SUBSCRIBE_STATES.SUBSCRIBED);return}}).receive("error",nt=>{this.state=CHANNEL_STATES.errored,s==null||s(REALTIME_SUBSCRIBE_STATES.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(nt).join(", ")||"error")))}).receive("timeout",()=>{s==null||s(REALTIME_SUBSCRIBE_STATES.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(s,o={}){return await this.send({type:"presence",event:"track",payload:s},o.timeout||this.timeout)}async untrack(s={}){return await this.send({type:"presence",event:"untrack"},s)}on(s,o,c){return this.state===CHANNEL_STATES.joined&&s===REALTIME_LISTEN_TYPES.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(s,o,c)}async httpSend(s,o,c={}){var d;if(o==null)return Promise.reject("Payload is required for httpSend()");const h={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(h.Authorization=`Bearer ${this.socket.accessTokenValue}`);const g={method:"POST",headers:h,body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:o,private:this.private}]})},b=await this._fetchWithTimeout(this.broadcastEndpointURL,g,(d=c.timeout)!==null&&d!==void 0?d:this.timeout);if(b.status===202)return{success:!0};let _=b.statusText;try{const $=await b.json();_=$.error||$.message||_}catch{}return Promise.reject(new Error(_))}async send(s,o={}){var c,d;if(!this._canPush()&&s.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:h,payload:g}=s,b={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(b.Authorization=`Bearer ${this.socket.accessTokenValue}`);const _={method:"POST",headers:b,body:JSON.stringify({messages:[{topic:this.subTopic,event:h,payload:g,private:this.private}]})};try{const $=await this._fetchWithTimeout(this.broadcastEndpointURL,_,(c=o.timeout)!==null&&c!==void 0?c:this.timeout);return await((d=$.body)===null||d===void 0?void 0:d.cancel()),$.ok?"ok":"error"}catch($){return $.name==="AbortError"?"timed out":"error"}}else return new Promise(h=>{var g,b,_;const $=this._push(s.type,s,o.timeout||this.timeout);s.type==="broadcast"&&!(!((_=(b=(g=this.params)===null||g===void 0?void 0:g.config)===null||b===void 0?void 0:b.broadcast)===null||_===void 0)&&_.ack)&&h("ok"),$.receive("ok",()=>h("ok")),$.receive("error",()=>h("error")),$.receive("timeout",()=>h("timed out"))})}updateJoinPayload(s){this.joinPush.updatePayload(s)}unsubscribe(s=this.timeout){this.state=CHANNEL_STATES.leaving;const o=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(CHANNEL_EVENTS.close,"leave",this._joinRef())};this.joinPush.destroy();let c=null;return new Promise(d=>{c=new Push(this,CHANNEL_EVENTS.leave,{},s),c.receive("ok",()=>{o(),d("ok")}).receive("timeout",()=>{o(),d("timed out")}).receive("error",()=>{d("error")}),c.send(),this._canPush()||c.trigger("ok",{})}).finally(()=>{c==null||c.destroy()})}teardown(){this.pushBuffer.forEach(s=>s.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=CHANNEL_STATES.closed,this.bindings={}}async _fetchWithTimeout(s,o,c){const d=new AbortController,h=setTimeout(()=>d.abort(),c),g=await this.socket.fetch(s,Object.assign(Object.assign({},o),{signal:d.signal}));return clearTimeout(h),g}_push(s,o,c=this.timeout){if(!this.joinedOnce)throw`tried to push '${s}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let d=new Push(this,s,o,c);return this._canPush()?d.send():this._addToPushBuffer(d),d}_addToPushBuffer(s){if(s.startTimeout(),this.pushBuffer.push(s),this.pushBuffer.length>MAX_PUSH_BUFFER_SIZE){const o=this.pushBuffer.shift();o&&(o.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${o.event}`,o.payload))}}_onMessage(s,o,c){return o}_isMember(s){return this.topic===s}_joinRef(){return this.joinPush.ref}_trigger(s,o,c){var d,h;const g=s.toLocaleLowerCase(),{close:b,error:_,leave:$,join:_e}=CHANNEL_EVENTS;if(c&&[b,_,$,_e].indexOf(g)>=0&&c!==this._joinRef())return;let et=this._onMessage(g,o,c);if(o&&!et)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(g)?(d=this.bindings.postgres_changes)===null||d===void 0||d.filter(nt=>{var ot,st,pt;return((ot=nt.filter)===null||ot===void 0?void 0:ot.event)==="*"||((pt=(st=nt.filter)===null||st===void 0?void 0:st.event)===null||pt===void 0?void 0:pt.toLocaleLowerCase())===g}).map(nt=>nt.callback(et,c)):(h=this.bindings[g])===null||h===void 0||h.filter(nt=>{var ot,st,pt,at,ht,lt;if(["broadcast","presence","postgres_changes"].includes(g))if("id"in nt){const yt=nt.id,bt=(ot=nt.filter)===null||ot===void 0?void 0:ot.event;return yt&&((st=o.ids)===null||st===void 0?void 0:st.includes(yt))&&(bt==="*"||(bt==null?void 0:bt.toLocaleLowerCase())===((pt=o.data)===null||pt===void 0?void 0:pt.type.toLocaleLowerCase()))}else{const yt=(ht=(at=nt==null?void 0:nt.filter)===null||at===void 0?void 0:at.event)===null||ht===void 0?void 0:ht.toLocaleLowerCase();return yt==="*"||yt===((lt=o==null?void 0:o.event)===null||lt===void 0?void 0:lt.toLocaleLowerCase())}else return nt.type.toLocaleLowerCase()===g}).map(nt=>{if(typeof et=="object"&&"ids"in et){const ot=et.data,{schema:st,table:pt,commit_timestamp:at,type:ht,errors:lt}=ot;et=Object.assign(Object.assign({},{schema:st,table:pt,commit_timestamp:at,eventType:ht,new:{},old:{},errors:lt}),this._getPayloadRecords(ot))}nt.callback(et,c)})}_isClosed(){return this.state===CHANNEL_STATES.closed}_isJoined(){return this.state===CHANNEL_STATES.joined}_isJoining(){return this.state===CHANNEL_STATES.joining}_isLeaving(){return this.state===CHANNEL_STATES.leaving}_replyEventName(s){return`chan_reply_${s}`}_on(s,o,c){const d=s.toLocaleLowerCase(),h={type:d,filter:o,callback:c};return this.bindings[d]?this.bindings[d].push(h):this.bindings[d]=[h],this}_off(s,o){const c=s.toLocaleLowerCase();return this.bindings[c]&&(this.bindings[c]=this.bindings[c].filter(d=>{var h;return!(((h=d.type)===null||h===void 0?void 0:h.toLocaleLowerCase())===c&&RealtimeChannel.isEqual(d.filter,o))})),this}static isEqual(s,o){if(Object.keys(s).length!==Object.keys(o).length)return!1;for(const c in s)if(s[c]!==o[c])return!1;return!0}static isFilterValueEqual(s,o){return(s??void 0)===(o??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(s){this._on(CHANNEL_EVENTS.close,{},s)}_onError(s){this._on(CHANNEL_EVENTS.error,{},o=>s(o))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(s=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=CHANNEL_STATES.joining,this.joinPush.resend(s))}_getPayloadRecords(s){const o={new:{},old:{}};return(s.type==="INSERT"||s.type==="UPDATE")&&(o.new=convertChangeData(s.columns,s.record)),(s.type==="UPDATE"||s.type==="DELETE")&&(o.old=convertChangeData(s.columns,s.old_record)),o}}const noop=()=>{},CONNECTION_TIMEOUTS={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},RECONNECT_INTERVALS=[1e3,2e3,5e3,1e4],DEFAULT_RECONNECT_FALLBACK=1e4,WORKER_SCRIPT=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class RealtimeClient{constructor(s,o){var c;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=DEFAULT_TIMEOUT,this.transport=null,this.heartbeatIntervalMs=CONNECTION_TIMEOUTS.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=noop,this.ref=0,this.reconnectTimer=null,this.vsn=DEFAULT_VSN,this.logger=noop,this.conn=null,this.sendBuffer=[],this.serializer=new Serializer,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=d=>d?(...h)=>d(...h):(...h)=>fetch(...h),!(!((c=o==null?void 0:o.params)===null||c===void 0)&&c.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=o.params.apikey,this.endPoint=`${s}/${TRANSPORTS.websocket}`,this.httpEndpoint=httpEndpointURL(s),this._initializeOptions(o),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(o==null?void 0:o.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=WebSocketFactory.createWebSocket(this.endpointURL())}catch(s){this._setConnectionState("disconnected");const o=s.message;throw o.includes("Node.js")?new Error(`${o}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${o}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(s,o){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const c=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(c),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(s?this.conn.close(s,o??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(s){const o=await s.unsubscribe();return this.channels.length===0&&this.disconnect(),o}async removeAllChannels(){const s=await Promise.all(this.channels.map(o=>o.unsubscribe()));return this.channels=[],this.disconnect(),s}log(s,o,c){this.logger(s,o,c)}connectionState(){switch(this.conn&&this.conn.readyState){case SOCKET_STATES.connecting:return CONNECTION_STATE.Connecting;case SOCKET_STATES.open:return CONNECTION_STATE.Open;case SOCKET_STATES.closing:return CONNECTION_STATE.Closing;default:return CONNECTION_STATE.Closed}}isConnected(){return this.connectionState()===CONNECTION_STATE.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(s,o={config:{}}){const c=`realtime:${s}`,d=this.getChannels().find(h=>h.topic===c);if(d)return d;{const h=new RealtimeChannel(`realtime:${s}`,o,this);return this.channels.push(h),h}}push(s){const{topic:o,event:c,payload:d,ref:h}=s,g=()=>{this.encode(s,b=>{var _;(_=this.conn)===null||_===void 0||_.send(b)})};this.log("push",`${o} ${c} (${h})`,d),this.isConnected()?g():this.sendBuffer.push(g)}async setAuth(s=null){this._authPromise=this._performAuth(s);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var s;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(o){this.log("error","error in heartbeat callback",o)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(o){this.log("error","error in heartbeat callback",o)}this._wasManualDisconnect=!1,(s=this.conn)===null||s===void 0||s.close(WS_CLOSE_NORMAL,"heartbeat timeout"),setTimeout(()=>{var o;this.isConnected()||(o=this.reconnectTimer)===null||o===void 0||o.scheduleTimeout()},CONNECTION_TIMEOUTS.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(o){this.log("error","error in heartbeat callback",o)}this._setAuthSafely("heartbeat")}onHeartbeat(s){this.heartbeatCallback=s}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(s=>s()),this.sendBuffer=[])}_makeRef(){let s=this.ref+1;return s===this.ref?this.ref=0:this.ref=s,this.ref.toString()}_leaveOpenTopic(s){let o=this.channels.find(c=>c.topic===s&&(c._isJoined()||c._isJoining()));o&&(this.log("transport",`leaving duplicate topic "${s}"`),o.unsubscribe())}_remove(s){this.channels=this.channels.filter(o=>o.topic!==s.topic)}_onConnMessage(s){this.decode(s.data,o=>{if(o.topic==="phoenix"&&o.event==="phx_reply")try{this.heartbeatCallback(o.payload.status==="ok"?"ok":"error")}catch($){this.log("error","error in heartbeat callback",$)}o.ref&&o.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:c,event:d,payload:h,ref:g}=o,b=g?`(${g})`:"",_=h.status||"";this.log("receive",`${_} ${c} ${d} ${b}`.trim(),h),this.channels.filter($=>$._isMember(c)).forEach($=>$._trigger(d,h,g)),this._triggerStateCallbacks("message",o)})}_clearTimer(s){var o;s==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):s==="reconnect"&&((o=this.reconnectTimer)===null||o===void 0||o.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=s=>this._onConnError(s),this.conn.onmessage=s=>this._onConnMessage(s),this.conn.onclose=s=>this._onConnClose(s),this.conn.readyState===SOCKET_STATES.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===SOCKET_STATES.open||this.conn.readyState===SOCKET_STATES.connecting)try{this.conn.close()}catch(s){this.log("error","Error closing connection",s)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(s=>s.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(o=>{this.log("error","error waiting for auth on connect",o),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const s=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(s),this.workerRef.onerror=o=>{this.log("worker","worker error",o.message),this._terminateWorker()},this.workerRef.onmessage=o=>{o.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(s){var o;this._setConnectionState("disconnected"),this.log("transport","close",s),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(o=this.reconnectTimer)===null||o===void 0||o.scheduleTimeout(),this._triggerStateCallbacks("close",s)}_onConnError(s){this._setConnectionState("disconnected"),this.log("transport",`${s}`),this._triggerChanError(),this._triggerStateCallbacks("error",s)}_triggerChanError(){this.channels.forEach(s=>s._trigger(CHANNEL_EVENTS.error))}_appendParams(s,o){if(Object.keys(o).length===0)return s;const c=s.match(/\?/)?"&":"?",d=new URLSearchParams(o);return`${s}${c}${d}`}_workerObjectUrl(s){let o;if(s)o=s;else{const c=new Blob([WORKER_SCRIPT],{type:"application/javascript"});o=URL.createObjectURL(c)}return o}_setConnectionState(s,o=!1){this._connectionState=s,s==="connecting"?this._wasManualDisconnect=!1:s==="disconnecting"&&(this._wasManualDisconnect=o)}async _performAuth(s=null){let o,c=!1;if(s)o=s,c=!0;else if(this.accessToken)try{o=await this.accessToken()}catch(d){this.log("error","Error fetching access token from callback",d),o=this.accessTokenValue}else o=this.accessTokenValue;c?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=o&&(this.accessTokenValue=o,this.channels.forEach(d=>{const h={access_token:o,version:DEFAULT_VERSION};o&&d.updateJoinPayload(h),d.joinedOnce&&d._isJoined()&&d._push(CHANNEL_EVENTS.access_token,{access_token:o})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(s="general"){this._isManualToken()||this.setAuth().catch(o=>{this.log("error",`Error setting auth in ${s}`,o)})}_triggerStateCallbacks(s,o){try{this.stateChangeCallbacks[s].forEach(c=>{try{c(o)}catch(d){this.log("error",`error in ${s} callback`,d)}})}catch(c){this.log("error",`error triggering ${s} callbacks`,c)}}_setupReconnectionTimer(){this.reconnectTimer=new Timer(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},CONNECTION_TIMEOUTS.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(s){var o,c,d,h,g,b,_,$,_e,tt,et,nt;switch(this.transport=(o=s==null?void 0:s.transport)!==null&&o!==void 0?o:null,this.timeout=(c=s==null?void 0:s.timeout)!==null&&c!==void 0?c:DEFAULT_TIMEOUT,this.heartbeatIntervalMs=(d=s==null?void 0:s.heartbeatIntervalMs)!==null&&d!==void 0?d:CONNECTION_TIMEOUTS.HEARTBEAT_INTERVAL,this.worker=(h=s==null?void 0:s.worker)!==null&&h!==void 0?h:!1,this.accessToken=(g=s==null?void 0:s.accessToken)!==null&&g!==void 0?g:null,this.heartbeatCallback=(b=s==null?void 0:s.heartbeatCallback)!==null&&b!==void 0?b:noop,this.vsn=(_=s==null?void 0:s.vsn)!==null&&_!==void 0?_:DEFAULT_VSN,s!=null&&s.params&&(this.params=s.params),s!=null&&s.logger&&(this.logger=s.logger),(s!=null&&s.logLevel||s!=null&&s.log_level)&&(this.logLevel=s.logLevel||s.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=($=s==null?void 0:s.reconnectAfterMs)!==null&&$!==void 0?$:ot=>RECONNECT_INTERVALS[ot-1]||DEFAULT_RECONNECT_FALLBACK,this.vsn){case VSN_1_0_0:this.encode=(_e=s==null?void 0:s.encode)!==null&&_e!==void 0?_e:(ot,st)=>st(JSON.stringify(ot)),this.decode=(tt=s==null?void 0:s.decode)!==null&&tt!==void 0?tt:(ot,st)=>st(JSON.parse(ot));break;case VSN_2_0_0:this.encode=(et=s==null?void 0:s.encode)!==null&&et!==void 0?et:this.serializer.encode.bind(this.serializer),this.decode=(nt=s==null?void 0:s.decode)!==null&&nt!==void 0?nt:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=s==null?void 0:s.workerUrl}}}var IcebergError=class extends Error{constructor(a,s){var o;super(a),this.name="IcebergError",this.status=s.status,this.icebergType=s.icebergType,this.icebergCode=s.icebergCode,this.details=s.details,this.isCommitStateUnknown=s.icebergType==="CommitStateUnknownException"||[500,502,504].includes(s.status)&&((o=s.icebergType)==null?void 0:o.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function buildUrl(a,s,o){const c=new URL(s,a);if(o)for(const[d,h]of Object.entries(o))h!==void 0&&c.searchParams.set(d,h);return c.toString()}async function buildAuthHeaders(a){return!a||a.type==="none"?{}:a.type==="bearer"?{Authorization:`Bearer ${a.token}`}:a.type==="header"?{[a.name]:a.value}:a.type==="custom"?await a.getHeaders():{}}function createFetchClient(a){const s=a.fetchImpl??globalThis.fetch;return{async request({method:o,path:c,query:d,body:h,headers:g}){const b=buildUrl(a.baseUrl,c,d),_=await buildAuthHeaders(a.auth),$=await s(b,{method:o,headers:{...h?{"Content-Type":"application/json"}:{},..._,...g},body:h?JSON.stringify(h):void 0}),_e=await $.text(),tt=($.headers.get("content-type")||"").includes("application/json"),et=tt&&_e?JSON.parse(_e):_e;if(!$.ok){const nt=tt?et:void 0,ot=nt==null?void 0:nt.error;throw new IcebergError((ot==null?void 0:ot.message)??`Request failed with status ${$.status}`,{status:$.status,icebergType:ot==null?void 0:ot.type,icebergCode:ot==null?void 0:ot.code,details:nt})}return{status:$.status,headers:$.headers,data:et}}}}function namespaceToPath(a){return a.join("")}var NamespaceOperations=class{constructor(a,s=""){this.client=a,this.prefix=s}async listNamespaces(a){const s=a?{parent:namespaceToPath(a.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:s})).data.namespaces.map(c=>({namespace:c}))}async createNamespace(a,s){const o={namespace:a.namespace,properties:s==null?void 0:s.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:o})).data}async dropNamespace(a){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${namespaceToPath(a.namespace)}`})}async loadNamespaceMetadata(a){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${namespaceToPath(a.namespace)}`})).data.properties}}async namespaceExists(a){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${namespaceToPath(a.namespace)}`}),!0}catch(s){if(s instanceof IcebergError&&s.status===404)return!1;throw s}}async createNamespaceIfNotExists(a,s){try{return await this.createNamespace(a,s)}catch(o){if(o instanceof IcebergError&&o.status===409)return;throw o}}};function namespaceToPath2(a){return a.join("")}var TableOperations=class{constructor(a,s="",o){this.client=a,this.prefix=s,this.accessDelegation=o}async listTables(a){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${namespaceToPath2(a.namespace)}/tables`})).data.identifiers}async createTable(a,s){const o={};return this.accessDelegation&&(o["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${namespaceToPath2(a.namespace)}/tables`,body:s,headers:o})).data.metadata}async updateTable(a,s){const o=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${namespaceToPath2(a.namespace)}/tables/${a.name}`,body:s});return{"metadata-location":o.data["metadata-location"],metadata:o.data.metadata}}async dropTable(a,s){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${namespaceToPath2(a.namespace)}/tables/${a.name}`,query:{purgeRequested:String((s==null?void 0:s.purge)??!1)}})}async loadTable(a){const s={};return this.accessDelegation&&(s["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${namespaceToPath2(a.namespace)}/tables/${a.name}`,headers:s})).data.metadata}async tableExists(a){const s={};this.accessDelegation&&(s["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${namespaceToPath2(a.namespace)}/tables/${a.name}`,headers:s}),!0}catch(o){if(o instanceof IcebergError&&o.status===404)return!1;throw o}}async createTableIfNotExists(a,s){try{return await this.createTable(a,s)}catch(o){if(o instanceof IcebergError&&o.status===409)return await this.loadTable({namespace:a.namespace,name:s.name});throw o}}},IcebergRestCatalog=class{constructor(a){var c;let s="v1";a.catalogName&&(s+=`/${a.catalogName}`);const o=a.baseUrl.endsWith("/")?a.baseUrl:`${a.baseUrl}/`;this.client=createFetchClient({baseUrl:o,auth:a.auth,fetchImpl:a.fetch}),this.accessDelegation=(c=a.accessDelegation)==null?void 0:c.join(","),this.namespaceOps=new NamespaceOperations(this.client,s),this.tableOps=new TableOperations(this.client,s,this.accessDelegation)}async listNamespaces(a){return this.namespaceOps.listNamespaces(a)}async createNamespace(a,s){return this.namespaceOps.createNamespace(a,s)}async dropNamespace(a){await this.namespaceOps.dropNamespace(a)}async loadNamespaceMetadata(a){return this.namespaceOps.loadNamespaceMetadata(a)}async listTables(a){return this.tableOps.listTables(a)}async createTable(a,s){return this.tableOps.createTable(a,s)}async updateTable(a,s){return this.tableOps.updateTable(a,s)}async dropTable(a,s){await this.tableOps.dropTable(a,s)}async loadTable(a){return this.tableOps.loadTable(a)}async namespaceExists(a){return this.namespaceOps.namespaceExists(a)}async tableExists(a){return this.tableOps.tableExists(a)}async createNamespaceIfNotExists(a,s){return this.namespaceOps.createNamespaceIfNotExists(a,s)}async createTableIfNotExists(a,s){return this.tableOps.createTableIfNotExists(a,s)}},StorageError=class extends Error{constructor(a){super(a),this.__isStorageError=!0,this.name="StorageError"}};function isStorageError(a){return typeof a=="object"&&a!==null&&"__isStorageError"in a}var StorageApiError=class extends StorageError{constructor(a,s,o){super(a),this.name="StorageApiError",this.status=s,this.statusCode=o}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},StorageUnknownError=class extends StorageError{constructor(a,s){super(a),this.name="StorageUnknownError",this.originalError=s}};const resolveFetch$1$1=a=>a?(...s)=>a(...s):(...s)=>fetch(...s),resolveResponse$1=()=>Response,recursiveToCamel=a=>{if(Array.isArray(a))return a.map(o=>recursiveToCamel(o));if(typeof a=="function"||a!==Object(a))return a;const s={};return Object.entries(a).forEach(([o,c])=>{const d=o.replace(/([-_][a-z])/gi,h=>h.toUpperCase().replace(/[-_]/g,""));s[d]=recursiveToCamel(c)}),s},isPlainObject$1=a=>{if(typeof a!="object"||a===null)return!1;const s=Object.getPrototypeOf(a);return(s===null||s===Object.prototype||Object.getPrototypeOf(s)===null)&&!(Symbol.toStringTag in a)&&!(Symbol.iterator in a)},isValidBucketName=a=>!a||typeof a!="string"||a.length===0||a.length>100||a.trim()!==a||a.includes("/")||a.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(a);function _typeof$1(a){"@babel/helpers - typeof";return _typeof$1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},_typeof$1(a)}function toPrimitive$1(a,s){if(_typeof$1(a)!="object"||!a)return a;var o=a[Symbol.toPrimitive];if(o!==void 0){var c=o.call(a,s||"default");if(_typeof$1(c)!="object")return c;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(a)}function toPropertyKey$1(a){var s=toPrimitive$1(a,"string");return _typeof$1(s)=="symbol"?s:s+""}function _defineProperty$1(a,s,o){return(s=toPropertyKey$1(s))in a?Object.defineProperty(a,s,{value:o,enumerable:!0,configurable:!0,writable:!0}):a[s]=o,a}function ownKeys$1(a,s){var o=Object.keys(a);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(a);s&&(c=c.filter(function(d){return Object.getOwnPropertyDescriptor(a,d).enumerable})),o.push.apply(o,c)}return o}function _objectSpread2$1(a){for(var s=1;s<arguments.length;s++){var o=arguments[s]!=null?arguments[s]:{};s%2?ownKeys$1(Object(o),!0).forEach(function(c){_defineProperty$1(a,c,o[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(o)):ownKeys$1(Object(o)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(o,c))})}return a}const _getErrorMessage$1=a=>{var s;return a.msg||a.message||a.error_description||(typeof a.error=="string"?a.error:(s=a.error)===null||s===void 0?void 0:s.message)||JSON.stringify(a)},handleError$1=async(a,s,o)=>{a instanceof await resolveResponse$1()&&!(o!=null&&o.noResolveJson)?a.json().then(c=>{const d=a.status||500,h=(c==null?void 0:c.statusCode)||d+"";s(new StorageApiError(_getErrorMessage$1(c),d,h))}).catch(c=>{s(new StorageUnknownError(_getErrorMessage$1(c),c))}):s(new StorageUnknownError(_getErrorMessage$1(a),a))},_getRequestParams$1=(a,s,o,c)=>{const d={method:a,headers:(s==null?void 0:s.headers)||{}};return a==="GET"||!c?d:(isPlainObject$1(c)?(d.headers=_objectSpread2$1({"Content-Type":"application/json"},s==null?void 0:s.headers),d.body=JSON.stringify(c)):d.body=c,s!=null&&s.duplex&&(d.duplex=s.duplex),_objectSpread2$1(_objectSpread2$1({},d),o))};async function _handleRequest$1(a,s,o,c,d,h){return new Promise((g,b)=>{a(o,_getRequestParams$1(s,c,d,h)).then(_=>{if(!_.ok)throw _;return c!=null&&c.noResolveJson?_:_.json()}).then(_=>g(_)).catch(_=>handleError$1(_,b,c))})}async function get(a,s,o,c){return _handleRequest$1(a,"GET",s,o,c)}async function post$1(a,s,o,c,d){return _handleRequest$1(a,"POST",s,c,d,o)}async function put(a,s,o,c,d){return _handleRequest$1(a,"PUT",s,c,d,o)}async function head(a,s,o,c){return _handleRequest$1(a,"HEAD",s,_objectSpread2$1(_objectSpread2$1({},o),{},{noResolveJson:!0}),c)}async function remove(a,s,o,c,d){return _handleRequest$1(a,"DELETE",s,c,d,o)}var StreamDownloadBuilder=class{constructor(a,s){this.downloadFn=a,this.shouldThrowOnError=s}then(a,s){return this.execute().then(a,s)}async execute(){var a=this;try{return{data:(await a.downloadFn()).body,error:null}}catch(s){if(a.shouldThrowOnError)throw s;if(isStorageError(s))return{data:null,error:s};throw s}}};let _Symbol$toStringTag;_Symbol$toStringTag=Symbol.toStringTag;var BlobDownloadBuilder=class{constructor(a,s){this.downloadFn=a,this.shouldThrowOnError=s,this[_Symbol$toStringTag]="BlobDownloadBuilder",this.promise=null}asStream(){return new StreamDownloadBuilder(this.downloadFn,this.shouldThrowOnError)}then(a,s){return this.getPromise().then(a,s)}catch(a){return this.getPromise().catch(a)}finally(a){return this.getPromise().finally(a)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var a=this;try{return{data:await(await a.downloadFn()).blob(),error:null}}catch(s){if(a.shouldThrowOnError)throw s;if(isStorageError(s))return{data:null,error:s};throw s}}};const DEFAULT_SEARCH_OPTIONS={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},DEFAULT_FILE_OPTIONS={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var StorageFileApi=class{constructor(a,s={},o,c){this.shouldThrowOnError=!1,this.url=a,this.headers=s,this.bucketId=o,this.fetch=resolveFetch$1$1(c)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(a,s,o,c){var d=this;try{let h;const g=_objectSpread2$1(_objectSpread2$1({},DEFAULT_FILE_OPTIONS),c);let b=_objectSpread2$1(_objectSpread2$1({},d.headers),a==="POST"&&{"x-upsert":String(g.upsert)});const _=g.metadata;typeof Blob<"u"&&o instanceof Blob?(h=new FormData,h.append("cacheControl",g.cacheControl),_&&h.append("metadata",d.encodeMetadata(_)),h.append("",o)):typeof FormData<"u"&&o instanceof FormData?(h=o,h.has("cacheControl")||h.append("cacheControl",g.cacheControl),_&&!h.has("metadata")&&h.append("metadata",d.encodeMetadata(_))):(h=o,b["cache-control"]=`max-age=${g.cacheControl}`,b["content-type"]=g.contentType,_&&(b["x-metadata"]=d.toBase64(d.encodeMetadata(_))),(typeof ReadableStream<"u"&&h instanceof ReadableStream||h&&typeof h=="object"&&"pipe"in h&&typeof h.pipe=="function")&&!g.duplex&&(g.duplex="half")),c!=null&&c.headers&&(b=_objectSpread2$1(_objectSpread2$1({},b),c.headers));const $=d._removeEmptyFolders(s),_e=d._getFinalPath($),tt=await(a=="PUT"?put:post$1)(d.fetch,`${d.url}/object/${_e}`,h,_objectSpread2$1({headers:b},g!=null&&g.duplex?{duplex:g.duplex}:{}));return{data:{path:$,id:tt.Id,fullPath:tt.Key},error:null}}catch(h){if(d.shouldThrowOnError)throw h;if(isStorageError(h))return{data:null,error:h};throw h}}async upload(a,s,o){return this.uploadOrUpdate("POST",a,s,o)}async uploadToSignedUrl(a,s,o,c){var d=this;const h=d._removeEmptyFolders(a),g=d._getFinalPath(h),b=new URL(d.url+`/object/upload/sign/${g}`);b.searchParams.set("token",s);try{let _;const $=_objectSpread2$1({upsert:DEFAULT_FILE_OPTIONS.upsert},c),_e=_objectSpread2$1(_objectSpread2$1({},d.headers),{"x-upsert":String($.upsert)});return typeof Blob<"u"&&o instanceof Blob?(_=new FormData,_.append("cacheControl",$.cacheControl),_.append("",o)):typeof FormData<"u"&&o instanceof FormData?(_=o,_.append("cacheControl",$.cacheControl)):(_=o,_e["cache-control"]=`max-age=${$.cacheControl}`,_e["content-type"]=$.contentType),{data:{path:h,fullPath:(await put(d.fetch,b.toString(),_,{headers:_e})).Key},error:null}}catch(_){if(d.shouldThrowOnError)throw _;if(isStorageError(_))return{data:null,error:_};throw _}}async createSignedUploadUrl(a,s){var o=this;try{let c=o._getFinalPath(a);const d=_objectSpread2$1({},o.headers);s!=null&&s.upsert&&(d["x-upsert"]="true");const h=await post$1(o.fetch,`${o.url}/object/upload/sign/${c}`,{},{headers:d}),g=new URL(o.url+h.url),b=g.searchParams.get("token");if(!b)throw new StorageError("No token returned by API");return{data:{signedUrl:g.toString(),path:a,token:b},error:null}}catch(c){if(o.shouldThrowOnError)throw c;if(isStorageError(c))return{data:null,error:c};throw c}}async update(a,s,o){return this.uploadOrUpdate("PUT",a,s,o)}async move(a,s,o){var c=this;try{return{data:await post$1(c.fetch,`${c.url}/object/move`,{bucketId:c.bucketId,sourceKey:a,destinationKey:s,destinationBucket:o==null?void 0:o.destinationBucket},{headers:c.headers}),error:null}}catch(d){if(c.shouldThrowOnError)throw d;if(isStorageError(d))return{data:null,error:d};throw d}}async copy(a,s,o){var c=this;try{return{data:{path:(await post$1(c.fetch,`${c.url}/object/copy`,{bucketId:c.bucketId,sourceKey:a,destinationKey:s,destinationBucket:o==null?void 0:o.destinationBucket},{headers:c.headers})).Key},error:null}}catch(d){if(c.shouldThrowOnError)throw d;if(isStorageError(d))return{data:null,error:d};throw d}}async createSignedUrl(a,s,o){var c=this;try{let d=c._getFinalPath(a),h=await post$1(c.fetch,`${c.url}/object/sign/${d}`,_objectSpread2$1({expiresIn:s},o!=null&&o.transform?{transform:o.transform}:{}),{headers:c.headers});const g=o!=null&&o.download?`&download=${o.download===!0?"":o.download}`:"";return h={signedUrl:encodeURI(`${c.url}${h.signedURL}${g}`)},{data:h,error:null}}catch(d){if(c.shouldThrowOnError)throw d;if(isStorageError(d))return{data:null,error:d};throw d}}async createSignedUrls(a,s,o){var c=this;try{const d=await post$1(c.fetch,`${c.url}/object/sign/${c.bucketId}`,{expiresIn:s,paths:a},{headers:c.headers}),h=o!=null&&o.download?`&download=${o.download===!0?"":o.download}`:"";return{data:d.map(g=>_objectSpread2$1(_objectSpread2$1({},g),{},{signedUrl:g.signedURL?encodeURI(`${c.url}${g.signedURL}${h}`):null})),error:null}}catch(d){if(c.shouldThrowOnError)throw d;if(isStorageError(d))return{data:null,error:d};throw d}}download(a,s){const o=typeof(s==null?void 0:s.transform)<"u"?"render/image/authenticated":"object",c=this.transformOptsToQueryString((s==null?void 0:s.transform)||{}),d=c?`?${c}`:"",h=this._getFinalPath(a),g=()=>get(this.fetch,`${this.url}/${o}/${h}${d}`,{headers:this.headers,noResolveJson:!0});return new BlobDownloadBuilder(g,this.shouldThrowOnError)}async info(a){var s=this;const o=s._getFinalPath(a);try{return{data:recursiveToCamel(await get(s.fetch,`${s.url}/object/info/${o}`,{headers:s.headers})),error:null}}catch(c){if(s.shouldThrowOnError)throw c;if(isStorageError(c))return{data:null,error:c};throw c}}async exists(a){var s=this;const o=s._getFinalPath(a);try{return await head(s.fetch,`${s.url}/object/${o}`,{headers:s.headers}),{data:!0,error:null}}catch(c){if(s.shouldThrowOnError)throw c;if(isStorageError(c)&&c instanceof StorageUnknownError){const d=c.originalError;if([400,404].includes(d==null?void 0:d.status))return{data:!1,error:c}}throw c}}getPublicUrl(a,s){const o=this._getFinalPath(a),c=[],d=s!=null&&s.download?`download=${s.download===!0?"":s.download}`:"";d!==""&&c.push(d);const h=typeof(s==null?void 0:s.transform)<"u"?"render/image":"object",g=this.transformOptsToQueryString((s==null?void 0:s.transform)||{});g!==""&&c.push(g);let b=c.join("&");return b!==""&&(b=`?${b}`),{data:{publicUrl:encodeURI(`${this.url}/${h}/public/${o}${b}`)}}}async remove(a){var s=this;try{return{data:await remove(s.fetch,`${s.url}/object/${s.bucketId}`,{prefixes:a},{headers:s.headers}),error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(isStorageError(o))return{data:null,error:o};throw o}}async list(a,s,o){var c=this;try{const d=_objectSpread2$1(_objectSpread2$1(_objectSpread2$1({},DEFAULT_SEARCH_OPTIONS),s),{},{prefix:a||""});return{data:await post$1(c.fetch,`${c.url}/object/list/${c.bucketId}`,d,{headers:c.headers},o),error:null}}catch(d){if(c.shouldThrowOnError)throw d;if(isStorageError(d))return{data:null,error:d};throw d}}async listV2(a,s){var o=this;try{const c=_objectSpread2$1({},a);return{data:await post$1(o.fetch,`${o.url}/object/list-v2/${o.bucketId}`,c,{headers:o.headers},s),error:null}}catch(c){if(o.shouldThrowOnError)throw c;if(isStorageError(c))return{data:null,error:c};throw c}}encodeMetadata(a){return JSON.stringify(a)}toBase64(a){return typeof Buffer<"u"?Buffer.from(a).toString("base64"):btoa(a)}_getFinalPath(a){return`${this.bucketId}/${a.replace(/^\/+/,"")}`}_removeEmptyFolders(a){return a.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(a){const s=[];return a.width&&s.push(`width=${a.width}`),a.height&&s.push(`height=${a.height}`),a.resize&&s.push(`resize=${a.resize}`),a.format&&s.push(`format=${a.format}`),a.quality&&s.push(`quality=${a.quality}`),s.join("&")}};const version$2="2.89.0",DEFAULT_HEADERS$1$1={"X-Client-Info":`storage-js/${version$2}`};var StorageBucketApi=class{constructor(a,s={},o,c){this.shouldThrowOnError=!1;const d=new URL(a);c!=null&&c.useNewHostname&&/supabase\.(co|in|red)$/.test(d.hostname)&&!d.hostname.includes("storage.supabase.")&&(d.hostname=d.hostname.replace("supabase.","storage.supabase.")),this.url=d.href.replace(/\/$/,""),this.headers=_objectSpread2$1(_objectSpread2$1({},DEFAULT_HEADERS$1$1),s),this.fetch=resolveFetch$1$1(o)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(a){var s=this;try{const o=s.listBucketOptionsToQueryString(a);return{data:await get(s.fetch,`${s.url}/bucket${o}`,{headers:s.headers}),error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(isStorageError(o))return{data:null,error:o};throw o}}async getBucket(a){var s=this;try{return{data:await get(s.fetch,`${s.url}/bucket/${a}`,{headers:s.headers}),error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(isStorageError(o))return{data:null,error:o};throw o}}async createBucket(a,s={public:!1}){var o=this;try{return{data:await post$1(o.fetch,`${o.url}/bucket`,{id:a,name:a,type:s.type,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:o.headers}),error:null}}catch(c){if(o.shouldThrowOnError)throw c;if(isStorageError(c))return{data:null,error:c};throw c}}async updateBucket(a,s){var o=this;try{return{data:await put(o.fetch,`${o.url}/bucket/${a}`,{id:a,name:a,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:o.headers}),error:null}}catch(c){if(o.shouldThrowOnError)throw c;if(isStorageError(c))return{data:null,error:c};throw c}}async emptyBucket(a){var s=this;try{return{data:await post$1(s.fetch,`${s.url}/bucket/${a}/empty`,{},{headers:s.headers}),error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(isStorageError(o))return{data:null,error:o};throw o}}async deleteBucket(a){var s=this;try{return{data:await remove(s.fetch,`${s.url}/bucket/${a}`,{},{headers:s.headers}),error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(isStorageError(o))return{data:null,error:o};throw o}}listBucketOptionsToQueryString(a){const s={};return a&&("limit"in a&&(s.limit=String(a.limit)),"offset"in a&&(s.offset=String(a.offset)),a.search&&(s.search=a.search),a.sortColumn&&(s.sortColumn=a.sortColumn),a.sortOrder&&(s.sortOrder=a.sortOrder)),Object.keys(s).length>0?"?"+new URLSearchParams(s).toString():""}},StorageAnalyticsClient=class{constructor(a,s={},o){this.shouldThrowOnError=!1,this.url=a.replace(/\/$/,""),this.headers=_objectSpread2$1(_objectSpread2$1({},DEFAULT_HEADERS$1$1),s),this.fetch=resolveFetch$1$1(o)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(a){var s=this;try{return{data:await post$1(s.fetch,`${s.url}/bucket`,{name:a},{headers:s.headers}),error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(isStorageError(o))return{data:null,error:o};throw o}}async listBuckets(a){var s=this;try{const o=new URLSearchParams;(a==null?void 0:a.limit)!==void 0&&o.set("limit",a.limit.toString()),(a==null?void 0:a.offset)!==void 0&&o.set("offset",a.offset.toString()),a!=null&&a.sortColumn&&o.set("sortColumn",a.sortColumn),a!=null&&a.sortOrder&&o.set("sortOrder",a.sortOrder),a!=null&&a.search&&o.set("search",a.search);const c=o.toString(),d=c?`${s.url}/bucket?${c}`:`${s.url}/bucket`;return{data:await get(s.fetch,d,{headers:s.headers}),error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(isStorageError(o))return{data:null,error:o};throw o}}async deleteBucket(a){var s=this;try{return{data:await remove(s.fetch,`${s.url}/bucket/${a}`,{},{headers:s.headers}),error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(isStorageError(o))return{data:null,error:o};throw o}}from(a){var s=this;if(!isValidBucketName(a))throw new StorageError("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const o=new IcebergRestCatalog({baseUrl:this.url,catalogName:a,auth:{type:"custom",getHeaders:async()=>s.headers},fetch:this.fetch}),c=this.shouldThrowOnError;return new Proxy(o,{get(d,h){const g=d[h];return typeof g!="function"?g:async(...b)=>{try{return{data:await g.apply(d,b),error:null}}catch(_){if(c)throw _;return{data:null,error:_}}}}})}};const DEFAULT_HEADERS$2={"X-Client-Info":`storage-js/${version$2}`,"Content-Type":"application/json"};var StorageVectorsError=class extends Error{constructor(a){super(a),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function isStorageVectorsError(a){return typeof a=="object"&&a!==null&&"__isStorageVectorsError"in a}var StorageVectorsApiError=class extends StorageVectorsError{constructor(a,s,o){super(a),this.name="StorageVectorsApiError",this.status=s,this.statusCode=o}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},StorageVectorsUnknownError=class extends StorageVectorsError{constructor(a,s){super(a),this.name="StorageVectorsUnknownError",this.originalError=s}};const resolveFetch$2=a=>a?(...s)=>a(...s):(...s)=>fetch(...s),isPlainObject=a=>{if(typeof a!="object"||a===null)return!1;const s=Object.getPrototypeOf(a);return(s===null||s===Object.prototype||Object.getPrototypeOf(s)===null)&&!(Symbol.toStringTag in a)&&!(Symbol.iterator in a)},_getErrorMessage$2=a=>a.msg||a.message||a.error_description||a.error||JSON.stringify(a),handleError$2=async(a,s,o)=>{if(a&&typeof a=="object"&&"status"in a&&"ok"in a&&typeof a.status=="number"&&!(o!=null&&o.noResolveJson)){const c=a.status||500,d=a;if(typeof d.json=="function")d.json().then(h=>{const g=(h==null?void 0:h.statusCode)||(h==null?void 0:h.code)||c+"";s(new StorageVectorsApiError(_getErrorMessage$2(h),c,g))}).catch(()=>{const h=c+"";s(new StorageVectorsApiError(d.statusText||`HTTP ${c} error`,c,h))});else{const h=c+"";s(new StorageVectorsApiError(d.statusText||`HTTP ${c} error`,c,h))}}else s(new StorageVectorsUnknownError(_getErrorMessage$2(a),a))},_getRequestParams$2=(a,s,o,c)=>{const d={method:a,headers:(s==null?void 0:s.headers)||{}};return c?(isPlainObject(c)?(d.headers=_objectSpread2$1({"Content-Type":"application/json"},s==null?void 0:s.headers),d.body=JSON.stringify(c)):d.body=c,_objectSpread2$1(_objectSpread2$1({},d),o)):d};async function _handleRequest$2(a,s,o,c,d,h){return new Promise((g,b)=>{a(o,_getRequestParams$2(s,c,d,h)).then(_=>{if(!_.ok)throw _;if(c!=null&&c.noResolveJson)return _;const $=_.headers.get("content-type");return!$||!$.includes("application/json")?{}:_.json()}).then(_=>g(_)).catch(_=>handleError$2(_,b,c))})}async function post(a,s,o,c,d){return _handleRequest$2(a,"POST",s,c,d,o)}var VectorIndexApi=class{constructor(a,s={},o){this.shouldThrowOnError=!1,this.url=a.replace(/\/$/,""),this.headers=_objectSpread2$1(_objectSpread2$1({},DEFAULT_HEADERS$2),s),this.fetch=resolveFetch$2(o)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(a){var s=this;try{return{data:await post(s.fetch,`${s.url}/CreateIndex`,a,{headers:s.headers})||{},error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(isStorageVectorsError(o))return{data:null,error:o};throw o}}async getIndex(a,s){var o=this;try{return{data:await post(o.fetch,`${o.url}/GetIndex`,{vectorBucketName:a,indexName:s},{headers:o.headers}),error:null}}catch(c){if(o.shouldThrowOnError)throw c;if(isStorageVectorsError(c))return{data:null,error:c};throw c}}async listIndexes(a){var s=this;try{return{data:await post(s.fetch,`${s.url}/ListIndexes`,a,{headers:s.headers}),error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(isStorageVectorsError(o))return{data:null,error:o};throw o}}async deleteIndex(a,s){var o=this;try{return{data:await post(o.fetch,`${o.url}/DeleteIndex`,{vectorBucketName:a,indexName:s},{headers:o.headers})||{},error:null}}catch(c){if(o.shouldThrowOnError)throw c;if(isStorageVectorsError(c))return{data:null,error:c};throw c}}},VectorDataApi=class{constructor(a,s={},o){this.shouldThrowOnError=!1,this.url=a.replace(/\/$/,""),this.headers=_objectSpread2$1(_objectSpread2$1({},DEFAULT_HEADERS$2),s),this.fetch=resolveFetch$2(o)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(a){var s=this;try{if(a.vectors.length<1||a.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await post(s.fetch,`${s.url}/PutVectors`,a,{headers:s.headers})||{},error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(isStorageVectorsError(o))return{data:null,error:o};throw o}}async getVectors(a){var s=this;try{return{data:await post(s.fetch,`${s.url}/GetVectors`,a,{headers:s.headers}),error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(isStorageVectorsError(o))return{data:null,error:o};throw o}}async listVectors(a){var s=this;try{if(a.segmentCount!==void 0){if(a.segmentCount<1||a.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(a.segmentIndex!==void 0&&(a.segmentIndex<0||a.segmentIndex>=a.segmentCount))throw new Error(`segmentIndex must be between 0 and ${a.segmentCount-1}`)}return{data:await post(s.fetch,`${s.url}/ListVectors`,a,{headers:s.headers}),error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(isStorageVectorsError(o))return{data:null,error:o};throw o}}async queryVectors(a){var s=this;try{return{data:await post(s.fetch,`${s.url}/QueryVectors`,a,{headers:s.headers}),error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(isStorageVectorsError(o))return{data:null,error:o};throw o}}async deleteVectors(a){var s=this;try{if(a.keys.length<1||a.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await post(s.fetch,`${s.url}/DeleteVectors`,a,{headers:s.headers})||{},error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(isStorageVectorsError(o))return{data:null,error:o};throw o}}},VectorBucketApi=class{constructor(a,s={},o){this.shouldThrowOnError=!1,this.url=a.replace(/\/$/,""),this.headers=_objectSpread2$1(_objectSpread2$1({},DEFAULT_HEADERS$2),s),this.fetch=resolveFetch$2(o)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(a){var s=this;try{return{data:await post(s.fetch,`${s.url}/CreateVectorBucket`,{vectorBucketName:a},{headers:s.headers})||{},error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(isStorageVectorsError(o))return{data:null,error:o};throw o}}async getBucket(a){var s=this;try{return{data:await post(s.fetch,`${s.url}/GetVectorBucket`,{vectorBucketName:a},{headers:s.headers}),error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(isStorageVectorsError(o))return{data:null,error:o};throw o}}async listBuckets(a={}){var s=this;try{return{data:await post(s.fetch,`${s.url}/ListVectorBuckets`,a,{headers:s.headers}),error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(isStorageVectorsError(o))return{data:null,error:o};throw o}}async deleteBucket(a){var s=this;try{return{data:await post(s.fetch,`${s.url}/DeleteVectorBucket`,{vectorBucketName:a},{headers:s.headers})||{},error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(isStorageVectorsError(o))return{data:null,error:o};throw o}}},StorageVectorsClient=class extends VectorBucketApi{constructor(a,s={}){super(a,s.headers||{},s.fetch)}from(a){return new VectorBucketScope(this.url,this.headers,a,this.fetch)}async createBucket(a){var s=()=>super.createBucket,o=this;return s().call(o,a)}async getBucket(a){var s=()=>super.getBucket,o=this;return s().call(o,a)}async listBuckets(a={}){var s=()=>super.listBuckets,o=this;return s().call(o,a)}async deleteBucket(a){var s=()=>super.deleteBucket,o=this;return s().call(o,a)}},VectorBucketScope=class extends VectorIndexApi{constructor(a,s,o,c){super(a,s,c),this.vectorBucketName=o}async createIndex(a){var s=()=>super.createIndex,o=this;return s().call(o,_objectSpread2$1(_objectSpread2$1({},a),{},{vectorBucketName:o.vectorBucketName}))}async listIndexes(a={}){var s=()=>super.listIndexes,o=this;return s().call(o,_objectSpread2$1(_objectSpread2$1({},a),{},{vectorBucketName:o.vectorBucketName}))}async getIndex(a){var s=()=>super.getIndex,o=this;return s().call(o,o.vectorBucketName,a)}async deleteIndex(a){var s=()=>super.deleteIndex,o=this;return s().call(o,o.vectorBucketName,a)}index(a){return new VectorIndexScope(this.url,this.headers,this.vectorBucketName,a,this.fetch)}},VectorIndexScope=class extends VectorDataApi{constructor(a,s,o,c,d){super(a,s,d),this.vectorBucketName=o,this.indexName=c}async putVectors(a){var s=()=>super.putVectors,o=this;return s().call(o,_objectSpread2$1(_objectSpread2$1({},a),{},{vectorBucketName:o.vectorBucketName,indexName:o.indexName}))}async getVectors(a){var s=()=>super.getVectors,o=this;return s().call(o,_objectSpread2$1(_objectSpread2$1({},a),{},{vectorBucketName:o.vectorBucketName,indexName:o.indexName}))}async listVectors(a={}){var s=()=>super.listVectors,o=this;return s().call(o,_objectSpread2$1(_objectSpread2$1({},a),{},{vectorBucketName:o.vectorBucketName,indexName:o.indexName}))}async queryVectors(a){var s=()=>super.queryVectors,o=this;return s().call(o,_objectSpread2$1(_objectSpread2$1({},a),{},{vectorBucketName:o.vectorBucketName,indexName:o.indexName}))}async deleteVectors(a){var s=()=>super.deleteVectors,o=this;return s().call(o,_objectSpread2$1(_objectSpread2$1({},a),{},{vectorBucketName:o.vectorBucketName,indexName:o.indexName}))}},StorageClient=class extends StorageBucketApi{constructor(a,s={},o,c){super(a,s,o,c)}from(a){return new StorageFileApi(this.url,this.headers,a,this.fetch)}get vectors(){return new StorageVectorsClient(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new StorageAnalyticsClient(this.url+"/iceberg",this.headers,this.fetch)}};const version$1="2.89.0",AUTO_REFRESH_TICK_DURATION_MS=30*1e3,AUTO_REFRESH_TICK_THRESHOLD=3,EXPIRY_MARGIN_MS=AUTO_REFRESH_TICK_THRESHOLD*AUTO_REFRESH_TICK_DURATION_MS,GOTRUE_URL="http://localhost:9999",STORAGE_KEY="supabase.auth.token",DEFAULT_HEADERS$1={"X-Client-Info":`gotrue-js/${version$1}`},API_VERSION_HEADER_NAME="X-Supabase-Api-Version",API_VERSIONS={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},BASE64URL_REGEX=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,JWKS_TTL=10*60*1e3;class AuthError extends Error{constructor(s,o,c){super(s),this.__isAuthError=!0,this.name="AuthError",this.status=o,this.code=c}}function isAuthError(a){return typeof a=="object"&&a!==null&&"__isAuthError"in a}class AuthApiError extends AuthError{constructor(s,o,c){super(s,o,c),this.name="AuthApiError",this.status=o,this.code=c}}function isAuthApiError(a){return isAuthError(a)&&a.name==="AuthApiError"}class AuthUnknownError extends AuthError{constructor(s,o){super(s),this.name="AuthUnknownError",this.originalError=o}}class CustomAuthError extends AuthError{constructor(s,o,c,d){super(s,c,d),this.name=o,this.status=c}}class AuthSessionMissingError extends CustomAuthError{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function isAuthSessionMissingError(a){return isAuthError(a)&&a.name==="AuthSessionMissingError"}class AuthInvalidTokenResponseError extends CustomAuthError{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class AuthInvalidCredentialsError extends CustomAuthError{constructor(s){super(s,"AuthInvalidCredentialsError",400,void 0)}}class AuthImplicitGrantRedirectError extends CustomAuthError{constructor(s,o=null){super(s,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=o}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function isAuthImplicitGrantRedirectError(a){return isAuthError(a)&&a.name==="AuthImplicitGrantRedirectError"}class AuthPKCEGrantCodeExchangeError extends CustomAuthError{constructor(s,o=null){super(s,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=o}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class AuthPKCECodeVerifierMissingError extends CustomAuthError{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class AuthRetryableFetchError extends CustomAuthError{constructor(s,o){super(s,"AuthRetryableFetchError",o,void 0)}}function isAuthRetryableFetchError(a){return isAuthError(a)&&a.name==="AuthRetryableFetchError"}class AuthWeakPasswordError extends CustomAuthError{constructor(s,o,c){super(s,"AuthWeakPasswordError",o,"weak_password"),this.reasons=c}}class AuthInvalidJwtError extends CustomAuthError{constructor(s){super(s,"AuthInvalidJwtError",400,"invalid_jwt")}}const TO_BASE64URL="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),IGNORE_BASE64URL=` 	
\r=`.split(""),FROM_BASE64URL=(()=>{const a=new Array(128);for(let s=0;s<a.length;s+=1)a[s]=-1;for(let s=0;s<IGNORE_BASE64URL.length;s+=1)a[IGNORE_BASE64URL[s].charCodeAt(0)]=-2;for(let s=0;s<TO_BASE64URL.length;s+=1)a[TO_BASE64URL[s].charCodeAt(0)]=s;return a})();function byteToBase64URL(a,s,o){if(a!==null)for(s.queue=s.queue<<8|a,s.queuedBits+=8;s.queuedBits>=6;){const c=s.queue>>s.queuedBits-6&63;o(TO_BASE64URL[c]),s.queuedBits-=6}else if(s.queuedBits>0)for(s.queue=s.queue<<6-s.queuedBits,s.queuedBits=6;s.queuedBits>=6;){const c=s.queue>>s.queuedBits-6&63;o(TO_BASE64URL[c]),s.queuedBits-=6}}function byteFromBase64URL(a,s,o){const c=FROM_BASE64URL[a];if(c>-1)for(s.queue=s.queue<<6|c,s.queuedBits+=6;s.queuedBits>=8;)o(s.queue>>s.queuedBits-8&255),s.queuedBits-=8;else{if(c===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(a)}"`)}}function stringFromBase64URL(a){const s=[],o=g=>{s.push(String.fromCodePoint(g))},c={utf8seq:0,codepoint:0},d={queue:0,queuedBits:0},h=g=>{stringFromUTF8(g,c,o)};for(let g=0;g<a.length;g+=1)byteFromBase64URL(a.charCodeAt(g),d,h);return s.join("")}function codepointToUTF8(a,s){if(a<=127){s(a);return}else if(a<=2047){s(192|a>>6),s(128|a&63);return}else if(a<=65535){s(224|a>>12),s(128|a>>6&63),s(128|a&63);return}else if(a<=1114111){s(240|a>>18),s(128|a>>12&63),s(128|a>>6&63),s(128|a&63);return}throw new Error(`Unrecognized Unicode codepoint: ${a.toString(16)}`)}function stringToUTF8(a,s){for(let o=0;o<a.length;o+=1){let c=a.charCodeAt(o);if(c>55295&&c<=56319){const d=(c-55296)*1024&65535;c=(a.charCodeAt(o+1)-56320&65535|d)+65536,o+=1}codepointToUTF8(c,s)}}function stringFromUTF8(a,s,o){if(s.utf8seq===0){if(a<=127){o(a);return}for(let c=1;c<6;c+=1)if(!(a>>7-c&1)){s.utf8seq=c;break}if(s.utf8seq===2)s.codepoint=a&31;else if(s.utf8seq===3)s.codepoint=a&15;else if(s.utf8seq===4)s.codepoint=a&7;else throw new Error("Invalid UTF-8 sequence");s.utf8seq-=1}else if(s.utf8seq>0){if(a<=127)throw new Error("Invalid UTF-8 sequence");s.codepoint=s.codepoint<<6|a&63,s.utf8seq-=1,s.utf8seq===0&&o(s.codepoint)}}function base64UrlToUint8Array(a){const s=[],o={queue:0,queuedBits:0},c=d=>{s.push(d)};for(let d=0;d<a.length;d+=1)byteFromBase64URL(a.charCodeAt(d),o,c);return new Uint8Array(s)}function stringToUint8Array(a){const s=[];return stringToUTF8(a,o=>s.push(o)),new Uint8Array(s)}function bytesToBase64URL(a){const s=[],o={queue:0,queuedBits:0},c=d=>{s.push(d)};return a.forEach(d=>byteToBase64URL(d,o,c)),byteToBase64URL(null,o,c),s.join("")}function expiresAt(a){return Math.round(Date.now()/1e3)+a}function generateCallbackId(){return Symbol("auth-callback")}const isBrowser=()=>typeof window<"u"&&typeof document<"u",localStorageWriteTests={tested:!1,writable:!1},supportsLocalStorage=()=>{if(!isBrowser())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(localStorageWriteTests.tested)return localStorageWriteTests.writable;const a=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(a,a),globalThis.localStorage.removeItem(a),localStorageWriteTests.tested=!0,localStorageWriteTests.writable=!0}catch{localStorageWriteTests.tested=!0,localStorageWriteTests.writable=!1}return localStorageWriteTests.writable};function parseParametersFromURL(a){const s={},o=new URL(a);if(o.hash&&o.hash[0]==="#")try{new URLSearchParams(o.hash.substring(1)).forEach((d,h)=>{s[h]=d})}catch{}return o.searchParams.forEach((c,d)=>{s[d]=c}),s}const resolveFetch$1=a=>a?(...s)=>a(...s):(...s)=>fetch(...s),looksLikeFetchResponse=a=>typeof a=="object"&&a!==null&&"status"in a&&"ok"in a&&"json"in a&&typeof a.json=="function",setItemAsync=async(a,s,o)=>{await a.setItem(s,JSON.stringify(o))},getItemAsync=async(a,s)=>{const o=await a.getItem(s);if(!o)return null;try{return JSON.parse(o)}catch{return o}},removeItemAsync=async(a,s)=>{await a.removeItem(s)};class Deferred{constructor(){this.promise=new Deferred.promiseConstructor((s,o)=>{this.resolve=s,this.reject=o})}}Deferred.promiseConstructor=Promise;function decodeJWT(a){const s=a.split(".");if(s.length!==3)throw new AuthInvalidJwtError("Invalid JWT structure");for(let c=0;c<s.length;c++)if(!BASE64URL_REGEX.test(s[c]))throw new AuthInvalidJwtError("JWT not in base64url format");return{header:JSON.parse(stringFromBase64URL(s[0])),payload:JSON.parse(stringFromBase64URL(s[1])),signature:base64UrlToUint8Array(s[2]),raw:{header:s[0],payload:s[1]}}}async function sleep(a){return await new Promise(s=>{setTimeout(()=>s(null),a)})}function retryable(a,s){return new Promise((c,d)=>{(async()=>{for(let h=0;h<1/0;h++)try{const g=await a(h);if(!s(h,null,g)){c(g);return}}catch(g){if(!s(h,g)){d(g);return}}})()})}function dec2hex(a){return("0"+a.toString(16)).substr(-2)}function generatePKCEVerifier(){const s=new Uint32Array(56);if(typeof crypto>"u"){const o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",c=o.length;let d="";for(let h=0;h<56;h++)d+=o.charAt(Math.floor(Math.random()*c));return d}return crypto.getRandomValues(s),Array.from(s,dec2hex).join("")}async function sha256(a){const o=new TextEncoder().encode(a),c=await crypto.subtle.digest("SHA-256",o),d=new Uint8Array(c);return Array.from(d).map(h=>String.fromCharCode(h)).join("")}async function generatePKCEChallenge(a){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),a;const o=await sha256(a);return btoa(o).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function getCodeChallengeAndMethod(a,s,o=!1){const c=generatePKCEVerifier();let d=c;o&&(d+="/PASSWORD_RECOVERY"),await setItemAsync(a,`${s}-code-verifier`,d);const h=await generatePKCEChallenge(c);return[h,c===h?"plain":"s256"]}const API_VERSION_REGEX=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function parseResponseAPIVersion(a){const s=a.headers.get(API_VERSION_HEADER_NAME);if(!s||!s.match(API_VERSION_REGEX))return null;try{return new Date(`${s}T00:00:00.0Z`)}catch{return null}}function validateExp(a){if(!a)throw new Error("Missing exp claim");const s=Math.floor(Date.now()/1e3);if(a<=s)throw new Error("JWT has expired")}function getAlgorithm(a){switch(a){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const UUID_REGEX=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function validateUUID(a){if(!UUID_REGEX.test(a))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function userNotAvailableProxy(){const a={};return new Proxy(a,{get:(s,o)=>{if(o==="__isUserNotAvailableProxy")return!0;if(typeof o=="symbol"){const c=o.toString();if(c==="Symbol(Symbol.toPrimitive)"||c==="Symbol(Symbol.toStringTag)"||c==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${o}" property of the session object is not supported. Please use getUser() instead.`)},set:(s,o)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${o}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(s,o)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${o}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function insecureUserWarningProxy(a,s){return new Proxy(a,{get:(o,c,d)=>{if(c==="__isInsecureUserWarningProxy")return!0;if(typeof c=="symbol"){const h=c.toString();if(h==="Symbol(Symbol.toPrimitive)"||h==="Symbol(Symbol.toStringTag)"||h==="Symbol(util.inspect.custom)"||h==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(o,c,d)}return!s.value&&typeof c=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),s.value=!0),Reflect.get(o,c,d)}})}function deepClone(a){return JSON.parse(JSON.stringify(a))}const _getErrorMessage=a=>a.msg||a.message||a.error_description||a.error||JSON.stringify(a),NETWORK_ERROR_CODES=[502,503,504];async function handleError(a){var s;if(!looksLikeFetchResponse(a))throw new AuthRetryableFetchError(_getErrorMessage(a),0);if(NETWORK_ERROR_CODES.includes(a.status))throw new AuthRetryableFetchError(_getErrorMessage(a),a.status);let o;try{o=await a.json()}catch(h){throw new AuthUnknownError(_getErrorMessage(h),h)}let c;const d=parseResponseAPIVersion(a);if(d&&d.getTime()>=API_VERSIONS["2024-01-01"].timestamp&&typeof o=="object"&&o&&typeof o.code=="string"?c=o.code:typeof o=="object"&&o&&typeof o.error_code=="string"&&(c=o.error_code),c){if(c==="weak_password")throw new AuthWeakPasswordError(_getErrorMessage(o),a.status,((s=o.weak_password)===null||s===void 0?void 0:s.reasons)||[]);if(c==="session_not_found")throw new AuthSessionMissingError}else if(typeof o=="object"&&o&&typeof o.weak_password=="object"&&o.weak_password&&Array.isArray(o.weak_password.reasons)&&o.weak_password.reasons.length&&o.weak_password.reasons.reduce((h,g)=>h&&typeof g=="string",!0))throw new AuthWeakPasswordError(_getErrorMessage(o),a.status,o.weak_password.reasons);throw new AuthApiError(_getErrorMessage(o),a.status||500,c)}const _getRequestParams=(a,s,o,c)=>{const d={method:a,headers:(s==null?void 0:s.headers)||{}};return a==="GET"?d:(d.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},s==null?void 0:s.headers),d.body=JSON.stringify(c),Object.assign(Object.assign({},d),o))};async function _request(a,s,o,c){var d;const h=Object.assign({},c==null?void 0:c.headers);h[API_VERSION_HEADER_NAME]||(h[API_VERSION_HEADER_NAME]=API_VERSIONS["2024-01-01"].name),c!=null&&c.jwt&&(h.Authorization=`Bearer ${c.jwt}`);const g=(d=c==null?void 0:c.query)!==null&&d!==void 0?d:{};c!=null&&c.redirectTo&&(g.redirect_to=c.redirectTo);const b=Object.keys(g).length?"?"+new URLSearchParams(g).toString():"",_=await _handleRequest(a,s,o+b,{headers:h,noResolveJson:c==null?void 0:c.noResolveJson},{},c==null?void 0:c.body);return c!=null&&c.xform?c==null?void 0:c.xform(_):{data:Object.assign({},_),error:null}}async function _handleRequest(a,s,o,c,d,h){const g=_getRequestParams(s,c,d,h);let b;try{b=await a(o,Object.assign({},g))}catch(_){throw console.error(_),new AuthRetryableFetchError(_getErrorMessage(_),0)}if(b.ok||await handleError(b),c!=null&&c.noResolveJson)return b;try{return await b.json()}catch(_){await handleError(_)}}function _sessionResponse(a){var s;let o=null;hasSession(a)&&(o=Object.assign({},a),a.expires_at||(o.expires_at=expiresAt(a.expires_in)));const c=(s=a.user)!==null&&s!==void 0?s:a;return{data:{session:o,user:c},error:null}}function _sessionResponsePassword(a){const s=_sessionResponse(a);return!s.error&&a.weak_password&&typeof a.weak_password=="object"&&Array.isArray(a.weak_password.reasons)&&a.weak_password.reasons.length&&a.weak_password.message&&typeof a.weak_password.message=="string"&&a.weak_password.reasons.reduce((o,c)=>o&&typeof c=="string",!0)&&(s.data.weak_password=a.weak_password),s}function _userResponse(a){var s;return{data:{user:(s=a.user)!==null&&s!==void 0?s:a},error:null}}function _ssoResponse(a){return{data:a,error:null}}function _generateLinkResponse(a){const{action_link:s,email_otp:o,hashed_token:c,redirect_to:d,verification_type:h}=a,g=__rest(a,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),b={action_link:s,email_otp:o,hashed_token:c,redirect_to:d,verification_type:h},_=Object.assign({},g);return{data:{properties:b,user:_},error:null}}function _noResolveJsonResponse(a){return a}function hasSession(a){return a.access_token&&a.refresh_token&&a.expires_in}const SIGN_OUT_SCOPES=["global","local","others"];class GoTrueAdminApi{constructor({url:s="",headers:o={},fetch:c}){this.url=s,this.headers=o,this.fetch=resolveFetch$1(c),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(s,o=SIGN_OUT_SCOPES[0]){if(SIGN_OUT_SCOPES.indexOf(o)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${SIGN_OUT_SCOPES.join(", ")}`);try{return await _request(this.fetch,"POST",`${this.url}/logout?scope=${o}`,{headers:this.headers,jwt:s,noResolveJson:!0}),{data:null,error:null}}catch(c){if(isAuthError(c))return{data:null,error:c};throw c}}async inviteUserByEmail(s,o={}){try{return await _request(this.fetch,"POST",`${this.url}/invite`,{body:{email:s,data:o.data},headers:this.headers,redirectTo:o.redirectTo,xform:_userResponse})}catch(c){if(isAuthError(c))return{data:{user:null},error:c};throw c}}async generateLink(s){try{const{options:o}=s,c=__rest(s,["options"]),d=Object.assign(Object.assign({},c),o);return"newEmail"in c&&(d.new_email=c==null?void 0:c.newEmail,delete d.newEmail),await _request(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:d,headers:this.headers,xform:_generateLinkResponse,redirectTo:o==null?void 0:o.redirectTo})}catch(o){if(isAuthError(o))return{data:{properties:null,user:null},error:o};throw o}}async createUser(s){try{return await _request(this.fetch,"POST",`${this.url}/admin/users`,{body:s,headers:this.headers,xform:_userResponse})}catch(o){if(isAuthError(o))return{data:{user:null},error:o};throw o}}async listUsers(s){var o,c,d,h,g,b,_;try{const $={nextPage:null,lastPage:0,total:0},_e=await _request(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(c=(o=s==null?void 0:s.page)===null||o===void 0?void 0:o.toString())!==null&&c!==void 0?c:"",per_page:(h=(d=s==null?void 0:s.perPage)===null||d===void 0?void 0:d.toString())!==null&&h!==void 0?h:""},xform:_noResolveJsonResponse});if(_e.error)throw _e.error;const tt=await _e.json(),et=(g=_e.headers.get("x-total-count"))!==null&&g!==void 0?g:0,nt=(_=(b=_e.headers.get("link"))===null||b===void 0?void 0:b.split(","))!==null&&_!==void 0?_:[];return nt.length>0&&(nt.forEach(ot=>{const st=parseInt(ot.split(";")[0].split("=")[1].substring(0,1)),pt=JSON.parse(ot.split(";")[1].split("=")[1]);$[`${pt}Page`]=st}),$.total=parseInt(et)),{data:Object.assign(Object.assign({},tt),$),error:null}}catch($){if(isAuthError($))return{data:{users:[]},error:$};throw $}}async getUserById(s){validateUUID(s);try{return await _request(this.fetch,"GET",`${this.url}/admin/users/${s}`,{headers:this.headers,xform:_userResponse})}catch(o){if(isAuthError(o))return{data:{user:null},error:o};throw o}}async updateUserById(s,o){validateUUID(s);try{return await _request(this.fetch,"PUT",`${this.url}/admin/users/${s}`,{body:o,headers:this.headers,xform:_userResponse})}catch(c){if(isAuthError(c))return{data:{user:null},error:c};throw c}}async deleteUser(s,o=!1){validateUUID(s);try{return await _request(this.fetch,"DELETE",`${this.url}/admin/users/${s}`,{headers:this.headers,body:{should_soft_delete:o},xform:_userResponse})}catch(c){if(isAuthError(c))return{data:{user:null},error:c};throw c}}async _listFactors(s){validateUUID(s.userId);try{const{data:o,error:c}=await _request(this.fetch,"GET",`${this.url}/admin/users/${s.userId}/factors`,{headers:this.headers,xform:d=>({data:{factors:d},error:null})});return{data:o,error:c}}catch(o){if(isAuthError(o))return{data:null,error:o};throw o}}async _deleteFactor(s){validateUUID(s.userId),validateUUID(s.id);try{return{data:await _request(this.fetch,"DELETE",`${this.url}/admin/users/${s.userId}/factors/${s.id}`,{headers:this.headers}),error:null}}catch(o){if(isAuthError(o))return{data:null,error:o};throw o}}async _listOAuthClients(s){var o,c,d,h,g,b,_;try{const $={nextPage:null,lastPage:0,total:0},_e=await _request(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(c=(o=s==null?void 0:s.page)===null||o===void 0?void 0:o.toString())!==null&&c!==void 0?c:"",per_page:(h=(d=s==null?void 0:s.perPage)===null||d===void 0?void 0:d.toString())!==null&&h!==void 0?h:""},xform:_noResolveJsonResponse});if(_e.error)throw _e.error;const tt=await _e.json(),et=(g=_e.headers.get("x-total-count"))!==null&&g!==void 0?g:0,nt=(_=(b=_e.headers.get("link"))===null||b===void 0?void 0:b.split(","))!==null&&_!==void 0?_:[];return nt.length>0&&(nt.forEach(ot=>{const st=parseInt(ot.split(";")[0].split("=")[1].substring(0,1)),pt=JSON.parse(ot.split(";")[1].split("=")[1]);$[`${pt}Page`]=st}),$.total=parseInt(et)),{data:Object.assign(Object.assign({},tt),$),error:null}}catch($){if(isAuthError($))return{data:{clients:[]},error:$};throw $}}async _createOAuthClient(s){try{return await _request(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:s,headers:this.headers,xform:o=>({data:o,error:null})})}catch(o){if(isAuthError(o))return{data:null,error:o};throw o}}async _getOAuthClient(s){try{return await _request(this.fetch,"GET",`${this.url}/admin/oauth/clients/${s}`,{headers:this.headers,xform:o=>({data:o,error:null})})}catch(o){if(isAuthError(o))return{data:null,error:o};throw o}}async _updateOAuthClient(s,o){try{return await _request(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${s}`,{body:o,headers:this.headers,xform:c=>({data:c,error:null})})}catch(c){if(isAuthError(c))return{data:null,error:c};throw c}}async _deleteOAuthClient(s){try{return await _request(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${s}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(o){if(isAuthError(o))return{data:null,error:o};throw o}}async _regenerateOAuthClientSecret(s){try{return await _request(this.fetch,"POST",`${this.url}/admin/oauth/clients/${s}/regenerate_secret`,{headers:this.headers,xform:o=>({data:o,error:null})})}catch(o){if(isAuthError(o))return{data:null,error:o};throw o}}}function memoryLocalStorageAdapter(a={}){return{getItem:s=>a[s]||null,setItem:(s,o)=>{a[s]=o},removeItem:s=>{delete a[s]}}}const internals={debug:!!(globalThis&&supportsLocalStorage()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class LockAcquireTimeoutError extends Error{constructor(s){super(s),this.isAcquireTimeout=!0}}class NavigatorLockAcquireTimeoutError extends LockAcquireTimeoutError{}async function navigatorLock(a,s,o){internals.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",a,s);const c=new globalThis.AbortController;return s>0&&setTimeout(()=>{c.abort(),internals.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",a)},s),await Promise.resolve().then(()=>globalThis.navigator.locks.request(a,s===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:c.signal},async d=>{if(d){internals.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",a,d.name);try{return await o()}finally{internals.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",a,d.name)}}else{if(s===0)throw internals.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",a),new NavigatorLockAcquireTimeoutError(`Acquiring an exclusive Navigator LockManager lock "${a}" immediately failed`);if(internals.debug)try{const h=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(h,null,"  "))}catch(h){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",h)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await o()}}))}function polyfillGlobalThis(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function getAddress(a){if(!/^0x[a-fA-F0-9]{40}$/.test(a))throw new Error(`@supabase/auth-js: Address "${a}" is invalid.`);return a.toLowerCase()}function fromHex(a){return parseInt(a,16)}function toHex(a){const s=new TextEncoder().encode(a);return"0x"+Array.from(s,c=>c.toString(16).padStart(2,"0")).join("")}function createSiweMessage(a){var s;const{chainId:o,domain:c,expirationTime:d,issuedAt:h=new Date,nonce:g,notBefore:b,requestId:_,resources:$,scheme:_e,uri:tt,version:et}=a;{if(!Number.isInteger(o))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${o}`);if(!c)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(g&&g.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${g}`);if(!tt)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(et!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${et}`);if(!((s=a.statement)===null||s===void 0)&&s.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${a.statement}`)}const nt=getAddress(a.address),ot=_e?`${_e}://${c}`:c,st=a.statement?`${a.statement}
`:"",pt=`${ot} wants you to sign in with your Ethereum account:
${nt}

${st}`;let at=`URI: ${tt}
Version: ${et}
Chain ID: ${o}${g?`
Nonce: ${g}`:""}
Issued At: ${h.toISOString()}`;if(d&&(at+=`
Expiration Time: ${d.toISOString()}`),b&&(at+=`
Not Before: ${b.toISOString()}`),_&&(at+=`
Request ID: ${_}`),$){let ht=`
Resources:`;for(const lt of $){if(!lt||typeof lt!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${lt}`);ht+=`
- ${lt}`}at+=ht}return`${pt}
${at}`}class WebAuthnError extends Error{constructor({message:s,code:o,cause:c,name:d}){var h;super(s,{cause:c}),this.__isWebAuthnError=!0,this.name=(h=d??(c instanceof Error?c.name:void 0))!==null&&h!==void 0?h:"Unknown Error",this.code=o}}class WebAuthnUnknownError extends WebAuthnError{constructor(s,o){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:o,message:s}),this.name="WebAuthnUnknownError",this.originalError=o}}function identifyRegistrationError({error:a,options:s}){var o,c,d;const{publicKey:h}=s;if(!h)throw Error("options was missing required publicKey property");if(a.name==="AbortError"){if(s.signal instanceof AbortSignal)return new WebAuthnError({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:a})}else if(a.name==="ConstraintError"){if(((o=h.authenticatorSelection)===null||o===void 0?void 0:o.requireResidentKey)===!0)return new WebAuthnError({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:a});if(s.mediation==="conditional"&&((c=h.authenticatorSelection)===null||c===void 0?void 0:c.userVerification)==="required")return new WebAuthnError({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:a});if(((d=h.authenticatorSelection)===null||d===void 0?void 0:d.userVerification)==="required")return new WebAuthnError({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:a})}else{if(a.name==="InvalidStateError")return new WebAuthnError({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:a});if(a.name==="NotAllowedError")return new WebAuthnError({message:a.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a});if(a.name==="NotSupportedError")return h.pubKeyCredParams.filter(b=>b.type==="public-key").length===0?new WebAuthnError({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:a}):new WebAuthnError({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:a});if(a.name==="SecurityError"){const g=window.location.hostname;if(isValidDomain(g)){if(h.rp.id!==g)return new WebAuthnError({message:`The RP ID "${h.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:a})}else return new WebAuthnError({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:a})}else if(a.name==="TypeError"){if(h.user.id.byteLength<1||h.user.id.byteLength>64)return new WebAuthnError({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:a})}else if(a.name==="UnknownError")return new WebAuthnError({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:a})}return new WebAuthnError({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a})}function identifyAuthenticationError({error:a,options:s}){const{publicKey:o}=s;if(!o)throw Error("options was missing required publicKey property");if(a.name==="AbortError"){if(s.signal instanceof AbortSignal)return new WebAuthnError({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:a})}else{if(a.name==="NotAllowedError")return new WebAuthnError({message:a.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a});if(a.name==="SecurityError"){const c=window.location.hostname;if(isValidDomain(c)){if(o.rpId!==c)return new WebAuthnError({message:`The RP ID "${o.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:a})}else return new WebAuthnError({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:a})}else if(a.name==="UnknownError")return new WebAuthnError({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:a})}return new WebAuthnError({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a})}class WebAuthnAbortService{createNewAbortSignal(){if(this.controller){const o=new Error("Cancelling existing WebAuthn API call for new one");o.name="AbortError",this.controller.abort(o)}const s=new AbortController;return this.controller=s,s.signal}cancelCeremony(){if(this.controller){const s=new Error("Manually cancelling existing WebAuthn API call");s.name="AbortError",this.controller.abort(s),this.controller=void 0}}}const webAuthnAbortService=new WebAuthnAbortService;function deserializeCredentialCreationOptions(a){if(!a)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(a);const{challenge:s,user:o,excludeCredentials:c}=a,d=__rest(a,["challenge","user","excludeCredentials"]),h=base64UrlToUint8Array(s).buffer,g=Object.assign(Object.assign({},o),{id:base64UrlToUint8Array(o.id).buffer}),b=Object.assign(Object.assign({},d),{challenge:h,user:g});if(c&&c.length>0){b.excludeCredentials=new Array(c.length);for(let _=0;_<c.length;_++){const $=c[_];b.excludeCredentials[_]=Object.assign(Object.assign({},$),{id:base64UrlToUint8Array($.id).buffer,type:$.type||"public-key",transports:$.transports})}}return b}function deserializeCredentialRequestOptions(a){if(!a)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(a);const{challenge:s,allowCredentials:o}=a,c=__rest(a,["challenge","allowCredentials"]),d=base64UrlToUint8Array(s).buffer,h=Object.assign(Object.assign({},c),{challenge:d});if(o&&o.length>0){h.allowCredentials=new Array(o.length);for(let g=0;g<o.length;g++){const b=o[g];h.allowCredentials[g]=Object.assign(Object.assign({},b),{id:base64UrlToUint8Array(b.id).buffer,type:b.type||"public-key",transports:b.transports})}}return h}function serializeCredentialCreationResponse(a){var s;if("toJSON"in a&&typeof a.toJSON=="function")return a.toJSON();const o=a;return{id:a.id,rawId:a.id,response:{attestationObject:bytesToBase64URL(new Uint8Array(a.response.attestationObject)),clientDataJSON:bytesToBase64URL(new Uint8Array(a.response.clientDataJSON))},type:"public-key",clientExtensionResults:a.getClientExtensionResults(),authenticatorAttachment:(s=o.authenticatorAttachment)!==null&&s!==void 0?s:void 0}}function serializeCredentialRequestResponse(a){var s;if("toJSON"in a&&typeof a.toJSON=="function")return a.toJSON();const o=a,c=a.getClientExtensionResults(),d=a.response;return{id:a.id,rawId:a.id,response:{authenticatorData:bytesToBase64URL(new Uint8Array(d.authenticatorData)),clientDataJSON:bytesToBase64URL(new Uint8Array(d.clientDataJSON)),signature:bytesToBase64URL(new Uint8Array(d.signature)),userHandle:d.userHandle?bytesToBase64URL(new Uint8Array(d.userHandle)):void 0},type:"public-key",clientExtensionResults:c,authenticatorAttachment:(s=o.authenticatorAttachment)!==null&&s!==void 0?s:void 0}}function isValidDomain(a){return a==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(a)}function browserSupportsWebAuthn(){var a,s;return!!(isBrowser()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((a=navigator==null?void 0:navigator.credentials)===null||a===void 0?void 0:a.create)=="function"&&typeof((s=navigator==null?void 0:navigator.credentials)===null||s===void 0?void 0:s.get)=="function")}async function createCredential(a){try{const s=await navigator.credentials.create(a);return s?s instanceof PublicKeyCredential?{data:s,error:null}:{data:null,error:new WebAuthnUnknownError("Browser returned unexpected credential type",s)}:{data:null,error:new WebAuthnUnknownError("Empty credential response",s)}}catch(s){return{data:null,error:identifyRegistrationError({error:s,options:a})}}}async function getCredential(a){try{const s=await navigator.credentials.get(a);return s?s instanceof PublicKeyCredential?{data:s,error:null}:{data:null,error:new WebAuthnUnknownError("Browser returned unexpected credential type",s)}:{data:null,error:new WebAuthnUnknownError("Empty credential response",s)}}catch(s){return{data:null,error:identifyAuthenticationError({error:s,options:a})}}}const DEFAULT_CREATION_OPTIONS={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},DEFAULT_REQUEST_OPTIONS={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function deepMerge(...a){const s=d=>d!==null&&typeof d=="object"&&!Array.isArray(d),o=d=>d instanceof ArrayBuffer||ArrayBuffer.isView(d),c={};for(const d of a)if(d)for(const h in d){const g=d[h];if(g!==void 0)if(Array.isArray(g))c[h]=g;else if(o(g))c[h]=g;else if(s(g)){const b=c[h];s(b)?c[h]=deepMerge(b,g):c[h]=deepMerge(g)}else c[h]=g}return c}function mergeCredentialCreationOptions(a,s){return deepMerge(DEFAULT_CREATION_OPTIONS,a,s||{})}function mergeCredentialRequestOptions(a,s){return deepMerge(DEFAULT_REQUEST_OPTIONS,a,s||{})}class WebAuthnApi{constructor(s){this.client=s,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(s){return this.client.mfa.enroll(Object.assign(Object.assign({},s),{factorType:"webauthn"}))}async _challenge({factorId:s,webauthn:o,friendlyName:c,signal:d},h){try{const{data:g,error:b}=await this.client.mfa.challenge({factorId:s,webauthn:o});if(!g)return{data:null,error:b};const _=d??webAuthnAbortService.createNewAbortSignal();if(g.webauthn.type==="create"){const{user:$}=g.webauthn.credential_options.publicKey;$.name||($.name=`${$.id}:${c}`),$.displayName||($.displayName=$.name)}switch(g.webauthn.type){case"create":{const $=mergeCredentialCreationOptions(g.webauthn.credential_options.publicKey,h==null?void 0:h.create),{data:_e,error:tt}=await createCredential({publicKey:$,signal:_});return _e?{data:{factorId:s,challengeId:g.id,webauthn:{type:g.webauthn.type,credential_response:_e}},error:null}:{data:null,error:tt}}case"request":{const $=mergeCredentialRequestOptions(g.webauthn.credential_options.publicKey,h==null?void 0:h.request),{data:_e,error:tt}=await getCredential(Object.assign(Object.assign({},g.webauthn.credential_options),{publicKey:$,signal:_}));return _e?{data:{factorId:s,challengeId:g.id,webauthn:{type:g.webauthn.type,credential_response:_e}},error:null}:{data:null,error:tt}}}}catch(g){return isAuthError(g)?{data:null,error:g}:{data:null,error:new AuthUnknownError("Unexpected error in challenge",g)}}}async _verify({challengeId:s,factorId:o,webauthn:c}){return this.client.mfa.verify({factorId:o,challengeId:s,webauthn:c})}async _authenticate({factorId:s,webauthn:{rpId:o=typeof window<"u"?window.location.hostname:void 0,rpOrigins:c=typeof window<"u"?[window.location.origin]:void 0,signal:d}={}},h){if(!o)return{data:null,error:new AuthError("rpId is required for WebAuthn authentication")};try{if(!browserSupportsWebAuthn())return{data:null,error:new AuthUnknownError("Browser does not support WebAuthn",null)};const{data:g,error:b}=await this.challenge({factorId:s,webauthn:{rpId:o,rpOrigins:c},signal:d},{request:h});if(!g)return{data:null,error:b};const{webauthn:_}=g;return this._verify({factorId:s,challengeId:g.challengeId,webauthn:{type:_.type,rpId:o,rpOrigins:c,credential_response:_.credential_response}})}catch(g){return isAuthError(g)?{data:null,error:g}:{data:null,error:new AuthUnknownError("Unexpected error in authenticate",g)}}}async _register({friendlyName:s,webauthn:{rpId:o=typeof window<"u"?window.location.hostname:void 0,rpOrigins:c=typeof window<"u"?[window.location.origin]:void 0,signal:d}={}},h){if(!o)return{data:null,error:new AuthError("rpId is required for WebAuthn registration")};try{if(!browserSupportsWebAuthn())return{data:null,error:new AuthUnknownError("Browser does not support WebAuthn",null)};const{data:g,error:b}=await this._enroll({friendlyName:s});if(!g)return await this.client.mfa.listFactors().then(_e=>{var tt;return(tt=_e.data)===null||tt===void 0?void 0:tt.all.find(et=>et.factor_type==="webauthn"&&et.friendly_name===s&&et.status!=="unverified")}).then(_e=>_e?this.client.mfa.unenroll({factorId:_e==null?void 0:_e.id}):void 0),{data:null,error:b};const{data:_,error:$}=await this._challenge({factorId:g.id,friendlyName:g.friendly_name,webauthn:{rpId:o,rpOrigins:c},signal:d},{create:h});return _?this._verify({factorId:g.id,challengeId:_.challengeId,webauthn:{rpId:o,rpOrigins:c,type:_.webauthn.type,credential_response:_.webauthn.credential_response}}):{data:null,error:$}}catch(g){return isAuthError(g)?{data:null,error:g}:{data:null,error:new AuthUnknownError("Unexpected error in register",g)}}}}polyfillGlobalThis();const DEFAULT_OPTIONS={url:GOTRUE_URL,storageKey:STORAGE_KEY,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:DEFAULT_HEADERS$1,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function lockNoOp(a,s,o){return await o()}const GLOBAL_JWKS={};class GoTrueClient{get jwks(){var s,o;return(o=(s=GLOBAL_JWKS[this.storageKey])===null||s===void 0?void 0:s.jwks)!==null&&o!==void 0?o:{keys:[]}}set jwks(s){GLOBAL_JWKS[this.storageKey]=Object.assign(Object.assign({},GLOBAL_JWKS[this.storageKey]),{jwks:s})}get jwks_cached_at(){var s,o;return(o=(s=GLOBAL_JWKS[this.storageKey])===null||s===void 0?void 0:s.cachedAt)!==null&&o!==void 0?o:Number.MIN_SAFE_INTEGER}set jwks_cached_at(s){GLOBAL_JWKS[this.storageKey]=Object.assign(Object.assign({},GLOBAL_JWKS[this.storageKey]),{cachedAt:s})}constructor(s){var o,c,d;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const h=Object.assign(Object.assign({},DEFAULT_OPTIONS),s);if(this.storageKey=h.storageKey,this.instanceID=(o=GoTrueClient.nextInstanceID[this.storageKey])!==null&&o!==void 0?o:0,GoTrueClient.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!h.debug,typeof h.debug=="function"&&(this.logger=h.debug),this.instanceID>0&&isBrowser()){const g=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(g),this.logDebugMessages&&console.trace(g)}if(this.persistSession=h.persistSession,this.autoRefreshToken=h.autoRefreshToken,this.admin=new GoTrueAdminApi({url:h.url,headers:h.headers,fetch:h.fetch}),this.url=h.url,this.headers=h.headers,this.fetch=resolveFetch$1(h.fetch),this.lock=h.lock||lockNoOp,this.detectSessionInUrl=h.detectSessionInUrl,this.flowType=h.flowType,this.hasCustomAuthorizationHeader=h.hasCustomAuthorizationHeader,this.throwOnError=h.throwOnError,h.lock?this.lock=h.lock:this.persistSession&&isBrowser()&&(!((c=globalThis==null?void 0:globalThis.navigator)===null||c===void 0)&&c.locks)?this.lock=navigatorLock:this.lock=lockNoOp,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new WebAuthnApi(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(h.storage?this.storage=h.storage:supportsLocalStorage()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=memoryLocalStorageAdapter(this.memoryStorage)),h.userStorage&&(this.userStorage=h.userStorage)):(this.memoryStorage={},this.storage=memoryLocalStorageAdapter(this.memoryStorage)),isBrowser()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(g){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",g)}(d=this.broadcastChannel)===null||d===void 0||d.addEventListener("message",async g=>{this._debug("received broadcast notification from other tab or client",g),await this._notifyAllSubscribers(g.data.event,g.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(s){if(this.throwOnError&&s&&s.error)throw s.error;return s}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${version$1}) ${new Date().toISOString()}`}_debug(...s){return this.logDebugMessages&&this.logger(this._logPrefix(),...s),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var s;try{let o={},c="none";if(isBrowser()&&(o=parseParametersFromURL(window.location.href),this._isImplicitGrantCallback(o)?c="implicit":await this._isPKCECallback(o)&&(c="pkce")),isBrowser()&&this.detectSessionInUrl&&c!=="none"){const{data:d,error:h}=await this._getSessionFromURL(o,c);if(h){if(this._debug("#_initialize()","error detecting session from URL",h),isAuthImplicitGrantRedirectError(h)){const _=(s=h.details)===null||s===void 0?void 0:s.code;if(_==="identity_already_exists"||_==="identity_not_found"||_==="single_identity_not_deletable")return{error:h}}return await this._removeSession(),{error:h}}const{session:g,redirectType:b}=d;return this._debug("#_initialize()","detected session in URL",g,"redirect type",b),await this._saveSession(g),setTimeout(async()=>{b==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",g):await this._notifyAllSubscribers("SIGNED_IN",g)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(o){return isAuthError(o)?this._returnResult({error:o}):this._returnResult({error:new AuthUnknownError("Unexpected error during initialization",o)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(s){var o,c,d;try{const h=await _request(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(c=(o=s==null?void 0:s.options)===null||o===void 0?void 0:o.data)!==null&&c!==void 0?c:{},gotrue_meta_security:{captcha_token:(d=s==null?void 0:s.options)===null||d===void 0?void 0:d.captchaToken}},xform:_sessionResponse}),{data:g,error:b}=h;if(b||!g)return this._returnResult({data:{user:null,session:null},error:b});const _=g.session,$=g.user;return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",_)),this._returnResult({data:{user:$,session:_},error:null})}catch(h){if(isAuthError(h))return this._returnResult({data:{user:null,session:null},error:h});throw h}}async signUp(s){var o,c,d;try{let h;if("email"in s){const{email:_e,password:tt,options:et}=s;let nt=null,ot=null;this.flowType==="pkce"&&([nt,ot]=await getCodeChallengeAndMethod(this.storage,this.storageKey)),h=await _request(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:et==null?void 0:et.emailRedirectTo,body:{email:_e,password:tt,data:(o=et==null?void 0:et.data)!==null&&o!==void 0?o:{},gotrue_meta_security:{captcha_token:et==null?void 0:et.captchaToken},code_challenge:nt,code_challenge_method:ot},xform:_sessionResponse})}else if("phone"in s){const{phone:_e,password:tt,options:et}=s;h=await _request(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:_e,password:tt,data:(c=et==null?void 0:et.data)!==null&&c!==void 0?c:{},channel:(d=et==null?void 0:et.channel)!==null&&d!==void 0?d:"sms",gotrue_meta_security:{captcha_token:et==null?void 0:et.captchaToken}},xform:_sessionResponse})}else throw new AuthInvalidCredentialsError("You must provide either an email or phone number and a password");const{data:g,error:b}=h;if(b||!g)return await removeItemAsync(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:b});const _=g.session,$=g.user;return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",_)),this._returnResult({data:{user:$,session:_},error:null})}catch(h){if(await removeItemAsync(this.storage,`${this.storageKey}-code-verifier`),isAuthError(h))return this._returnResult({data:{user:null,session:null},error:h});throw h}}async signInWithPassword(s){try{let o;if("email"in s){const{email:h,password:g,options:b}=s;o=await _request(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:h,password:g,gotrue_meta_security:{captcha_token:b==null?void 0:b.captchaToken}},xform:_sessionResponsePassword})}else if("phone"in s){const{phone:h,password:g,options:b}=s;o=await _request(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:h,password:g,gotrue_meta_security:{captcha_token:b==null?void 0:b.captchaToken}},xform:_sessionResponsePassword})}else throw new AuthInvalidCredentialsError("You must provide either an email or phone number and a password");const{data:c,error:d}=o;if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!c||!c.session||!c.user){const h=new AuthInvalidTokenResponseError;return this._returnResult({data:{user:null,session:null},error:h})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:Object.assign({user:c.user,session:c.session},c.weak_password?{weakPassword:c.weak_password}:null),error:d})}catch(o){if(isAuthError(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithOAuth(s){var o,c,d,h;return await this._handleProviderSignIn(s.provider,{redirectTo:(o=s.options)===null||o===void 0?void 0:o.redirectTo,scopes:(c=s.options)===null||c===void 0?void 0:c.scopes,queryParams:(d=s.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:(h=s.options)===null||h===void 0?void 0:h.skipBrowserRedirect})}async exchangeCodeForSession(s){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(s))}async signInWithWeb3(s){const{chain:o}=s;switch(o){case"ethereum":return await this.signInWithEthereum(s);case"solana":return await this.signInWithSolana(s);default:throw new Error(`@supabase/auth-js: Unsupported chain "${o}"`)}}async signInWithEthereum(s){var o,c,d,h,g,b,_,$,_e,tt,et;let nt,ot;if("message"in s)nt=s.message,ot=s.signature;else{const{chain:st,wallet:pt,statement:at,options:ht}=s;let lt;if(isBrowser())if(typeof pt=="object")lt=pt;else{const kt=window;if("ethereum"in kt&&typeof kt.ethereum=="object"&&"request"in kt.ethereum&&typeof kt.ethereum.request=="function")lt=kt.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof pt!="object"||!(ht!=null&&ht.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");lt=pt}const yt=new URL((o=ht==null?void 0:ht.url)!==null&&o!==void 0?o:window.location.href),bt=await lt.request({method:"eth_requestAccounts"}).then(kt=>kt).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!bt||bt.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const gt=getAddress(bt[0]);let dt=(c=ht==null?void 0:ht.signInWithEthereum)===null||c===void 0?void 0:c.chainId;if(!dt){const kt=await lt.request({method:"eth_chainId"});dt=fromHex(kt)}const vt={domain:yt.host,address:gt,statement:at,uri:yt.href,version:"1",chainId:dt,nonce:(d=ht==null?void 0:ht.signInWithEthereum)===null||d===void 0?void 0:d.nonce,issuedAt:(g=(h=ht==null?void 0:ht.signInWithEthereum)===null||h===void 0?void 0:h.issuedAt)!==null&&g!==void 0?g:new Date,expirationTime:(b=ht==null?void 0:ht.signInWithEthereum)===null||b===void 0?void 0:b.expirationTime,notBefore:(_=ht==null?void 0:ht.signInWithEthereum)===null||_===void 0?void 0:_.notBefore,requestId:($=ht==null?void 0:ht.signInWithEthereum)===null||$===void 0?void 0:$.requestId,resources:(_e=ht==null?void 0:ht.signInWithEthereum)===null||_e===void 0?void 0:_e.resources};nt=createSiweMessage(vt),ot=await lt.request({method:"personal_sign",params:[toHex(nt),gt]})}try{const{data:st,error:pt}=await _request(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:nt,signature:ot},!((tt=s.options)===null||tt===void 0)&&tt.captchaToken?{gotrue_meta_security:{captcha_token:(et=s.options)===null||et===void 0?void 0:et.captchaToken}}:null),xform:_sessionResponse});if(pt)throw pt;if(!st||!st.session||!st.user){const at=new AuthInvalidTokenResponseError;return this._returnResult({data:{user:null,session:null},error:at})}return st.session&&(await this._saveSession(st.session),await this._notifyAllSubscribers("SIGNED_IN",st.session)),this._returnResult({data:Object.assign({},st),error:pt})}catch(st){if(isAuthError(st))return this._returnResult({data:{user:null,session:null},error:st});throw st}}async signInWithSolana(s){var o,c,d,h,g,b,_,$,_e,tt,et,nt;let ot,st;if("message"in s)ot=s.message,st=s.signature;else{const{chain:pt,wallet:at,statement:ht,options:lt}=s;let yt;if(isBrowser())if(typeof at=="object")yt=at;else{const gt=window;if("solana"in gt&&typeof gt.solana=="object"&&("signIn"in gt.solana&&typeof gt.solana.signIn=="function"||"signMessage"in gt.solana&&typeof gt.solana.signMessage=="function"))yt=gt.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof at!="object"||!(lt!=null&&lt.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");yt=at}const bt=new URL((o=lt==null?void 0:lt.url)!==null&&o!==void 0?o:window.location.href);if("signIn"in yt&&yt.signIn){const gt=await yt.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},lt==null?void 0:lt.signInWithSolana),{version:"1",domain:bt.host,uri:bt.href}),ht?{statement:ht}:null));let dt;if(Array.isArray(gt)&&gt[0]&&typeof gt[0]=="object")dt=gt[0];else if(gt&&typeof gt=="object"&&"signedMessage"in gt&&"signature"in gt)dt=gt;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in dt&&"signature"in dt&&(typeof dt.signedMessage=="string"||dt.signedMessage instanceof Uint8Array)&&dt.signature instanceof Uint8Array)ot=typeof dt.signedMessage=="string"?dt.signedMessage:new TextDecoder().decode(dt.signedMessage),st=dt.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in yt)||typeof yt.signMessage!="function"||!("publicKey"in yt)||typeof yt!="object"||!yt.publicKey||!("toBase58"in yt.publicKey)||typeof yt.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");ot=[`${bt.host} wants you to sign in with your Solana account:`,yt.publicKey.toBase58(),...ht?["",ht,""]:[""],"Version: 1",`URI: ${bt.href}`,`Issued At: ${(d=(c=lt==null?void 0:lt.signInWithSolana)===null||c===void 0?void 0:c.issuedAt)!==null&&d!==void 0?d:new Date().toISOString()}`,...!((h=lt==null?void 0:lt.signInWithSolana)===null||h===void 0)&&h.notBefore?[`Not Before: ${lt.signInWithSolana.notBefore}`]:[],...!((g=lt==null?void 0:lt.signInWithSolana)===null||g===void 0)&&g.expirationTime?[`Expiration Time: ${lt.signInWithSolana.expirationTime}`]:[],...!((b=lt==null?void 0:lt.signInWithSolana)===null||b===void 0)&&b.chainId?[`Chain ID: ${lt.signInWithSolana.chainId}`]:[],...!((_=lt==null?void 0:lt.signInWithSolana)===null||_===void 0)&&_.nonce?[`Nonce: ${lt.signInWithSolana.nonce}`]:[],...!(($=lt==null?void 0:lt.signInWithSolana)===null||$===void 0)&&$.requestId?[`Request ID: ${lt.signInWithSolana.requestId}`]:[],...!((tt=(_e=lt==null?void 0:lt.signInWithSolana)===null||_e===void 0?void 0:_e.resources)===null||tt===void 0)&&tt.length?["Resources",...lt.signInWithSolana.resources.map(dt=>`- ${dt}`)]:[]].join(`
`);const gt=await yt.signMessage(new TextEncoder().encode(ot),"utf8");if(!gt||!(gt instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");st=gt}}try{const{data:pt,error:at}=await _request(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:ot,signature:bytesToBase64URL(st)},!((et=s.options)===null||et===void 0)&&et.captchaToken?{gotrue_meta_security:{captcha_token:(nt=s.options)===null||nt===void 0?void 0:nt.captchaToken}}:null),xform:_sessionResponse});if(at)throw at;if(!pt||!pt.session||!pt.user){const ht=new AuthInvalidTokenResponseError;return this._returnResult({data:{user:null,session:null},error:ht})}return pt.session&&(await this._saveSession(pt.session),await this._notifyAllSubscribers("SIGNED_IN",pt.session)),this._returnResult({data:Object.assign({},pt),error:at})}catch(pt){if(isAuthError(pt))return this._returnResult({data:{user:null,session:null},error:pt});throw pt}}async _exchangeCodeForSession(s){const o=await getItemAsync(this.storage,`${this.storageKey}-code-verifier`),[c,d]=(o??"").split("/");try{if(!c&&this.flowType==="pkce")throw new AuthPKCECodeVerifierMissingError;const{data:h,error:g}=await _request(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:s,code_verifier:c},xform:_sessionResponse});if(await removeItemAsync(this.storage,`${this.storageKey}-code-verifier`),g)throw g;if(!h||!h.session||!h.user){const b=new AuthInvalidTokenResponseError;return this._returnResult({data:{user:null,session:null,redirectType:null},error:b})}return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),this._returnResult({data:Object.assign(Object.assign({},h),{redirectType:d??null}),error:g})}catch(h){if(await removeItemAsync(this.storage,`${this.storageKey}-code-verifier`),isAuthError(h))return this._returnResult({data:{user:null,session:null,redirectType:null},error:h});throw h}}async signInWithIdToken(s){try{const{options:o,provider:c,token:d,access_token:h,nonce:g}=s,b=await _request(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:c,id_token:d,access_token:h,nonce:g,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:_sessionResponse}),{data:_,error:$}=b;if($)return this._returnResult({data:{user:null,session:null},error:$});if(!_||!_.session||!_.user){const _e=new AuthInvalidTokenResponseError;return this._returnResult({data:{user:null,session:null},error:_e})}return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),this._returnResult({data:_,error:$})}catch(o){if(isAuthError(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithOtp(s){var o,c,d,h,g;try{if("email"in s){const{email:b,options:_}=s;let $=null,_e=null;this.flowType==="pkce"&&([$,_e]=await getCodeChallengeAndMethod(this.storage,this.storageKey));const{error:tt}=await _request(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:b,data:(o=_==null?void 0:_.data)!==null&&o!==void 0?o:{},create_user:(c=_==null?void 0:_.shouldCreateUser)!==null&&c!==void 0?c:!0,gotrue_meta_security:{captcha_token:_==null?void 0:_.captchaToken},code_challenge:$,code_challenge_method:_e},redirectTo:_==null?void 0:_.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:tt})}if("phone"in s){const{phone:b,options:_}=s,{data:$,error:_e}=await _request(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:b,data:(d=_==null?void 0:_.data)!==null&&d!==void 0?d:{},create_user:(h=_==null?void 0:_.shouldCreateUser)!==null&&h!==void 0?h:!0,gotrue_meta_security:{captcha_token:_==null?void 0:_.captchaToken},channel:(g=_==null?void 0:_.channel)!==null&&g!==void 0?g:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:$==null?void 0:$.message_id},error:_e})}throw new AuthInvalidCredentialsError("You must provide either an email or phone number.")}catch(b){if(await removeItemAsync(this.storage,`${this.storageKey}-code-verifier`),isAuthError(b))return this._returnResult({data:{user:null,session:null},error:b});throw b}}async verifyOtp(s){var o,c;try{let d,h;"options"in s&&(d=(o=s.options)===null||o===void 0?void 0:o.redirectTo,h=(c=s.options)===null||c===void 0?void 0:c.captchaToken);const{data:g,error:b}=await _request(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},s),{gotrue_meta_security:{captcha_token:h}}),redirectTo:d,xform:_sessionResponse});if(b)throw b;if(!g)throw new Error("An error occurred on token verification.");const _=g.session,$=g.user;return _!=null&&_.access_token&&(await this._saveSession(_),await this._notifyAllSubscribers(s.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",_)),this._returnResult({data:{user:$,session:_},error:null})}catch(d){if(isAuthError(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async signInWithSSO(s){var o,c,d,h,g;try{let b=null,_=null;this.flowType==="pkce"&&([b,_]=await getCodeChallengeAndMethod(this.storage,this.storageKey));const $=await _request(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in s?{provider_id:s.providerId}:null),"domain"in s?{domain:s.domain}:null),{redirect_to:(c=(o=s.options)===null||o===void 0?void 0:o.redirectTo)!==null&&c!==void 0?c:void 0}),!((d=s==null?void 0:s.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:s.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:b,code_challenge_method:_}),headers:this.headers,xform:_ssoResponse});return!((h=$.data)===null||h===void 0)&&h.url&&isBrowser()&&!(!((g=s.options)===null||g===void 0)&&g.skipBrowserRedirect)&&window.location.assign($.data.url),this._returnResult($)}catch(b){if(await removeItemAsync(this.storage,`${this.storageKey}-code-verifier`),isAuthError(b))return this._returnResult({data:null,error:b});throw b}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async s=>{const{data:{session:o},error:c}=s;if(c)throw c;if(!o)throw new AuthSessionMissingError;const{error:d}=await _request(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:o.access_token});return this._returnResult({data:{user:null,session:null},error:d})})}catch(s){if(isAuthError(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async resend(s){try{const o=`${this.url}/resend`;if("email"in s){const{email:c,type:d,options:h}=s,{error:g}=await _request(this.fetch,"POST",o,{headers:this.headers,body:{email:c,type:d,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},redirectTo:h==null?void 0:h.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:g})}else if("phone"in s){const{phone:c,type:d,options:h}=s,{data:g,error:b}=await _request(this.fetch,"POST",o,{headers:this.headers,body:{phone:c,type:d,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:g==null?void 0:g.message_id},error:b})}throw new AuthInvalidCredentialsError("You must provide either an email or phone number and a type")}catch(o){if(isAuthError(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async o=>o))}async _acquireLock(s,o){this._debug("#_acquireLock","begin",s);try{if(this.lockAcquired){const c=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),d=(async()=>(await c,await o()))();return this.pendingInLock.push((async()=>{try{await d}catch{}})()),d}return await this.lock(`lock:${this.storageKey}`,s,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const c=o();for(this.pendingInLock.push((async()=>{try{await c}catch{}})()),await c;this.pendingInLock.length;){const d=[...this.pendingInLock];await Promise.all(d),this.pendingInLock.splice(0,d.length)}return await c}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(s){this._debug("#_useSession","begin");try{const o=await this.__loadSession();return await s(o)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let s=null;const o=await getItemAsync(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",o),o!==null&&(this._isValidSession(o)?s=o:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!s)return{data:{session:null},error:null};const c=s.expires_at?s.expires_at*1e3-Date.now()<EXPIRY_MARGIN_MS:!1;if(this._debug("#__loadSession()",`session has${c?"":" not"} expired`,"expires_at",s.expires_at),!c){if(this.userStorage){const g=await getItemAsync(this.userStorage,this.storageKey+"-user");g!=null&&g.user?s.user=g.user:s.user=userNotAvailableProxy()}if(this.storage.isServer&&s.user&&!s.user.__isUserNotAvailableProxy){const g={value:this.suppressGetSessionWarning};s.user=insecureUserWarningProxy(s.user,g),g.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:s},error:null}}const{data:d,error:h}=await this._callRefreshToken(s.refresh_token);return h?this._returnResult({data:{session:null},error:h}):this._returnResult({data:{session:d},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(s){if(s)return await this._getUser(s);await this.initializePromise;const o=await this._acquireLock(-1,async()=>await this._getUser());return o.data.user&&(this.suppressGetSessionWarning=!0),o}async _getUser(s){try{return s?await _request(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:s,xform:_userResponse}):await this._useSession(async o=>{var c,d,h;const{data:g,error:b}=o;if(b)throw b;return!(!((c=g.session)===null||c===void 0)&&c.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new AuthSessionMissingError}:await _request(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(h=(d=g.session)===null||d===void 0?void 0:d.access_token)!==null&&h!==void 0?h:void 0,xform:_userResponse})})}catch(o){if(isAuthError(o))return isAuthSessionMissingError(o)&&(await this._removeSession(),await removeItemAsync(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:o});throw o}}async updateUser(s,o={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(s,o))}async _updateUser(s,o={}){try{return await this._useSession(async c=>{const{data:d,error:h}=c;if(h)throw h;if(!d.session)throw new AuthSessionMissingError;const g=d.session;let b=null,_=null;this.flowType==="pkce"&&s.email!=null&&([b,_]=await getCodeChallengeAndMethod(this.storage,this.storageKey));const{data:$,error:_e}=await _request(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:o==null?void 0:o.emailRedirectTo,body:Object.assign(Object.assign({},s),{code_challenge:b,code_challenge_method:_}),jwt:g.access_token,xform:_userResponse});if(_e)throw _e;return g.user=$.user,await this._saveSession(g),await this._notifyAllSubscribers("USER_UPDATED",g),this._returnResult({data:{user:g.user},error:null})})}catch(c){if(await removeItemAsync(this.storage,`${this.storageKey}-code-verifier`),isAuthError(c))return this._returnResult({data:{user:null},error:c});throw c}}async setSession(s){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(s))}async _setSession(s){try{if(!s.access_token||!s.refresh_token)throw new AuthSessionMissingError;const o=Date.now()/1e3;let c=o,d=!0,h=null;const{payload:g}=decodeJWT(s.access_token);if(g.exp&&(c=g.exp,d=c<=o),d){const{data:b,error:_}=await this._callRefreshToken(s.refresh_token);if(_)return this._returnResult({data:{user:null,session:null},error:_});if(!b)return{data:{user:null,session:null},error:null};h=b}else{const{data:b,error:_}=await this._getUser(s.access_token);if(_)throw _;h={access_token:s.access_token,refresh_token:s.refresh_token,user:b.user,token_type:"bearer",expires_in:c-o,expires_at:c},await this._saveSession(h),await this._notifyAllSubscribers("SIGNED_IN",h)}return this._returnResult({data:{user:h.user,session:h},error:null})}catch(o){if(isAuthError(o))return this._returnResult({data:{session:null,user:null},error:o});throw o}}async refreshSession(s){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(s))}async _refreshSession(s){try{return await this._useSession(async o=>{var c;if(!s){const{data:g,error:b}=o;if(b)throw b;s=(c=g.session)!==null&&c!==void 0?c:void 0}if(!(s!=null&&s.refresh_token))throw new AuthSessionMissingError;const{data:d,error:h}=await this._callRefreshToken(s.refresh_token);return h?this._returnResult({data:{user:null,session:null},error:h}):d?this._returnResult({data:{user:d.user,session:d},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(o){if(isAuthError(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async _getSessionFromURL(s,o){try{if(!isBrowser())throw new AuthImplicitGrantRedirectError("No browser detected.");if(s.error||s.error_description||s.error_code)throw new AuthImplicitGrantRedirectError(s.error_description||"Error in URL with unspecified error_description",{error:s.error||"unspecified_error",code:s.error_code||"unspecified_code"});switch(o){case"implicit":if(this.flowType==="pkce")throw new AuthPKCEGrantCodeExchangeError("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new AuthImplicitGrantRedirectError("Not a valid implicit grant flow url.");break;default:}if(o==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!s.code)throw new AuthPKCEGrantCodeExchangeError("No code detected.");const{data:ht,error:lt}=await this._exchangeCodeForSession(s.code);if(lt)throw lt;const yt=new URL(window.location.href);return yt.searchParams.delete("code"),window.history.replaceState(window.history.state,"",yt.toString()),{data:{session:ht.session,redirectType:null},error:null}}const{provider_token:c,provider_refresh_token:d,access_token:h,refresh_token:g,expires_in:b,expires_at:_,token_type:$}=s;if(!h||!b||!g||!$)throw new AuthImplicitGrantRedirectError("No session defined in URL");const _e=Math.round(Date.now()/1e3),tt=parseInt(b);let et=_e+tt;_&&(et=parseInt(_));const nt=et-_e;nt*1e3<=AUTO_REFRESH_TICK_DURATION_MS&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${nt}s, should have been closer to ${tt}s`);const ot=et-tt;_e-ot>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",ot,et,_e):_e-ot<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",ot,et,_e);const{data:st,error:pt}=await this._getUser(h);if(pt)throw pt;const at={provider_token:c,provider_refresh_token:d,access_token:h,expires_in:tt,expires_at:et,refresh_token:g,token_type:$,user:st.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:at,redirectType:s.type},error:null})}catch(c){if(isAuthError(c))return this._returnResult({data:{session:null,redirectType:null},error:c});throw c}}_isImplicitGrantCallback(s){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),s):!!(s.access_token||s.error_description)}async _isPKCECallback(s){const o=await getItemAsync(this.storage,`${this.storageKey}-code-verifier`);return!!(s.code&&o)}async signOut(s={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(s))}async _signOut({scope:s}={scope:"global"}){return await this._useSession(async o=>{var c;const{data:d,error:h}=o;if(h)return this._returnResult({error:h});const g=(c=d.session)===null||c===void 0?void 0:c.access_token;if(g){const{error:b}=await this.admin.signOut(g,s);if(b&&!(isAuthApiError(b)&&(b.status===404||b.status===401||b.status===403)))return this._returnResult({error:b})}return s!=="others"&&(await this._removeSession(),await removeItemAsync(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(s){const o=generateCallbackId(),c={id:o,callback:s,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",o),this.stateChangeEmitters.delete(o)}};return this._debug("#onAuthStateChange()","registered callback with id",o),this.stateChangeEmitters.set(o,c),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(o)})))(),{data:{subscription:c}}}async _emitInitialSession(s){return await this._useSession(async o=>{var c,d;try{const{data:{session:h},error:g}=o;if(g)throw g;await((c=this.stateChangeEmitters.get(s))===null||c===void 0?void 0:c.callback("INITIAL_SESSION",h)),this._debug("INITIAL_SESSION","callback id",s,"session",h)}catch(h){await((d=this.stateChangeEmitters.get(s))===null||d===void 0?void 0:d.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",s,"error",h),console.error(h)}})}async resetPasswordForEmail(s,o={}){let c=null,d=null;this.flowType==="pkce"&&([c,d]=await getCodeChallengeAndMethod(this.storage,this.storageKey,!0));try{return await _request(this.fetch,"POST",`${this.url}/recover`,{body:{email:s,code_challenge:c,code_challenge_method:d,gotrue_meta_security:{captcha_token:o.captchaToken}},headers:this.headers,redirectTo:o.redirectTo})}catch(h){if(await removeItemAsync(this.storage,`${this.storageKey}-code-verifier`),isAuthError(h))return this._returnResult({data:null,error:h});throw h}}async getUserIdentities(){var s;try{const{data:o,error:c}=await this.getUser();if(c)throw c;return this._returnResult({data:{identities:(s=o.user.identities)!==null&&s!==void 0?s:[]},error:null})}catch(o){if(isAuthError(o))return this._returnResult({data:null,error:o});throw o}}async linkIdentity(s){return"token"in s?this.linkIdentityIdToken(s):this.linkIdentityOAuth(s)}async linkIdentityOAuth(s){var o;try{const{data:c,error:d}=await this._useSession(async h=>{var g,b,_,$,_e;const{data:tt,error:et}=h;if(et)throw et;const nt=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,s.provider,{redirectTo:(g=s.options)===null||g===void 0?void 0:g.redirectTo,scopes:(b=s.options)===null||b===void 0?void 0:b.scopes,queryParams:(_=s.options)===null||_===void 0?void 0:_.queryParams,skipBrowserRedirect:!0});return await _request(this.fetch,"GET",nt,{headers:this.headers,jwt:(_e=($=tt.session)===null||$===void 0?void 0:$.access_token)!==null&&_e!==void 0?_e:void 0})});if(d)throw d;return isBrowser()&&!(!((o=s.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(c==null?void 0:c.url),this._returnResult({data:{provider:s.provider,url:c==null?void 0:c.url},error:null})}catch(c){if(isAuthError(c))return this._returnResult({data:{provider:s.provider,url:null},error:c});throw c}}async linkIdentityIdToken(s){return await this._useSession(async o=>{var c;try{const{error:d,data:{session:h}}=o;if(d)throw d;const{options:g,provider:b,token:_,access_token:$,nonce:_e}=s,tt=await _request(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(c=h==null?void 0:h.access_token)!==null&&c!==void 0?c:void 0,body:{provider:b,id_token:_,access_token:$,nonce:_e,link_identity:!0,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:_sessionResponse}),{data:et,error:nt}=tt;return nt?this._returnResult({data:{user:null,session:null},error:nt}):!et||!et.session||!et.user?this._returnResult({data:{user:null,session:null},error:new AuthInvalidTokenResponseError}):(et.session&&(await this._saveSession(et.session),await this._notifyAllSubscribers("USER_UPDATED",et.session)),this._returnResult({data:et,error:nt}))}catch(d){if(await removeItemAsync(this.storage,`${this.storageKey}-code-verifier`),isAuthError(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}})}async unlinkIdentity(s){try{return await this._useSession(async o=>{var c,d;const{data:h,error:g}=o;if(g)throw g;return await _request(this.fetch,"DELETE",`${this.url}/user/identities/${s.identity_id}`,{headers:this.headers,jwt:(d=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})})}catch(o){if(isAuthError(o))return this._returnResult({data:null,error:o});throw o}}async _refreshAccessToken(s){const o=`#_refreshAccessToken(${s.substring(0,5)}...)`;this._debug(o,"begin");try{const c=Date.now();return await retryable(async d=>(d>0&&await sleep(200*Math.pow(2,d-1)),this._debug(o,"refreshing attempt",d),await _request(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:s},headers:this.headers,xform:_sessionResponse})),(d,h)=>{const g=200*Math.pow(2,d);return h&&isAuthRetryableFetchError(h)&&Date.now()+g-c<AUTO_REFRESH_TICK_DURATION_MS})}catch(c){if(this._debug(o,"error",c),isAuthError(c))return this._returnResult({data:{session:null,user:null},error:c});throw c}finally{this._debug(o,"end")}}_isValidSession(s){return typeof s=="object"&&s!==null&&"access_token"in s&&"refresh_token"in s&&"expires_at"in s}async _handleProviderSignIn(s,o){const c=await this._getUrlForProvider(`${this.url}/authorize`,s,{redirectTo:o.redirectTo,scopes:o.scopes,queryParams:o.queryParams});return this._debug("#_handleProviderSignIn()","provider",s,"options",o,"url",c),isBrowser()&&!o.skipBrowserRedirect&&window.location.assign(c),{data:{provider:s,url:c},error:null}}async _recoverAndRefresh(){var s,o;const c="#_recoverAndRefresh()";this._debug(c,"begin");try{const d=await getItemAsync(this.storage,this.storageKey);if(d&&this.userStorage){let g=await getItemAsync(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!g&&(g={user:d.user},await setItemAsync(this.userStorage,this.storageKey+"-user",g)),d.user=(s=g==null?void 0:g.user)!==null&&s!==void 0?s:userNotAvailableProxy()}else if(d&&!d.user&&!d.user){const g=await getItemAsync(this.storage,this.storageKey+"-user");g&&(g!=null&&g.user)?(d.user=g.user,await removeItemAsync(this.storage,this.storageKey+"-user"),await setItemAsync(this.storage,this.storageKey,d)):d.user=userNotAvailableProxy()}if(this._debug(c,"session from storage",d),!this._isValidSession(d)){this._debug(c,"session is not valid"),d!==null&&await this._removeSession();return}const h=((o=d.expires_at)!==null&&o!==void 0?o:1/0)*1e3-Date.now()<EXPIRY_MARGIN_MS;if(this._debug(c,`session has${h?"":" not"} expired with margin of ${EXPIRY_MARGIN_MS}s`),h){if(this.autoRefreshToken&&d.refresh_token){const{error:g}=await this._callRefreshToken(d.refresh_token);g&&(console.error(g),isAuthRetryableFetchError(g)||(this._debug(c,"refresh failed with a non-retryable error, removing the session",g),await this._removeSession()))}}else if(d.user&&d.user.__isUserNotAvailableProxy===!0)try{const{data:g,error:b}=await this._getUser(d.access_token);!b&&(g!=null&&g.user)?(d.user=g.user,await this._saveSession(d),await this._notifyAllSubscribers("SIGNED_IN",d)):this._debug(c,"could not get user data, skipping SIGNED_IN notification")}catch(g){console.error("Error getting user data:",g),this._debug(c,"error getting user data, skipping SIGNED_IN notification",g)}else await this._notifyAllSubscribers("SIGNED_IN",d)}catch(d){this._debug(c,"error",d),console.error(d);return}finally{this._debug(c,"end")}}async _callRefreshToken(s){var o,c;if(!s)throw new AuthSessionMissingError;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const d=`#_callRefreshToken(${s.substring(0,5)}...)`;this._debug(d,"begin");try{this.refreshingDeferred=new Deferred;const{data:h,error:g}=await this._refreshAccessToken(s);if(g)throw g;if(!h.session)throw new AuthSessionMissingError;await this._saveSession(h.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",h.session);const b={data:h.session,error:null};return this.refreshingDeferred.resolve(b),b}catch(h){if(this._debug(d,"error",h),isAuthError(h)){const g={data:null,error:h};return isAuthRetryableFetchError(h)||await this._removeSession(),(o=this.refreshingDeferred)===null||o===void 0||o.resolve(g),g}throw(c=this.refreshingDeferred)===null||c===void 0||c.reject(h),h}finally{this.refreshingDeferred=null,this._debug(d,"end")}}async _notifyAllSubscribers(s,o,c=!0){const d=`#_notifyAllSubscribers(${s})`;this._debug(d,"begin",o,`broadcast = ${c}`);try{this.broadcastChannel&&c&&this.broadcastChannel.postMessage({event:s,session:o});const h=[],g=Array.from(this.stateChangeEmitters.values()).map(async b=>{try{await b.callback(s,o)}catch(_){h.push(_)}});if(await Promise.all(g),h.length>0){for(let b=0;b<h.length;b+=1)console.error(h[b]);throw h[0]}}finally{this._debug(d,"end")}}async _saveSession(s){this._debug("#_saveSession()",s),this.suppressGetSessionWarning=!0,await removeItemAsync(this.storage,`${this.storageKey}-code-verifier`);const o=Object.assign({},s),c=o.user&&o.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!c&&o.user&&await setItemAsync(this.userStorage,this.storageKey+"-user",{user:o.user});const d=Object.assign({},o);delete d.user;const h=deepClone(d);await setItemAsync(this.storage,this.storageKey,h)}else{const d=deepClone(o);await setItemAsync(this.storage,this.storageKey,d)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await removeItemAsync(this.storage,this.storageKey),await removeItemAsync(this.storage,this.storageKey+"-code-verifier"),await removeItemAsync(this.storage,this.storageKey+"-user"),this.userStorage&&await removeItemAsync(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const s=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{s&&isBrowser()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",s)}catch(o){console.error("removing visibilitychange callback failed",o)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const s=setInterval(()=>this._autoRefreshTokenTick(),AUTO_REFRESH_TICK_DURATION_MS);this.autoRefreshTicker=s,s&&typeof s=="object"&&typeof s.unref=="function"?s.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(s),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const s=this.autoRefreshTicker;this.autoRefreshTicker=null,s&&clearInterval(s)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const s=Date.now();try{return await this._useSession(async o=>{const{data:{session:c}}=o;if(!c||!c.refresh_token||!c.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const d=Math.floor((c.expires_at*1e3-s)/AUTO_REFRESH_TICK_DURATION_MS);this._debug("#_autoRefreshTokenTick()",`access token expires in ${d} ticks, a tick lasts ${AUTO_REFRESH_TICK_DURATION_MS}ms, refresh threshold is ${AUTO_REFRESH_TICK_THRESHOLD} ticks`),d<=AUTO_REFRESH_TICK_THRESHOLD&&await this._callRefreshToken(c.refresh_token)})}catch(o){console.error("Auto refresh tick failed with error. This is likely a transient error.",o)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(s){if(s.isAcquireTimeout||s instanceof LockAcquireTimeoutError)this._debug("auto refresh token tick lock not available");else throw s}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!isBrowser()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(s){console.error("_handleVisibilityChange",s)}}async _onVisibilityChanged(s){const o=`#_onVisibilityChanged(${s})`;this._debug(o,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),s||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(o,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(s,o,c){const d=[`provider=${encodeURIComponent(o)}`];if(c!=null&&c.redirectTo&&d.push(`redirect_to=${encodeURIComponent(c.redirectTo)}`),c!=null&&c.scopes&&d.push(`scopes=${encodeURIComponent(c.scopes)}`),this.flowType==="pkce"){const[h,g]=await getCodeChallengeAndMethod(this.storage,this.storageKey),b=new URLSearchParams({code_challenge:`${encodeURIComponent(h)}`,code_challenge_method:`${encodeURIComponent(g)}`});d.push(b.toString())}if(c!=null&&c.queryParams){const h=new URLSearchParams(c.queryParams);d.push(h.toString())}return c!=null&&c.skipBrowserRedirect&&d.push(`skip_http_redirect=${c.skipBrowserRedirect}`),`${s}?${d.join("&")}`}async _unenroll(s){try{return await this._useSession(async o=>{var c;const{data:d,error:h}=o;return h?this._returnResult({data:null,error:h}):await _request(this.fetch,"DELETE",`${this.url}/factors/${s.factorId}`,{headers:this.headers,jwt:(c=d==null?void 0:d.session)===null||c===void 0?void 0:c.access_token})})}catch(o){if(isAuthError(o))return this._returnResult({data:null,error:o});throw o}}async _enroll(s){try{return await this._useSession(async o=>{var c,d;const{data:h,error:g}=o;if(g)return this._returnResult({data:null,error:g});const b=Object.assign({friendly_name:s.friendlyName,factor_type:s.factorType},s.factorType==="phone"?{phone:s.phone}:s.factorType==="totp"?{issuer:s.issuer}:{}),{data:_,error:$}=await _request(this.fetch,"POST",`${this.url}/factors`,{body:b,headers:this.headers,jwt:(c=h==null?void 0:h.session)===null||c===void 0?void 0:c.access_token});return $?this._returnResult({data:null,error:$}):(s.factorType==="totp"&&_.type==="totp"&&(!((d=_==null?void 0:_.totp)===null||d===void 0)&&d.qr_code)&&(_.totp.qr_code=`data:image/svg+xml;utf-8,${_.totp.qr_code}`),this._returnResult({data:_,error:null}))})}catch(o){if(isAuthError(o))return this._returnResult({data:null,error:o});throw o}}async _verify(s){return this._acquireLock(-1,async()=>{try{return await this._useSession(async o=>{var c;const{data:d,error:h}=o;if(h)return this._returnResult({data:null,error:h});const g=Object.assign({challenge_id:s.challengeId},"webauthn"in s?{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_response:s.webauthn.type==="create"?serializeCredentialCreationResponse(s.webauthn.credential_response):serializeCredentialRequestResponse(s.webauthn.credential_response)})}:{code:s.code}),{data:b,error:_}=await _request(this.fetch,"POST",`${this.url}/factors/${s.factorId}/verify`,{body:g,headers:this.headers,jwt:(c=d==null?void 0:d.session)===null||c===void 0?void 0:c.access_token});return _?this._returnResult({data:null,error:_}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+b.expires_in},b)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",b),this._returnResult({data:b,error:_}))})}catch(o){if(isAuthError(o))return this._returnResult({data:null,error:o});throw o}})}async _challenge(s){return this._acquireLock(-1,async()=>{try{return await this._useSession(async o=>{var c;const{data:d,error:h}=o;if(h)return this._returnResult({data:null,error:h});const g=await _request(this.fetch,"POST",`${this.url}/factors/${s.factorId}/challenge`,{body:s,headers:this.headers,jwt:(c=d==null?void 0:d.session)===null||c===void 0?void 0:c.access_token});if(g.error)return g;const{data:b}=g;if(b.type!=="webauthn")return{data:b,error:null};switch(b.webauthn.type){case"create":return{data:Object.assign(Object.assign({},b),{webauthn:Object.assign(Object.assign({},b.webauthn),{credential_options:Object.assign(Object.assign({},b.webauthn.credential_options),{publicKey:deserializeCredentialCreationOptions(b.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},b),{webauthn:Object.assign(Object.assign({},b.webauthn),{credential_options:Object.assign(Object.assign({},b.webauthn.credential_options),{publicKey:deserializeCredentialRequestOptions(b.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(o){if(isAuthError(o))return this._returnResult({data:null,error:o});throw o}})}async _challengeAndVerify(s){const{data:o,error:c}=await this._challenge({factorId:s.factorId});return c?this._returnResult({data:null,error:c}):await this._verify({factorId:s.factorId,challengeId:o.id,code:s.code})}async _listFactors(){var s;const{data:{user:o},error:c}=await this.getUser();if(c)return{data:null,error:c};const d={all:[],phone:[],totp:[],webauthn:[]};for(const h of(s=o==null?void 0:o.factors)!==null&&s!==void 0?s:[])d.all.push(h),h.status==="verified"&&d[h.factor_type].push(h);return{data:d,error:null}}async _getAuthenticatorAssuranceLevel(){var s,o;const{data:{session:c},error:d}=await this.getSession();if(d)return this._returnResult({data:null,error:d});if(!c)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:h}=decodeJWT(c.access_token);let g=null;h.aal&&(g=h.aal);let b=g;((o=(s=c.user.factors)===null||s===void 0?void 0:s.filter(_e=>_e.status==="verified"))!==null&&o!==void 0?o:[]).length>0&&(b="aal2");const $=h.amr||[];return{data:{currentLevel:g,nextLevel:b,currentAuthenticationMethods:$},error:null}}async _getAuthorizationDetails(s){try{return await this._useSession(async o=>{const{data:{session:c},error:d}=o;return d?this._returnResult({data:null,error:d}):c?await _request(this.fetch,"GET",`${this.url}/oauth/authorizations/${s}`,{headers:this.headers,jwt:c.access_token,xform:h=>({data:h,error:null})}):this._returnResult({data:null,error:new AuthSessionMissingError})})}catch(o){if(isAuthError(o))return this._returnResult({data:null,error:o});throw o}}async _approveAuthorization(s,o){try{return await this._useSession(async c=>{const{data:{session:d},error:h}=c;if(h)return this._returnResult({data:null,error:h});if(!d)return this._returnResult({data:null,error:new AuthSessionMissingError});const g=await _request(this.fetch,"POST",`${this.url}/oauth/authorizations/${s}/consent`,{headers:this.headers,jwt:d.access_token,body:{action:"approve"},xform:b=>({data:b,error:null})});return g.data&&g.data.redirect_url&&isBrowser()&&!(o!=null&&o.skipBrowserRedirect)&&window.location.assign(g.data.redirect_url),g})}catch(c){if(isAuthError(c))return this._returnResult({data:null,error:c});throw c}}async _denyAuthorization(s,o){try{return await this._useSession(async c=>{const{data:{session:d},error:h}=c;if(h)return this._returnResult({data:null,error:h});if(!d)return this._returnResult({data:null,error:new AuthSessionMissingError});const g=await _request(this.fetch,"POST",`${this.url}/oauth/authorizations/${s}/consent`,{headers:this.headers,jwt:d.access_token,body:{action:"deny"},xform:b=>({data:b,error:null})});return g.data&&g.data.redirect_url&&isBrowser()&&!(o!=null&&o.skipBrowserRedirect)&&window.location.assign(g.data.redirect_url),g})}catch(c){if(isAuthError(c))return this._returnResult({data:null,error:c});throw c}}async _listOAuthGrants(){try{return await this._useSession(async s=>{const{data:{session:o},error:c}=s;return c?this._returnResult({data:null,error:c}):o?await _request(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:o.access_token,xform:d=>({data:d,error:null})}):this._returnResult({data:null,error:new AuthSessionMissingError})})}catch(s){if(isAuthError(s))return this._returnResult({data:null,error:s});throw s}}async _revokeOAuthGrant(s){try{return await this._useSession(async o=>{const{data:{session:c},error:d}=o;return d?this._returnResult({data:null,error:d}):c?(await _request(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:c.access_token,query:{client_id:s.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new AuthSessionMissingError})})}catch(o){if(isAuthError(o))return this._returnResult({data:null,error:o});throw o}}async fetchJwk(s,o={keys:[]}){let c=o.keys.find(b=>b.kid===s);if(c)return c;const d=Date.now();if(c=this.jwks.keys.find(b=>b.kid===s),c&&this.jwks_cached_at+JWKS_TTL>d)return c;const{data:h,error:g}=await _request(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(g)throw g;return!h.keys||h.keys.length===0||(this.jwks=h,this.jwks_cached_at=d,c=h.keys.find(b=>b.kid===s),!c)?null:c}async getClaims(s,o={}){try{let c=s;if(!c){const{data:nt,error:ot}=await this.getSession();if(ot||!nt.session)return this._returnResult({data:null,error:ot});c=nt.session.access_token}const{header:d,payload:h,signature:g,raw:{header:b,payload:_}}=decodeJWT(c);o!=null&&o.allowExpired||validateExp(h.exp);const $=!d.alg||d.alg.startsWith("HS")||!d.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(d.kid,o!=null&&o.keys?{keys:o.keys}:o==null?void 0:o.jwks);if(!$){const{error:nt}=await this.getUser(c);if(nt)throw nt;return{data:{claims:h,header:d,signature:g},error:null}}const _e=getAlgorithm(d.alg),tt=await crypto.subtle.importKey("jwk",$,_e,!0,["verify"]);if(!await crypto.subtle.verify(_e,tt,g,stringToUint8Array(`${b}.${_}`)))throw new AuthInvalidJwtError("Invalid JWT signature");return{data:{claims:h,header:d,signature:g},error:null}}catch(c){if(isAuthError(c))return this._returnResult({data:null,error:c});throw c}}}GoTrueClient.nextInstanceID={};const AuthClient=GoTrueClient,version="2.89.0";let JS_ENV="";typeof Deno<"u"?JS_ENV="deno":typeof document<"u"?JS_ENV="web":typeof navigator<"u"&&navigator.product==="ReactNative"?JS_ENV="react-native":JS_ENV="node";const DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${JS_ENV}/${version}`},DEFAULT_GLOBAL_OPTIONS={headers:DEFAULT_HEADERS},DEFAULT_DB_OPTIONS={schema:"public"},DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},DEFAULT_REALTIME_OPTIONS={};function _typeof(a){"@babel/helpers - typeof";return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},_typeof(a)}function toPrimitive(a,s){if(_typeof(a)!="object"||!a)return a;var o=a[Symbol.toPrimitive];if(o!==void 0){var c=o.call(a,s||"default");if(_typeof(c)!="object")return c;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(a)}function toPropertyKey(a){var s=toPrimitive(a,"string");return _typeof(s)=="symbol"?s:s+""}function _defineProperty(a,s,o){return(s=toPropertyKey(s))in a?Object.defineProperty(a,s,{value:o,enumerable:!0,configurable:!0,writable:!0}):a[s]=o,a}function ownKeys(a,s){var o=Object.keys(a);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(a);s&&(c=c.filter(function(d){return Object.getOwnPropertyDescriptor(a,d).enumerable})),o.push.apply(o,c)}return o}function _objectSpread2(a){for(var s=1;s<arguments.length;s++){var o=arguments[s]!=null?arguments[s]:{};s%2?ownKeys(Object(o),!0).forEach(function(c){_defineProperty(a,c,o[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(o)):ownKeys(Object(o)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(o,c))})}return a}const resolveFetch=a=>a?(...s)=>a(...s):(...s)=>fetch(...s),resolveHeadersConstructor=()=>Headers,fetchWithAuth=(a,s,o)=>{const c=resolveFetch(o),d=resolveHeadersConstructor();return async(h,g)=>{var b;const _=(b=await s())!==null&&b!==void 0?b:a;let $=new d(g==null?void 0:g.headers);return $.has("apikey")||$.set("apikey",a),$.has("Authorization")||$.set("Authorization",`Bearer ${_}`),c(h,_objectSpread2(_objectSpread2({},g),{},{headers:$}))}};function ensureTrailingSlash(a){return a.endsWith("/")?a:a+"/"}function applySettingDefaults(a,s){var o,c;const{db:d,auth:h,realtime:g,global:b}=a,{db:_,auth:$,realtime:_e,global:tt}=s,et={db:_objectSpread2(_objectSpread2({},_),d),auth:_objectSpread2(_objectSpread2({},$),h),realtime:_objectSpread2(_objectSpread2({},_e),g),storage:{},global:_objectSpread2(_objectSpread2(_objectSpread2({},tt),b),{},{headers:_objectSpread2(_objectSpread2({},(o=tt==null?void 0:tt.headers)!==null&&o!==void 0?o:{}),(c=b==null?void 0:b.headers)!==null&&c!==void 0?c:{})}),accessToken:async()=>""};return a.accessToken?et.accessToken=a.accessToken:delete et.accessToken,et}function validateSupabaseUrl(a){const s=a==null?void 0:a.trim();if(!s)throw new Error("supabaseUrl is required.");if(!s.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(ensureTrailingSlash(s))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var SupabaseAuthClient=class extends AuthClient{constructor(a){super(a)}},SupabaseClient=class{constructor(a,s,o){var c,d;this.supabaseUrl=a,this.supabaseKey=s;const h=validateSupabaseUrl(a);if(!s)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",h),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",h),this.storageUrl=new URL("storage/v1",h),this.functionsUrl=new URL("functions/v1",h);const g=`sb-${h.hostname.split(".")[0]}-auth-token`,b={db:DEFAULT_DB_OPTIONS,realtime:DEFAULT_REALTIME_OPTIONS,auth:_objectSpread2(_objectSpread2({},DEFAULT_AUTH_OPTIONS),{},{storageKey:g}),global:DEFAULT_GLOBAL_OPTIONS},_=applySettingDefaults(o??{},b);if(this.storageKey=(c=_.auth.storageKey)!==null&&c!==void 0?c:"",this.headers=(d=_.global.headers)!==null&&d!==void 0?d:{},_.accessToken)this.accessToken=_.accessToken,this.auth=new Proxy({},{get:(_e,tt)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(tt)} is not possible`)}});else{var $;this.auth=this._initSupabaseAuthClient(($=_.auth)!==null&&$!==void 0?$:{},this.headers,_.global.fetch)}this.fetch=fetchWithAuth(s,this._getAccessToken.bind(this),_.global.fetch),this.realtime=this._initRealtimeClient(_objectSpread2({headers:this.headers,accessToken:this._getAccessToken.bind(this)},_.realtime)),this.accessToken&&this.accessToken().then(_e=>this.realtime.setAuth(_e)).catch(_e=>console.warn("Failed to set initial Realtime auth token:",_e)),this.rest=new PostgrestClient(new URL("rest/v1",h).href,{headers:this.headers,schema:_.db.schema,fetch:this.fetch}),this.storage=new StorageClient(this.storageUrl.href,this.headers,this.fetch,o==null?void 0:o.storage),_.accessToken||this._listenForAuthEvents()}get functions(){return new FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(a){return this.rest.from(a)}schema(a){return this.rest.schema(a)}rpc(a,s={},o={head:!1,get:!1,count:void 0}){return this.rest.rpc(a,s,o)}channel(a,s={config:{}}){return this.realtime.channel(a,s)}getChannels(){return this.realtime.getChannels()}removeChannel(a){return this.realtime.removeChannel(a)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var a=this,s,o;if(a.accessToken)return await a.accessToken();const{data:c}=await a.auth.getSession();return(s=(o=c.session)===null||o===void 0?void 0:o.access_token)!==null&&s!==void 0?s:a.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:a,persistSession:s,detectSessionInUrl:o,storage:c,userStorage:d,storageKey:h,flowType:g,lock:b,debug:_,throwOnError:$},_e,tt){const et={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new SupabaseAuthClient({url:this.authUrl.href,headers:_objectSpread2(_objectSpread2({},et),_e),storageKey:h,autoRefreshToken:a,persistSession:s,detectSessionInUrl:o,storage:c,userStorage:d,flowType:g,lock:b,debug:_,throwOnError:$,fetch:tt,hasCustomAuthorizationHeader:Object.keys(this.headers).some(nt=>nt.toLowerCase()==="authorization")})}_initRealtimeClient(a){return new RealtimeClient(this.realtimeUrl.href,_objectSpread2(_objectSpread2({},a),{},{params:_objectSpread2(_objectSpread2({},{apikey:this.supabaseKey}),a==null?void 0:a.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((a,s)=>{this._handleTokenChanged(a,"CLIENT",s==null?void 0:s.access_token)})}_handleTokenChanged(a,s,o){(a==="TOKEN_REFRESHED"||a==="SIGNED_IN")&&this.changedAccessToken!==o?(this.changedAccessToken=o,this.realtime.setAuth(o)):a==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const createClient=(a,s,o)=>new SupabaseClient(a,s,o);function shouldShowDeprecationWarning(){if(typeof window<"u"||typeof process>"u")return!1;const a=process.version;if(a==null)return!1;const s=a.match(/^v(\d+)\./);return s?parseInt(s[1],10)<=18:!1}shouldShowDeprecationWarning()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const SUPABASE_URL="https://czbzbqxoohkkoopkvpxi.supabase.co",SUPABASE_PUBLISHABLE_KEY="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImN6YnpicXhvb2hra29vcGt2cHhpIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njc2NDgwNDYsImV4cCI6MjA4MzIyNDA0Nn0.IA9opvT_BRG19iKO2RuyemnVir8_8XXU1Xm4RoteeGg",supabase=createClient(SUPABASE_URL,SUPABASE_PUBLISHABLE_KEY,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}}),DISCORD_ID="822804221425614903",ROBLOX_ID="1610763045",TECH_SKILLS=[{name:"JavaScript",progress:48,icon:"https://raw.githubusercontent.com/devicons/devicon/master/icons/javascript/javascript-original.svg"},{name:"TypeScript",progress:76,icon:"https://raw.githubusercontent.com/devicons/devicon/master/icons/typescript/typescript-original.svg"},{name:"SQL",progress:31,icon:"https://raw.githubusercontent.com/devicons/devicon/master/icons/mysql/mysql-original.svg"},{name:"MongoDB",progress:100,icon:"https://raw.githubusercontent.com/devicons/devicon/master/icons/mongodb/mongodb-original.svg"},{name:"Supabase",progress:83,icon:"https://raw.githubusercontent.com/devicons/devicon/master/icons/supabase/supabase-original.svg"},{name:"Firebase",progress:68,icon:"https://raw.githubusercontent.com/devicons/devicon/master/icons/firebase/firebase-plain.svg"},{name:"Discord Bot",progress:88,icon:"https://cdn.simpleicons.org/discord/blurple"},{name:"Roblox Scripting",progress:58,icon:"https://cdn.simpleicons.org/roblox/white"},{name:"React",progress:64,icon:"https://raw.githubusercontent.com/devicons/devicon/master/icons/react/react-original.svg"}],Portfolio=()=>{const[a]=reactExports.useState(new Date().getFullYear()),[s,o]=reactExports.useState(3),[c,d]=reactExports.useState(0),[h,g]=reactExports.useState(!1),[b,_]=reactExports.useState(!0),[$,_e]=reactExports.useState(null),tt={username:"Realice",display_name:"David",avatar_url:`https://cdn.discordapp.com/avatars/${DISCORD_ID}/placeholder.png`,status:"online",custom_status:"Life to no Limits"},et={username:"Realice",display_name:"David",avatar_url:`https://thumbnails.roblox.com/v1/users/avatar-headshot?userIds=${ROBLOX_ID}&size=150x150&format=Png`,friends_count:150,followers_count:89,following_count:45},nt=($==null?void 0:$.discord)||tt,ot=($==null?void 0:$.roblox)||et;reactExports.useEffect(()=>{const gt=a>=2024?a-2024+3:3;o(gt),document.documentElement.classList.add("dark");const dt=()=>g(window.innerWidth<768);dt(),window.addEventListener("resize",dt);const vt=setTimeout(()=>{_(!1)},1e3);return(async()=>{var jt;try{console.log("Fetching profile data via edge function...");const{data:Lt,error:Mt}=await supabase.functions.invoke("profile-proxy");if(Mt){console.error("Edge function error:",Mt);return}if(Lt&&(console.log("Profile data received:",Lt),_e(Lt),(jt=Lt.discord)!=null&&jt.avatar_url)){const Pt=document.querySelector("link[rel~='icon']");Pt&&(Pt.href=Lt.discord.avatar_url)}}catch(Lt){console.log("Failed to fetch profile data:",Lt)}})(),()=>{window.removeEventListener("resize",dt),clearTimeout(vt)}},[a]);const pt=(()=>{const gt=[];for(let dt=0;dt<3;dt++){const vt=(c+dt)%TECH_SKILLS.length;gt.push(TECH_SKILLS[vt])}return gt})(),at=()=>{d(gt=>(gt-1+TECH_SKILLS.length)%TECH_SKILLS.length)},ht=()=>{d(gt=>(gt+1)%TECH_SKILLS.length)},lt=[{title:"Anti Nuke Bot",role:"Developer / Management",description:"Ultimate Discord Protection with over 1.5M users.",status:"Active",type:"Discord Bot",link:"https://discord.gg/R8jdmteT7X"},{title:"NeoDesigns Hosting",role:"Lead Developer",description:"The perfect place for all your hosting solutions.",status:"Active",type:"Hosting",link:"https://discord.gg/neodesigns"},{title:"Starlit Profiles",role:"Developer",description:"Everything you need to showcase your creative work.",status:"Active",type:"Portfolio",link:"https://starlit-development.vercel.app"},{title:"DiscordGPT",role:"CEO",description:"Discord bot connecting ChatGPT with advanced memory features.",status:"Active",type:"AI Integration"},{title:"Guildly",role:"CEO",description:"Discord templating bot for server management.",status:"Ended",type:"Discord Bot"}],yt=[{name:"Twitter",icon:jsxRuntimeExports.jsx(Twitter,{className:"w-5 h-5"}),url:"https://x.com/IcecreamplayzYT",color:"#1DA1F2"},{name:"YouTube",icon:jsxRuntimeExports.jsx(Youtube,{className:"w-5 h-5"}),url:"https://www.youtube.com/@RealiceYT",color:"#FF0000"},{name:"Discord",icon:jsxRuntimeExports.jsx("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"currentColor",children:jsxRuntimeExports.jsx("path",{d:"M20.317 4.37a19.791 19.791 0 0 0-4.885-1.515.074.074 0 0 0-.079.037c-.21.375-.444.864-.608 1.25a18.27 18.27 0 0 0-5.487 0 12.64 12.64 0 0 0-.617-1.25.077.077 0 0 0-.079-.037A19.736 19.736 0 0 0 3.677 4.37a.07.07 0 0 0-.032.027C.533 9.046-.32 13.58.099 18.057a.082.082 0 0 0 .031.057 19.9 19.9 0 0 0 5.993 3.03.078.078 0 0 0 .084-.028 14.09 14.09 0 0 0 1.226-1.994.076.076 0 0 0-.041-.106 13.107 13.107 0 0 1-1.872-.892.077.077 0 0 1-.008-.128 10.2 10.2 0 0 0 .372-.292.074.074 0 0 1 .077-.01c3.928 1.793 8.18 1.793 12.062 0a.074.074 0 0 1 .078.01c.12.098.246.198.373.292a.077.077 0 0 1-.006.127 12.299 12.299 0 0 1-1.873.892.077.077 0 0 0-.041.107c.36.698.772 1.362 1.225 1.993a.076.076 0 0 0 .084.028 19.839 19.839 0 0 0 6.002-3.03.077.077 0 0 0 .032-.054c.5-5.177-.838-9.674-3.549-13.66a.061.061 0 0 0-.031-.03zM8.02 15.33c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.956-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.956 2.418-2.157 2.418zm7.975 0c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.955-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.946 2.418-2.157 2.418z"})}),url:`https://discord.com/users/${DISCORD_ID}`,color:"#5865F2"},{name:"Email",icon:jsxRuntimeExports.jsx(Mail,{className:"w-5 h-5"}),url:"mailto:tonasamya@gmail.com",color:"#EA4335"}],bt=()=>ot.avatar_url&&ot.avatar_url.startsWith("http")?ot.avatar_url:avatarImage;return b?jsxRuntimeExports.jsxs("div",{className:"h-screen w-screen flex items-center justify-center relative",style:{backgroundImage:`url(${backgroundImage})`,backgroundSize:"cover",backgroundPosition:"center"},children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-black/70"}),jsxRuntimeExports.jsxs("div",{className:"relative z-10 flex flex-col items-center gap-4",children:[jsxRuntimeExports.jsx("div",{className:"w-16 h-16 rounded-full border-4 border-primary/30 border-t-primary animate-spin"}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground text-sm animate-pulse",children:"Loading profile..."})]})]}):h?jsxRuntimeExports.jsxs("div",{className:"min-h-screen w-screen overflow-x-hidden overflow-y-auto relative",style:{backgroundImage:`url(${backgroundImage})`,backgroundSize:"cover",backgroundPosition:"center",backgroundAttachment:"fixed"},children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-black/50 pointer-events-none"}),jsxRuntimeExports.jsxs("div",{className:"relative z-10 p-4 space-y-4 pb-24 overflow-y-auto",children:[jsxRuntimeExports.jsx(AudioPlayer,{src:"/music/smooth-operator.mp3",title:"Smooth Operator",artist:"Sade"}),jsxRuntimeExports.jsxs("div",{className:"glass-card-strong rounded-2xl p-4",children:[jsxRuntimeExports.jsxs("div",{className:"relative -mx-4 -mt-4 mb-4 h-20 overflow-hidden rounded-t-2xl",children:[jsxRuntimeExports.jsx("img",{src:robloxBanner,alt:"Banner",className:"w-full h-full object-cover"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 -mt-10 relative z-10",children:[jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("img",{src:nt.avatar_url||bt(),alt:"Avatar",className:"w-14 h-14 rounded-full border-4 border-black/50 shadow-lg",onError:gt=>{gt.currentTarget.src=bt()}}),jsxRuntimeExports.jsx("div",{className:"absolute bottom-0 right-0 w-3 h-3 rounded-full border-2 border-black status-online"})]}),jsxRuntimeExports.jsxs("div",{className:"pt-6",children:[jsxRuntimeExports.jsx("h1",{className:"text-lg font-bold text-foreground",children:nt.display_name||"David"}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-muted-foreground",children:["@",nt.username||"Realice"]})]})]}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-muted-foreground mt-3 italic",children:['"',nt.custom_status||"Life to no Limits",'"']}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-3 gap-2 mt-3 text-center",children:[jsxRuntimeExports.jsxs("div",{className:"glass-card rounded-lg p-2",children:[jsxRuntimeExports.jsx("p",{className:"text-base font-bold gradient-purple",children:s}),jsxRuntimeExports.jsx("p",{className:"text-[9px] text-muted-foreground",children:"Years"})]}),jsxRuntimeExports.jsxs("div",{className:"glass-card rounded-lg p-2",children:[jsxRuntimeExports.jsx("p",{className:"text-base font-bold gradient-purple",children:"5+"}),jsxRuntimeExports.jsx("p",{className:"text-[9px] text-muted-foreground",children:"Projects"})]}),jsxRuntimeExports.jsxs("div",{className:"glass-card rounded-lg p-2",children:[jsxRuntimeExports.jsx("p",{className:"text-base font-bold gradient-purple",children:"Y11"}),jsxRuntimeExports.jsx("p",{className:"text-[9px] text-muted-foreground",children:"Student"})]})]}),jsxRuntimeExports.jsx("div",{className:"flex items-center gap-2 mt-4 justify-center",children:yt.map((gt,dt)=>jsxRuntimeExports.jsx("a",{href:gt.url,target:"_blank",rel:"noopener noreferrer",className:"glass-card connection-icon rounded-full p-2 hover-glow",style:{"--glow-color":gt.color},children:gt.icon},dt))})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[jsxRuntimeExports.jsxs("div",{className:"glass-card-strong rounded-2xl p-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[jsxRuntimeExports.jsx("svg",{className:"w-4 h-4 text-[#5865F2]",viewBox:"0 0 24 24",fill:"currentColor",children:jsxRuntimeExports.jsx("path",{d:"M20.317 4.37a19.791 19.791 0 0 0-4.885-1.515.074.074 0 0 0-.079.037c-.21.375-.444.864-.608 1.25a18.27 18.27 0 0 0-5.487 0 12.64 12.64 0 0 0-.617-1.25.077.077 0 0 0-.079-.037A19.736 19.736 0 0 0 3.677 4.37a.07.07 0 0 0-.032.027C.533 9.046-.32 13.58.099 18.057a.082.082 0 0 0 .031.057 19.9 19.9 0 0 0 5.993 3.03.078.078 0 0 0 .084-.028 14.09 14.09 0 0 0 1.226-1.994.076.076 0 0 0-.041-.106 13.107 13.107 0 0 1-1.872-.892.077.077 0 0 1-.008-.128 10.2 10.2 0 0 0 .372-.292.074.074 0 0 1 .077-.01c3.928 1.793 8.18 1.793 12.062 0a.074.074 0 0 1 .078.01c.12.098.246.198.373.292a.077.077 0 0 1-.006.127 12.299 12.299 0 0 1-1.873.892.077.077 0 0 0-.041.107c.36.698.772 1.362 1.225 1.993a.076.076 0 0 0 .084.028 19.839 19.839 0 0 0 6.002-3.03.077.077 0 0 0 .032-.054c.5-5.177-.838-9.674-3.549-13.66a.061.061 0 0 0-.031-.03zM8.02 15.33c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.956-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.956 2.418-2.157 2.418zm7.975 0c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.955-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.946 2.418-2.157 2.418z"})}),jsxRuntimeExports.jsx("span",{className:"text-xs font-medium",children:"Discord"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("img",{src:nt.avatar_url||bt(),alt:"Discord Avatar",className:"w-8 h-8 rounded-full",onError:gt=>{gt.currentTarget.src=bt()}}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-xs font-medium",children:nt.display_name||"David"}),jsxRuntimeExports.jsxs("p",{className:"text-[10px] text-muted-foreground",children:["@",nt.username||"Realice"]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"glass-card-strong rounded-2xl p-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[jsxRuntimeExports.jsx("img",{src:"https://cdn.simpleicons.org/roblox/white",alt:"Roblox",className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{className:"text-xs font-medium",children:"Roblox"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("img",{src:bt(),alt:"Roblox Avatar",className:"w-8 h-8 rounded-full"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-xs font-medium",children:ot.display_name||"David"}),jsxRuntimeExports.jsxs("p",{className:"text-[10px] text-muted-foreground",children:["@",ot.username||"Realice"]})]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"glass-card-strong rounded-2xl p-4",children:[jsxRuntimeExports.jsxs("h3",{className:"text-sm font-semibold mb-3 flex items-center gap-2",children:[jsxRuntimeExports.jsx(Code,{className:"w-4 h-4 text-primary"}),"Technologies Progress"]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"icon",className:"w-8 h-8 rounded-full glass-card shrink-0",onClick:at,children:jsxRuntimeExports.jsx(ChevronLeft,{className:"w-4 h-4"})}),jsxRuntimeExports.jsx("div",{className:"flex-1 space-y-3",children:pt.map(gt=>jsxRuntimeExports.jsxs("div",{className:"glass-card rounded-xl p-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("img",{src:gt.icon,alt:gt.name,className:"w-4 h-4",onError:dt=>dt.currentTarget.style.display="none"}),jsxRuntimeExports.jsx("span",{className:"text-xs font-medium",children:gt.name})]}),jsxRuntimeExports.jsxs("span",{className:"text-xs text-primary font-bold",children:[gt.progress,"%"]})]}),jsxRuntimeExports.jsx("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:jsxRuntimeExports.jsx("div",{className:"h-full bg-gradient-to-r from-primary to-primary/60 rounded-full transition-all duration-500",style:{width:`${gt.progress}%`}})})]},gt.name))}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"icon",className:"w-8 h-8 rounded-full glass-card shrink-0",onClick:ht,children:jsxRuntimeExports.jsx(ChevronRight,{className:"w-4 h-4"})})]})]}),jsxRuntimeExports.jsxs("div",{className:"glass-card-strong rounded-2xl p-4",children:[jsxRuntimeExports.jsxs("h3",{className:"text-sm font-semibold mb-3 flex items-center gap-2",children:[jsxRuntimeExports.jsx(FolderOpen,{className:"w-4 h-4 text-primary"}),"Projects"]}),jsxRuntimeExports.jsx("div",{className:"space-y-2",children:lt.slice(0,3).map((gt,dt)=>jsxRuntimeExports.jsx("div",{className:"glass-card rounded-xl p-3 hover-glow transition-all",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start justify-between gap-2",children:[jsxRuntimeExports.jsxs("div",{className:"min-w-0",children:[gt.link?jsxRuntimeExports.jsxs("a",{href:gt.link,target:"_blank",rel:"noopener noreferrer",className:"text-xs font-medium hover:text-primary transition-colors flex items-center gap-1",children:[gt.title,jsxRuntimeExports.jsx(ExternalLink,{className:"w-3 h-3"})]}):jsxRuntimeExports.jsx("p",{className:"text-xs font-medium",children:gt.title}),jsxRuntimeExports.jsx("p",{className:"text-[10px] text-muted-foreground truncate",children:gt.description})]}),jsxRuntimeExports.jsx(Badge,{variant:gt.status==="Active"?"default":"secondary",className:"text-[9px] shrink-0",children:gt.status})]})},dt))})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[jsxRuntimeExports.jsxs("div",{className:"glass-card-strong rounded-2xl p-3",children:[jsxRuntimeExports.jsxs("h3",{className:"text-xs font-semibold mb-2 flex items-center gap-1",children:[jsxRuntimeExports.jsx(Award,{className:"w-3 h-3 text-primary"}),"Awards"]}),jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsx("div",{className:"glass-card rounded-lg p-2",children:jsxRuntimeExports.jsx("p",{className:"text-[10px] font-medium",children:"CAIE - ICT"})}),jsxRuntimeExports.jsx("div",{className:"glass-card rounded-lg p-2",children:jsxRuntimeExports.jsx("p",{className:"text-[10px] font-medium",children:"CAIE - English"})})]})]}),jsxRuntimeExports.jsxs("div",{className:"glass-card-strong rounded-2xl p-3",children:[jsxRuntimeExports.jsxs("h3",{className:"text-xs font-semibold mb-2 flex items-center gap-1",children:[jsxRuntimeExports.jsx(GraduationCap,{className:"w-3 h-3 text-primary"}),"Education"]}),jsxRuntimeExports.jsxs("div",{className:"glass-card rounded-lg p-2",children:[jsxRuntimeExports.jsx("p",{className:"text-[10px] font-medium",children:"Year 11 - IGCSE"}),jsxRuntimeExports.jsx("p",{className:"text-[9px] text-primary",children:"Head of Database Dev"})]})]})]}),jsxRuntimeExports.jsx("div",{className:"glass-card-strong rounded-2xl p-3",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{className:"text-lg",children:""}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-xs font-medium",children:"London, UK"}),jsxRuntimeExports.jsx("p",{className:"text-[10px] text-muted-foreground",children:"English (Native), French (10+ yrs)"})]})]})})]})]}):jsxRuntimeExports.jsxs("div",{className:"h-screen w-screen overflow-hidden relative no-scrollbar",style:{backgroundImage:`url(${backgroundImage})`,backgroundSize:"cover",backgroundPosition:"center",backgroundAttachment:"fixed"},children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-black/50"}),jsxRuntimeExports.jsxs("div",{className:"relative z-10 h-full p-4 md:p-6 flex flex-col lg:flex-row gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"w-full lg:w-80 flex flex-col gap-4 shrink-0",children:[jsxRuntimeExports.jsxs("div",{className:"glass-card-strong rounded-2xl p-5 flex-shrink-0",children:[jsxRuntimeExports.jsxs("div",{className:"relative -mx-5 -mt-5 mb-4 h-24 overflow-hidden rounded-t-2xl",children:[jsxRuntimeExports.jsx("img",{src:robloxBanner,alt:"Banner",className:"w-full h-full object-cover"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 -mt-12 relative z-10",children:[jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("img",{src:nt.avatar_url||bt(),alt:"Avatar",className:"w-16 h-16 rounded-full border-4 border-black/50 shadow-lg",onError:gt=>{gt.currentTarget.src=bt()}}),jsxRuntimeExports.jsx("div",{className:"absolute bottom-0 right-0 w-4 h-4 rounded-full border-2 border-black status-online"})]}),jsxRuntimeExports.jsxs("div",{className:"pt-8",children:[jsxRuntimeExports.jsx("h1",{className:"text-xl font-bold text-foreground",children:nt.display_name||"David"}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-muted-foreground",children:["@",nt.username||"Realice"]})]})]}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-muted-foreground mt-3 italic",children:['"',nt.custom_status||"Life to no Limits",'"']}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-3 gap-2 mt-4 text-center",children:[jsxRuntimeExports.jsxs("div",{className:"glass-card rounded-lg p-2",children:[jsxRuntimeExports.jsx("p",{className:"text-lg font-bold gradient-purple",children:s}),jsxRuntimeExports.jsx("p",{className:"text-[10px] text-muted-foreground",children:"Years"})]}),jsxRuntimeExports.jsxs("div",{className:"glass-card rounded-lg p-2",children:[jsxRuntimeExports.jsx("p",{className:"text-lg font-bold gradient-purple",children:"5+"}),jsxRuntimeExports.jsx("p",{className:"text-[10px] text-muted-foreground",children:"Projects"})]}),jsxRuntimeExports.jsxs("div",{className:"glass-card rounded-lg p-2",children:[jsxRuntimeExports.jsx("p",{className:"text-lg font-bold gradient-purple",children:"Y11"}),jsxRuntimeExports.jsx("p",{className:"text-[10px] text-muted-foreground",children:"Student"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"glass-card-strong rounded-2xl p-4 flex-shrink-0",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[jsxRuntimeExports.jsx("svg",{className:"w-5 h-5 text-[#5865F2]",viewBox:"0 0 24 24",fill:"currentColor",children:jsxRuntimeExports.jsx("path",{d:"M20.317 4.37a19.791 19.791 0 0 0-4.885-1.515.074.074 0 0 0-.079.037c-.21.375-.444.864-.608 1.25a18.27 18.27 0 0 0-5.487 0 12.64 12.64 0 0 0-.617-1.25.077.077 0 0 0-.079-.037A19.736 19.736 0 0 0 3.677 4.37a.07.07 0 0 0-.032.027C.533 9.046-.32 13.58.099 18.057a.082.082 0 0 0 .031.057 19.9 19.9 0 0 0 5.993 3.03.078.078 0 0 0 .084-.028 14.09 14.09 0 0 0 1.226-1.994.076.076 0 0 0-.041-.106 13.107 13.107 0 0 1-1.872-.892.077.077 0 0 1-.008-.128 10.2 10.2 0 0 0 .372-.292.074.074 0 0 1 .077-.01c3.928 1.793 8.18 1.793 12.062 0a.074.074 0 0 1 .078.01c.12.098.246.198.373.292a.077.077 0 0 1-.006.127 12.299 12.299 0 0 1-1.873.892.077.077 0 0 0-.041.107c.36.698.772 1.362 1.225 1.993a.076.076 0 0 0 .084.028 19.839 19.839 0 0 0 6.002-3.03.077.077 0 0 0 .032-.054c.5-5.177-.838-9.674-3.549-13.66a.061.061 0 0 0-.031-.03zM8.02 15.33c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.956-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.956 2.418-2.157 2.418zm7.975 0c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.955-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.946 2.418-2.157 2.418z"})}),jsxRuntimeExports.jsx("span",{className:"text-sm font-medium",children:"Discord"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("img",{src:nt.avatar_url||bt(),alt:"Discord Avatar",className:"w-10 h-10 rounded-full",onError:gt=>{gt.currentTarget.src=bt()}}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium",children:nt.display_name||"David"}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-muted-foreground",children:["@",nt.username||"Realice"]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"glass-card-strong rounded-2xl p-4 flex-1 min-h-0",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[jsxRuntimeExports.jsx("img",{src:"https://cdn.simpleicons.org/roblox/white",alt:"Roblox",className:"w-5 h-5"}),jsxRuntimeExports.jsx("span",{className:"text-sm font-medium",children:"Roblox"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[jsxRuntimeExports.jsx("img",{src:bt(),alt:"Roblox Avatar",className:"w-10 h-10 rounded-full"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium",children:ot.display_name||"David"}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-muted-foreground",children:["@",ot.username||"Realice"]})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-3 gap-2 text-center text-xs",children:[jsxRuntimeExports.jsxs("div",{className:"glass-card rounded p-2",children:[jsxRuntimeExports.jsx("p",{className:"font-bold",children:ot.friends_count||0}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground",children:"Friends"})]}),jsxRuntimeExports.jsxs("div",{className:"glass-card rounded p-2",children:[jsxRuntimeExports.jsx("p",{className:"font-bold",children:ot.followers_count||0}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground",children:"Followers"})]}),jsxRuntimeExports.jsxs("div",{className:"glass-card rounded p-2",children:[jsxRuntimeExports.jsx("p",{className:"font-bold",children:ot.following_count||0}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground",children:"Following"})]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex-1 flex flex-col gap-4 min-w-0 overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center justify-end gap-4",children:jsxRuntimeExports.jsx(AudioPlayer,{src:"/music/smooth-operator.mp3",title:"Smooth Operator",artist:"Sade",className:"max-w-md w-full"})}),jsxRuntimeExports.jsxs("div",{className:"glass-card-strong rounded-2xl p-6 text-center lg:text-left",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl lg:text-4xl font-bold mb-2",children:jsxRuntimeExports.jsx("span",{className:"life-limits-gradient",children:"Life to no Limits"})}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground text-sm max-w-xl",children:"Passionate developer specializing in Python, Discord bots, and full-stack web development. Currently in Year 11, preparing for IGCSE examinations."}),jsxRuntimeExports.jsx("div",{className:"flex items-center gap-3 mt-4 justify-center lg:justify-start",children:yt.map((gt,dt)=>jsxRuntimeExports.jsx("a",{href:gt.url,target:"_blank",rel:"noopener noreferrer",className:"glass-card connection-icon rounded-full p-3 hover-glow",style:{"--glow-color":gt.color},children:gt.icon},dt))})]}),jsxRuntimeExports.jsxs("div",{className:"flex-1 grid grid-cols-1 lg:grid-cols-2 gap-4 min-h-0 overflow-hidden",children:[jsxRuntimeExports.jsxs("div",{className:"glass-card-strong rounded-2xl p-4 overflow-hidden flex flex-col",children:[jsxRuntimeExports.jsxs("h3",{className:"text-sm font-semibold mb-3 flex items-center gap-2",children:[jsxRuntimeExports.jsx(Code,{className:"w-4 h-4 text-primary"}),"Technologies Progress"]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"icon",className:"w-8 h-8 rounded-full glass-card shrink-0",onClick:at,children:jsxRuntimeExports.jsx(ChevronLeft,{className:"w-4 h-4"})}),jsxRuntimeExports.jsx("div",{className:"flex-1 space-y-3",children:pt.map(gt=>jsxRuntimeExports.jsxs("div",{className:"glass-card rounded-xl p-3 hover-glow transition-all",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("img",{src:gt.icon,alt:gt.name,className:"w-5 h-5",onError:dt=>dt.currentTarget.style.display="none"}),jsxRuntimeExports.jsx("span",{className:"text-sm font-medium",children:gt.name})]}),jsxRuntimeExports.jsxs("span",{className:"text-sm text-primary font-bold",children:[gt.progress,"%"]})]}),jsxRuntimeExports.jsx("div",{className:"h-2.5 bg-muted rounded-full overflow-hidden",children:jsxRuntimeExports.jsx("div",{className:"h-full bg-gradient-to-r from-primary to-primary/60 rounded-full transition-all duration-500",style:{width:`${gt.progress}%`}})})]},gt.name))}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"icon",className:"w-8 h-8 rounded-full glass-card shrink-0",onClick:ht,children:jsxRuntimeExports.jsx(ChevronRight,{className:"w-4 h-4"})})]})]}),jsxRuntimeExports.jsxs("div",{className:"glass-card-strong rounded-2xl p-4 overflow-hidden flex flex-col",children:[jsxRuntimeExports.jsxs("h3",{className:"text-sm font-semibold mb-3 flex items-center gap-2",children:[jsxRuntimeExports.jsx(FolderOpen,{className:"w-4 h-4 text-primary"}),"Projects"]}),jsxRuntimeExports.jsx("div",{className:"space-y-2 overflow-y-auto no-scrollbar flex-1",children:lt.map((gt,dt)=>jsxRuntimeExports.jsx("div",{className:"glass-card rounded-xl p-3 hover-glow transition-all",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start justify-between gap-2",children:[jsxRuntimeExports.jsxs("div",{className:"min-w-0",children:[gt.link?jsxRuntimeExports.jsxs("a",{href:gt.link,target:"_blank",rel:"noopener noreferrer",className:"text-sm font-medium hover:text-primary transition-colors flex items-center gap-1",children:[gt.title,jsxRuntimeExports.jsx(ExternalLink,{className:"w-3 h-3"})]}):jsxRuntimeExports.jsx("p",{className:"text-sm font-medium",children:gt.title}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground truncate",children:gt.description})]}),jsxRuntimeExports.jsx(Badge,{variant:gt.status==="Active"?"default":"secondary",className:"text-[10px] shrink-0",children:gt.status})]})},dt))})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"hidden xl:flex w-72 flex-col gap-4 shrink-0",children:[jsxRuntimeExports.jsxs("div",{className:"glass-card-strong rounded-2xl p-4",children:[jsxRuntimeExports.jsxs("h3",{className:"text-sm font-semibold mb-3 flex items-center gap-2",children:[jsxRuntimeExports.jsx(Award,{className:"w-4 h-4 text-primary"}),"Awards"]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsxs("div",{className:"glass-card rounded-lg p-3",children:[jsxRuntimeExports.jsx("p",{className:"text-xs font-medium",children:"CAIE Award"}),jsxRuntimeExports.jsx("p",{className:"text-[10px] text-muted-foreground",children:"Information Communication & Technology"})]}),jsxRuntimeExports.jsxs("div",{className:"glass-card rounded-lg p-3",children:[jsxRuntimeExports.jsx("p",{className:"text-xs font-medium",children:"CAIE Award"}),jsxRuntimeExports.jsx("p",{className:"text-[10px] text-muted-foreground",children:"English Language"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"glass-card-strong rounded-2xl p-4 flex-1",children:[jsxRuntimeExports.jsxs("h3",{className:"text-sm font-semibold mb-3 flex items-center gap-2",children:[jsxRuntimeExports.jsx(GraduationCap,{className:"w-4 h-4 text-primary"}),"Education"]}),jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsxs("div",{className:"glass-card rounded-lg p-3",children:[jsxRuntimeExports.jsx("p",{className:"text-xs font-medium",children:"High School - Year 11"}),jsxRuntimeExports.jsx("p",{className:"text-[10px] text-muted-foreground",children:"Preparing for IGCSE"}),jsxRuntimeExports.jsx("p",{className:"text-[10px] text-primary mt-1",children:"Head of Database Development"})]}),jsxRuntimeExports.jsxs("div",{className:"glass-card rounded-lg p-3",children:[jsxRuntimeExports.jsx("p",{className:"text-xs font-medium",children:"Future Studies"}),jsxRuntimeExports.jsx("p",{className:"text-[10px] text-muted-foreground",children:"Software Engineering @ University of Kentucky"})]})]})]}),jsxRuntimeExports.jsx("div",{className:"glass-card-strong rounded-2xl p-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[jsxRuntimeExports.jsx("span",{className:"text-xl",children:""}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-xs font-medium",children:"London, UK"}),jsxRuntimeExports.jsx("p",{className:"text-[10px] text-muted-foreground",children:"English (Native), French (10+ yrs)"})]})]})})]})]})]})},Index=()=>jsxRuntimeExports.jsx(Portfolio,{}),NotFound=()=>{const a=useLocation();return reactExports.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",a.pathname)},[a.pathname]),jsxRuntimeExports.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),jsxRuntimeExports.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),jsxRuntimeExports.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},queryClient=new QueryClient,REPO_BASENAME="/Portfolio/",App=()=>jsxRuntimeExports.jsx(QueryClientProvider,{client:queryClient,children:jsxRuntimeExports.jsxs(TooltipProvider,{children:[jsxRuntimeExports.jsx(Toaster$1,{}),jsxRuntimeExports.jsx(Toaster,{}),jsxRuntimeExports.jsx(BrowserRouter,{basename:REPO_BASENAME,children:jsxRuntimeExports.jsxs(Routes,{children:[jsxRuntimeExports.jsx(Route,{path:"/",element:jsxRuntimeExports.jsx(Index,{})}),jsxRuntimeExports.jsx(Route,{path:"*",element:jsxRuntimeExports.jsx(NotFound,{})})]})})]})});createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(App,{}));
